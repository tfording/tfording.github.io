if (self.CavalryLogger) { CavalryLogger.start_js(["rT8pN"]); }

__d("EventWatchStatusSelector",["csx","DOM","DOMQuery","Event","CSS"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(j){"use strict";__p&&__p();this.$EventWatchStatusSelector1=j.primaryButton;this.$EventWatchStatusSelector2=j.menuElement;this.$EventWatchStatusSelector3=j.initialStatus;this.$EventWatchStatusSelector4=j.canViewerJoin;this.$EventWatchStatusSelector5=j.isPublicEvent;var k=j.menuInstance.getTriggerElem();this.$EventWatchStatusSelector6=c("DOMQuery").find(k,"._33n");this.$EventWatchStatusSelector7=c("DOMQuery").find(k,"._33o");this.$EventWatchStatusSelector8=c("DOMQuery").find(k,"._1gf3");c("Event").listen(j.primaryButton,"click",function(){this.$EventWatchStatusSelector3=j.primaryStatus;this.$EventWatchStatusSelector9();this.$EventWatchStatusSelector10()}.bind(this));j.menuInstance.subscribe("setMenu",function(){__p&&__p();var l=j.menuInstance.getMenu().getRoot();this.$EventWatchStatusSelector11=c("DOMQuery").find(l,"._33q");this.$EventWatchStatusSelector12=c("DOMQuery").find(l,"._33u");this.$EventWatchStatusSelector13=c("DOMQuery").find(l,"._33v");this.$EventWatchStatusSelector14=c("DOMQuery").find(l,"._33z");this.$EventWatchStatusSelector15=c("DOMQuery").find(l,"._1gf5");this.$EventWatchStatusSelector16=c("DOMQuery").find(l,"._1gfd");this.$EventWatchStatusSelector17=c("DOMQuery").find(l,"._1gfe");this.$EventWatchStatusSelector18=c("DOMQuery").scry(l,"._33-")[0];this.$EventWatchStatusSelector19=c("DOMQuery").scry(l,"._33_")[0];this.$EventWatchStatusSelector10();j.menuInstance.getMenu().subscribe("itemclick",function(m,n){var o=n.item.getRoot().getAttribute("data-string");if(o==="watched-selected"||o==="going-selected"||o==="declined-selected")return;this.$EventWatchStatusSelector3=o;setTimeout(this.$EventWatchStatusSelector10.bind(this));if(this.$EventWatchStatusSelector3==="unwatched")this.$EventWatchStatusSelector20()}.bind(this))}.bind(this))}i.prototype.$EventWatchStatusSelector20=function(){"use strict";c("DOM").insertAfter(this.$EventWatchStatusSelector2,this.$EventWatchStatusSelector1);c("DOM").remove(this.$EventWatchStatusSelector2)};i.prototype.$EventWatchStatusSelector9=function(){"use strict";c("DOM").insertAfter(this.$EventWatchStatusSelector1,this.$EventWatchStatusSelector2);c("DOM").remove(this.$EventWatchStatusSelector1)};i.prototype.$EventWatchStatusSelector10=function(){"use strict";__p&&__p();if(this.$EventWatchStatusSelector6)c("CSS").conditionShow(this.$EventWatchStatusSelector6,this.$EventWatchStatusSelector3==="going");if(this.$EventWatchStatusSelector7)c("CSS").conditionShow(this.$EventWatchStatusSelector7,this.$EventWatchStatusSelector3==="watched");if(this.$EventWatchStatusSelector8)c("CSS").conditionShow(this.$EventWatchStatusSelector8,this.$EventWatchStatusSelector3==="declined");if(this.$EventWatchStatusSelector11)c("CSS").conditionShow(this.$EventWatchStatusSelector11,this.$EventWatchStatusSelector3!=="going"&&this.$EventWatchStatusSelector4);if(this.$EventWatchStatusSelector12)c("CSS").conditionShow(this.$EventWatchStatusSelector12,this.$EventWatchStatusSelector3==="going");if(this.$EventWatchStatusSelector13)c("CSS").conditionShow(this.$EventWatchStatusSelector13,this.$EventWatchStatusSelector3!=="watched");if(this.$EventWatchStatusSelector14)c("CSS").conditionShow(this.$EventWatchStatusSelector14,this.$EventWatchStatusSelector3==="watched");if(this.$EventWatchStatusSelector15)c("CSS").conditionShow(this.$EventWatchStatusSelector15,this.$EventWatchStatusSelector3!=="declined"&&!this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector16)c("CSS").conditionShow(this.$EventWatchStatusSelector16,this.$EventWatchStatusSelector3==="declined"&&!this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector17)c("CSS").conditionShow(this.$EventWatchStatusSelector17,this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector18)c("CSS").conditionShow(this.$EventWatchStatusSelector18,this.$EventWatchStatusSelector3==="going"&&this.$EventWatchStatusSelector5);if(this.$EventWatchStatusSelector19)c("CSS").conditionShow(this.$EventWatchStatusSelector19,this.$EventWatchStatusSelector3==="watched"&&this.$EventWatchStatusSelector5)};f.exports=i}),null);
__d("legacy:UIPagelet",["UIPagelet"],(function a(b,c,d,e,f,g){b.UIPagelet=c("UIPagelet")}),3);
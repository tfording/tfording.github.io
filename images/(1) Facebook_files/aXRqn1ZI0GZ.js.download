if (self.CavalryLogger) { CavalryLogger.start_js(["iFYH\/"]); }

__d("CommerceSelfServeUI",[],(function a(b,c,d,e,f,g){f.exports={MIN_SHIPPING_OPTIONS:1,MAX_SHIPPING_OPTIONS:5}}),null);
__d("PagesManagerProductToolsConstants",[],(function a(b,c,d,e,f,g){f.exports={MAX_FEATURED_ITEM_COUNT:10}}),null);
__d("AudienceManagerEngagementVideoSelectionError.react",["cx","ix","CenteredContainer.react","Image.react","Link.react","React","SUIBusinessTheme","SUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;j=babelHelpers.inherits(l,c("React").Component);k=j&&j.prototype;function l(m){k.constructor.call(this,m)}l.prototype.$AudienceManagerEngagementVideoSelectionError1=function(){if(!this.props.subtitleLabel)return null;return c("React").createElement(c("SUIText.react"),{display:"block",shade:"light",theme:c("SUIBusinessTheme")},this.props.subtitleLabel)};l.prototype.$AudienceManagerEngagementVideoSelectionError2=function(){if(!this.props.actionLabel)return null;if(!this.props.onActionClick)return c("React").createElement(c("SUIText.react"),{display:"block",shade:"light",theme:c("SUIBusinessTheme")},this.props.actionLabel);return c("React").createElement(c("Link.react"),{onClick:this.props.onActionClick},c("React").createElement("div",{display:"block"},this.props.actionLabel))};l.prototype.render=function(){return c("React").createElement(c("CenteredContainer.react"),{horizontal:true,vertical:true},c("React").createElement(c("Image.react"),{src:i("76143")}),c("React").createElement(c("SUIText.react"),{className:"_3-8x",display:"block",shade:"light",theme:c("SUIBusinessTheme"),weight:"bold"},this.props.mainLabel),this.$AudienceManagerEngagementVideoSelectionError1(),this.$AudienceManagerEngagementVideoSelectionError2())};f.exports=l}),null);
__d("AdsNumberInput.react",["cx","fbt","AdsTextInput.react","React","intlNumUtils","joinClasses","mergeDeep"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={focused:false,formatError:false},this.$AdsNumberInput1=function(){this.setState({focused:false,formatError:false})}.bind(this),this.$AdsNumberInput2=function(s){var t=this.$AdsNumberInput5(s);if(t>=0)s=s.substring(0,t);var u=c("intlNumUtils").parseNumber(s);if(u!=null)this.props.onChange(u)}.bind(this),this.$AdsNumberInput3=function(){this.setState({focused:true})}.bind(this),this.$AdsNumberInput4=function(s){var t=this.$AdsNumberInput5(s),u=t>=0;this.setState({formatError:u})}.bind(this),this.$AdsNumberInput5=function(s){return s.search(/[^0-9\,\.\ ]/)},o}m.prototype.render=function(){__p&&__p();var n=this.props.errors||{};if(this.state.formatError)n=c("mergeDeep")(n,{NON_NUMERIC_INPUT:i._("This input can only contain numbers")});var o=this.props,p=o.value,q=babelHelpers.objectWithoutProperties(o,["value"]);if(p!=null)p=c("intlNumUtils").formatNumber(p);if(p&&!this.state.focused){var r=this.props.prefix||"",s=this.props.suffix||"";p=r+p+s}var t="_x62";return c("React").createElement(c("AdsTextInput.react"),babelHelpers["extends"]({},q,{className:c("joinClasses")(this.props.className,t),errors:n,value:p,onBlur:this.$AdsNumberInput1,onChange:this.$AdsNumberInput2,onFocus:this.$AdsNumberInput3,onImmediateChange:this.$AdsNumberInput4}))};m.propTypes={errors:l.object,prefix:l.string,suffix:l.string,value:l.number,onChange:l.func.isRequired};f.exports=m}),null);
__d("CommerceCurrencyInputUtils",["Currency"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=100,i={convertPEFormatToPBFormat:function j(k,l){var m=k;if(m){var n=c("Currency").getOffset(l);m=n>0?m*n/h:m}return m},convertPBFormatToPEFormat:function j(k,l){var m=k;if(m){var n=c("Currency").getOffset(l);m=n>0?m*h/n:m}return m}};f.exports=i}),null);
__d("CommerceErrorNotice.react",["React","XUINotice.react","XUIText.react"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;k.prototype.render=function(){"use strict";__p&&__p();var l=this.props.error;if(!l)return c("React").createElement("span",null);var m=null;if(l.__html)m=c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block",dangerouslySetInnerHTML:l});else m=c("React").createElement(c("XUIText.react"),{size:"meta1",display:"block"},l);var n=this.props,o=n.className,p=n.use,q=babelHelpers.objectWithoutProperties(n,["className","use"]);return c("React").createElement(c("XUINotice.react"),babelHelpers["extends"]({use:p||"warn",className:o},q),m)};function k(){"use strict";h.apply(this,arguments)}k.propTypes={error:j.oneOfType([j.string,j.object])};k.defaultProps={error:null};f.exports=k}),null);
__d("PageCommerceStripeRedirectConfirmationDialog.react",["cx","fbt","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=500;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={dialogShown:false},this.show=function(){this.setState({dialogShown:true})}.bind(this),this.hide=function(){this.setState({dialogShown:false})}.bind(this),p}n.prototype.render=function(){if(!this.state.dialogShown)return null;return c("React").createElement(c("XUIDialog.react"),{width:m,onToggle:function(o){return this.setState({dialogShown:o})}.bind(this),shown:this.state.dialogShown},c("React").createElement(c("XUIDialogHeader.react"),null,c("React").createElement(c("XUIDialogHeaderTitle.react"),null,i._("You Have Pending Orders"))),c("React").createElement(c("XUIDialogBody.react"),{className:"_2ph_"},c("React").createElement(c("XUIText.react"),null,i._("Your shop has orders that haven't been shipped yet. If you connect to a different Stripe account, you'll no longer be able to receive payment for those orders. Consider completing and shipping your pending orders before changing the Stripe account for your shop."))),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:i._("Change Stripe Account"),use:"default",onClick:this.props.onContinue}),c("React").createElement(c("XUIDialogButton.react"),{label:i._("Cancel"),use:"confirm",onClick:this.hide})))};n.propTypes={onContinue:l.func.isRequired};f.exports=n}),null);
__d("XCommerceSelfServeHasPendingOrdersQueryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/self-serve/has-pending-orders/",{page_id:{type:"Int",required:true}})}),null);
__d("CommerceStripeConnectLink.react",["cx","AsyncRequest","DOM","DTSG","Link.react","PageCommerceStripeRedirectConfirmationDialog.react","React","ReactDOM","XStripeOnboardingController","XCommerceSelfServeHasPendingOrdersQueryController","XUIText.react","PaymentsTypeEnum"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$CommerceStripeConnectLink1=function(r){var s=c("XCommerceSelfServeHasPendingOrdersQueryController").getURIBuilder().setInt("page_id",this.props.pageID).getURI();new(c("AsyncRequest"))().setURI(s).setHandler(function(t){var u=t.payload.has_pending_orders;if(u){var v=c("ReactDOM").render(c("React").createElement(c("PageCommerceStripeRedirectConfirmationDialog.react"),{onContinue:function w(){return r()}}),c("DOM").create("div"));v.show()}else r()}).send()}.bind(this),n}l.prototype.render=function(){"use strict";var m=c("XStripeOnboardingController").getURIBuilder().setInt("page_id",this.props.pageID).setEnum("payment_type",c("PaymentsTypeEnum").BOF).getURI();return c("React").createElement("span",null,c("React").createElement("form",{className:"hidden_elem",action:m,method:"post",ref:"connectStripeForm",target:"_blank"},c("React").createElement("input",{type:"hidden",name:"fb_dtsg",value:c("DTSG").getToken()})),c("React").createElement(c("Link.react"),{onClick:this.$CommerceStripeConnectLink1.bind(this,function(){return this.refs.connectStripeForm.submit()}.bind(this))},c("React").createElement(c("XUIText.react"),{size:"meta1"},this.props.content)))};l.propTypes={confirmationURI:k.string,content:k.node.isRequired,pageID:k.string.isRequired};f.exports=l}),null);
__d("CommerceExceptionHandlerMixin.react",["fbt","AsyncRequest","CommerceErrorCode","CommerceErrorNotice.react","CommerceStripeConnectLink.react","React","XCommerceResponse"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={getInitialState:function j(){return{xResponse:null}},sendAsync:function j(k,l,m,n){new(c("AsyncRequest"))(k).setData(l||{}).setHandler(function(o){var p=new(c("XCommerceResponse"))(o.payload);this.setState({xResponse:p});if(!p.hasErrors())m&&m(o);else n&&n(o)}.bind(this)).setErrorHandler(function(o){this.setGeneralError(c("CommerceErrorCode").COMMERCE__GENERIC_EXCEPTION);n&&n(o)}.bind(this)).send()},setGeneralError:function j(k){var l=this.state.xResponse?this.state.xResponse:new(c("XCommerceResponse"))({});l.setGeneralError(k);this.setState({xResponse:l})},addFieldError:function j(k,l){var m=this.state.xResponse?this.state.xResponse:new(c("XCommerceResponse"))({});m.addFieldError(k,l);this.setState({xResponse:m})},_getFullErrorMessage:function j(k){if(!k)return null;if(k.code.toString()===c("CommerceErrorCode").COMMERCE__STRIPE_DEFERRED_ACCOUNT_EMAIL_USED.code.toString()){var l=h._("connect your shop with an existing account");return h._("A Stripe account with this email address already exists. Please use a different email address or {connect to a different Stripe account link}.",[h.param("connect to a different Stripe account link",c("React").createElement(c("CommerceStripeConnectLink.react"),{pageID:this.props.pageID,content:l}))])}return k.title+": "+k.message},hasErrors:function j(){return!!this.state.xResponse&&this.state.xResponse.hasErrors()},hasGeneralError:function j(){return!!this.state.xResponse&&this.state.xResponse.hasGeneralError()},hasFieldErrors:function j(){return!!this.state.xResponse&&this.state.xResponse.hasFieldErrors()},renderAllErrors:function j(){__p&&__p();var k=this.state.xResponse,l=[];if(this.hasFieldErrors()){var m=k.getFieldErrors();m.forEach(function(o){return l.push(o)})}if(this.hasGeneralError())l.push(k.getGeneralError());var n=l.map(function(o){return this._getFullErrorMessage(o)}.bind(this));return this.renderErrorMessages(n)},renderGeneralError:function j(){if(this.hasGeneralError())return this.renderErrorMessages([this.getGeneralErrorMessage()]);else return null},renderErrorMessages:function j(k){if(k.length===0)return null;else{var l=c("React").createElement("ul",null,k.map(function(m,n){return c("React").createElement("li",{key:n},m)}));return c("React").createElement(c("CommerceErrorNotice.react"),{error:l})}},getGeneralErrorMessage:function j(){if(this.hasGeneralError()){var k=this.state.xResponse.getGeneralError();return this._getFullErrorMessage(k)}else return null},getFieldErrorMessage:function j(k){if(!this.hasFieldErrors())return null;return this._getFullErrorMessage(this.state.xResponse.getFieldErrors()[k])}};f.exports=i}),null);
__d("BOFSellerLogger",["BanzaiLogger","Event"],(function a(b,c,d,e,f,g){"use strict";var h="BOFSellerLoggerConfig",i={log:function j(k,l,m){m.event=k;m.seller_profile_id=l;c("BanzaiLogger").log(h,m)},initClickListener:function j(k,l,m,n){c("Event").listen(k,"click",function(){return this.log(l,m,n)}.bind(this))}};f.exports=i}),null);
__d("ProductTaggingTranslations",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={getAddProductTitle:function j(k){return k?h._("Add Product"):h._("New Product")},getAddProductSubtitle:function j(k){return k?h._("Tag and add to your shop."):h._("Tag a new product in your posts.")}};f.exports=i}),null);
__d("CommerceSelfServeProductTaxRatesTable.react",["ix","cx","fbt","invariant","xuiglyph","AdsNumberInput.react","CommerceUSAStates","Image.react","React","SUIAtlasTheme","SUICheckboxInput.react","SUITextInput.react","XUIButton.react","XUITable.react"],(function a(b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n,o=c("React").PropTypes;m=babelHelpers.inherits(p,c("React").Component);n=m&&m.prototype;function p(){__p&&__p();var q,r;"use strict";for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=n.constructor).call.apply(q,[this].concat(t)),this.state={newRateLocationError:false,newTaxRateLocation:"",newTaxRatePercentage:0,newIsAppliedToShipping:false,showNewRateRow:false},this.$CommerceSelfServeProductTaxRatesTable1=function(v,w){return c("React").createElement("tr",{key:"tax_rate_"+v},c("React").createElement("td",null,c("React").createElement("span",null,v)),c("React").createElement("td",null,c("React").createElement(c("AdsNumberInput.react"),{value:this.$CommerceSelfServeProductTaxRatesTable3(w.tax_rate,3),suffix:"%",className:"_2263",onChange:function(x){if(x!==null){x=this.$CommerceSelfServeProductTaxRatesTable4(x,3);this.$CommerceSelfServeProductTaxRatesTable5(v,x,w.is_applied_to_shipping)}}.bind(this)})),c("React").createElement("td",null,c("React").createElement(c("SUICheckboxInput.react"),{label:w.is_applied_to_shipping?j._("Yes"):j._("No"),onChange:function(x){this.$CommerceSelfServeProductTaxRatesTable5(v,w.tax_rate,x)}.bind(this),theme:c("SUIAtlasTheme"),value:w.is_applied_to_shipping})),c("React").createElement("td",{className:"_5rpt"},c("React").createElement(c("Image.react"),{className:"_ksy _3-9b",src:h("88982"),onClick:function(){this.$CommerceSelfServeProductTaxRatesTable6(v)}.bind(this)})))}.bind(this),this.$CommerceSelfServeProductTaxRatesTable2=function(){return c("React").createElement("tr",{key:"new_tax_rate_row"},c("React").createElement("td",null,c("React").createElement(c("SUITextInput.react"),{className:"_2263",onChange:function(v){this.setState({newTaxRateLocation:v.toUpperCase()})}.bind(this),theme:c("SUIAtlasTheme"),value:this.state.newTaxRateLocation})),c("React").createElement("td",null,c("React").createElement(c("AdsNumberInput.react"),{value:this.$CommerceSelfServeProductTaxRatesTable3(this.state.newTaxRatePercentage,3),suffix:"%",className:"_2263",onChange:function(v){if(v!==null){v=this.$CommerceSelfServeProductTaxRatesTable4(v,3);this.setState({newTaxRatePercentage:v})}}.bind(this)})),c("React").createElement("td",null,c("React").createElement(c("SUICheckboxInput.react"),{label:this.state.newIsAppliedToShipping?j._("Yes"):j._("No"),onChange:function(v){this.setState({newIsAppliedToShipping:v})}.bind(this),theme:c("SUIAtlasTheme"),value:this.state.newIsAppliedToShipping})),c("React").createElement("td",{className:"_5rpt"},c("React").createElement(c("XUIButton.react"),{label:j._("Confirm"),use:"confirm",disabled:!this.$CommerceSelfServeProductTaxRatesTable7(this.state.newTaxRateLocation),onClick:this.$CommerceSelfServeProductTaxRatesTable8})))}.bind(this),this.$CommerceSelfServeProductTaxRatesTable6=function(v){var w=this.$CommerceSelfServeProductTaxRatesTable9(v),x=this.props.taxRates;delete x[w][v];this.props.onChangeTaxRates(x)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable5=function(v,w,x){var y=this.$CommerceSelfServeProductTaxRatesTable9(v),z=this.props.taxRates;z[y][v]={tax_rate:w,is_applied_to_shipping:x};this.props.onChangeTaxRates(z)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable8=function(){var v=this.state.newTaxRateLocation;this.$CommerceSelfServeProductTaxRatesTable5(v,this.state.newTaxRatePercentage,this.state.newIsAppliedToShipping);this.setState({newTaxRatePercentage:0,newTaxRateLocation:"",newIsAppliedToShipping:false})}.bind(this),this.$CommerceSelfServeProductTaxRatesTable9=function(v){this.$CommerceSelfServeProductTaxRatesTable7(v)||k(0);if(this.$CommerceSelfServeProductTaxRatesTable10(v))return"zip_code";else return"state_abbr"}.bind(this),this.$CommerceSelfServeProductTaxRatesTable3=function(v,w){var x=Math.round(v*Math.pow(10,w+2));return x/Math.pow(10,w)},this.$CommerceSelfServeProductTaxRatesTable4=function(v,w){var x=Math.round(v*Math.pow(10,w));return x/Math.pow(10,w+2)},this.$CommerceSelfServeProductTaxRatesTable7=function(v){return this.$CommerceSelfServeProductTaxRatesTable10(v)||this.$CommerceSelfServeProductTaxRatesTable11(v)}.bind(this),this.$CommerceSelfServeProductTaxRatesTable10=function(v){var w=/^[0-9]{5}$/;return v.match(w)!==null},this.$CommerceSelfServeProductTaxRatesTable11=function(v){var w="STATE_";return w+v in c("CommerceUSAStates")},r}p.prototype.render=function(){"use strict";var q=[];for(var r in this.props.taxRates){var s=this.props.taxRates[r];for(var t in s)q[q.length]=this.$CommerceSelfServeProductTaxRatesTable1(t,s[t])}q[q.length]=this.$CommerceSelfServeProductTaxRatesTable2();return c("React").createElement("div",null,c("React").createElement(c("XUITable.react"),{outerBorder:true},c("React").createElement("thead",null,c("React").createElement("tr",null,c("React").createElement("th",null,j._("Location")),c("React").createElement("th",null,j._("Tax Rate")),c("React").createElement("th",null,j._("Apply tax to shipping cost?")),c("React").createElement("th",null))),c("React").createElement("tbody",null,q)))};p.propTypes={taxRates:o.object.isRequired,onChangeTaxRates:o.func.isRequired};f.exports=p}),null);
__d("FBNumberInput.react",["Input","React","intlNumUtils","joinClasses","debounce"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=200,k=c("React").PropTypes;h=babelHelpers.inherits(l,c("React").Component);i=h&&h.prototype;function l(){"use strict";__p&&__p();i.constructor.call(this);this.$FBNumberInput1=c("debounce")(function(m){var n=this.$FBNumberInput2(c("Input").getValue(m));if(n===this.$FBNumberInput3(n))this.props.onValueChange(n)}.bind(this),j);this.$FBNumberInput4=function(m){return this.props.formatNumber?c("intlNumUtils").formatNumberWithThousandDelimiters(m,0):""+m}.bind(this);this.$FBNumberInput2=function(m){var n=c("intlNumUtils").parseNumber(m);if(this.props.onlyIntegers)n=Math.trunc(n);return n}.bind(this);this.$FBNumberInput3=function(m){__p&&__p();if(m!==null){m=this.props.nonnegative?Math.abs(m):m;if(this.props.minValue!=null&&m<this.props.minValue)m=this.props.minValue;else if(this.props.maxValue!=null&&m>this.props.maxValue)m=this.props.maxValue}else if(this.props.defaultValue!=null)m=this.props.defaultValue;return m}.bind(this);this.$FBNumberInput5=function(event){this.setState({focused:false});var m=this.$FBNumberInput3(this.$FBNumberInput2(c("Input").getValue(event.target))),n=m!==null?this.$FBNumberInput4(m):"";c("Input").setValue(event.target,n);if(this.props.triggerCallbackOnChange)this.$FBNumberInput1.reset();this.props.onValueChange(m)}.bind(this);this.$FBNumberInput6=function(event){this.setState({focused:true})}.bind(this);this.$FBNumberInput7=function(event){this.$FBNumberInput1(event.target)}.bind(this);this.state={focused:false}}l.prototype.render=function(){"use strict";var m=this.props,n=m.value,o=m.className,p=babelHelpers.objectWithoutProperties(m,["value","className"]);if(n)n=this.$FBNumberInput4(n);return c("React").createElement("input",babelHelpers["extends"]({},p,{className:c("joinClasses")(o,"inputtext"),type:"text",defaultValue:n,value:this.state.focused?undefined:n,onBlur:this.$FBNumberInput5,onFocus:this.$FBNumberInput6,onChange:this.props.triggerCallbackOnChange?this.$FBNumberInput7:p.onChange}))};l.propTypes={nonnegative:k.bool,onValueChange:k.func.isRequired,value:k.number,defaultValue:k.number,minValue:k.number,maxValue:k.number,placeholder:k.string,formatNumber:k.bool,onlyIntegers:k.bool,triggerCallbackOnChange:k.bool};f.exports=l}),null);
__d("BUIFormTypes",["React"],(function a(b,c,d,e,f,g){var h=c("React").PropTypes,i=h.oneOf(["svelt","breathy","snug","taut"]),j=h.oneOf(["normal","top"]),k=h.oneOf(["left","top"]);f.exports={DENSITY_PROP_TYPE:i,LABEL_ALIGN:j,LABEL_POSITION_PROP_TYPE:k}}),null);
__d("BUIForm.react",["cx","BUIComponent","BUIFormTypes","React","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BUIFormTypes").DENSITY_PROP_TYPE,l=c("BUIFormTypes").LABEL_POSITION_PROP_TYPE;i=babelHelpers.inherits(m,c("BUIComponent"));j=i&&i.prototype;m.prototype.render=function(){var n=c("joinClasses")(this.props.className,"_550r",(this.props.density==="breathy"?"_550s":"")+(this.props.density==="snug"?" _550t":"")+(this.props.density==="svelt"?" _550u":"")+(this.props.density==="taut"?" _550v":"")+(this.props.labelPosition==="top"?" _550w":"")+(this.props.labelPosition==="left"?" _550y":"")+(this.props.labelPosition==="left"?" _3w5n":"")),o=c("React").Children.map(this.props.children,function(p){if(!p)return p;return c("React").cloneElement(p,{density:this.props.density,labelPosition:this.props.labelPosition})}.bind(this));return c("React").createElement("div",{className:n,"data-testid":this.props.testID},o)};function m(){i.apply(this,arguments)}m.propTypes={density:k,labelPosition:l};m.defaultProps={density:"svelt",labelPosition:"left"};f.exports=m}),null);
__d("BUIFormButton.react",["invariant","BUIForm.react","React","XUIButton.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.density,n=babelHelpers.objectWithoutProperties(l,["density"]),o=void 0;switch(m){case"breathy":case"svelt":o="xlarge";break;case"snug":o="large";break;case"taut":o="medium";break}return c("React").createElement(c("XUIButton.react"),babelHelpers["extends"]({},n,{size:o}))};function k(){i.apply(this,arguments)}k.propTypes=babelHelpers["extends"]({},c("XUIButton.react").propTypes,{density:c("BUIForm.react").propTypes.density});f.exports=k}),null);
__d("BUIFormSelector.react",["invariant","BUIForm.react","React","XUISelector.react"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("XUISelector.react").Option;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.density,o=babelHelpers.objectWithoutProperties(m,["density"]),p=void 0;switch(n){case"breathy":case"svelt":p="xlarge";break;case"snug":p="large";break;case"taut":p="medium";break}return c("React").createElement(c("XUISelector.react"),babelHelpers["extends"]({},o,{size:p}))};function l(){i.apply(this,arguments)}l.propTypes=babelHelpers["extends"]({},c("XUISelector.react").propTypes,{density:c("BUIForm.react").propTypes.density});l.Option=k;f.exports=l}),null);
__d("TokenizerExampleSearchSource",["AbstractSearchSource","CountryCodeMap","SearchableEntry","filterObject","forEachObject"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;j.prototype.searchImpl=function(k,l,m){"use strict";__p&&__p();var n=[];m=m||{};if(k){var o=k.toLowerCase(),p=c("filterObject")(c("CountryCodeMap"),function(r){return r.toLowerCase().startsWith(o)}),q=0;c("forEachObject")(p,function(r,s){return n.push(new(c("SearchableEntry"))({order:q++,photo:"/images/mobile/glyph/book_blue_s.png",subtitle:r,title:r,uniqueID:s}))})}l(n,k)};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("FreeformSearchSource",["AbstractSearchSource","RegexMatchSearchSource","SearchableEntry","SearchSourceQueryStatus"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AbstractSearchSource"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);this.$FreeformSearchSource1=k;this.$FreeformSearchSource2=new(c("RegexMatchSearchSource"))("\\S+");this.$FreeformSearchSource3=l;this.$FreeformSearchSource4=m}j.prototype.getBootstrappedEntries=function(k){"use strict";return typeof this.$FreeformSearchSource1.getBootstrappedEntries==="function"?this.$FreeformSearchSource1.getBootstrappedEntries(k):null};j.prototype.bootstrapImpl=function(k){"use strict";this.$FreeformSearchSource1.bootstrapImpl(k)};j.prototype.validateQuery=function(k){"use strict";return k.length>=this.$FreeformSearchSource4};j.prototype.searchImpl=function(k,l,m){"use strict";__p&&__p();this.$FreeformSearchSource2.searchImpl(k,function(n,o){var p=[];if(n.length===1&&this.validateQuery(o)){p=[new(c("SearchableEntry"))({uniqueID:n[0].getUniqueID(),title:this.$FreeformSearchSource3(n[0].getTitle().trim())})];l(p,k)}this.$FreeformSearchSource1.searchImpl(k,function(n,o){if(n.length>0)l(n.concat(p),o,c("SearchSourceQueryStatus").COMPLETE)},m)}.bind(this),m)};f.exports=j}),null);
__d("AutoPager.react",["DOM","Event","OnVisible","Parent","React","ReactDOM","SubscriptionsHandler","throttle"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j=c("React").PropTypes;h=babelHelpers.inherits(k,c("React").Component);i=h&&h.prototype;function k(){__p&&__p();var l,m;"use strict";for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.getViewportListener=function(){if(!this.onEnterViewportListener)this.onEnterViewportListener=new(c("OnVisible"))(c("ReactDOM").findDOMNode(this),function(){return this.props.onVisible()}.bind(this),false,this.props.onEnterBuffer,false,this.scrollableArea);return this.onEnterViewportListener}.bind(this),this.onScroll=function(){this.getViewportListener().reset()}.bind(this),m}k.prototype.componentDidMount=function(){"use strict";if(this.props.scrollableAreaClass){this.scrollableArea=c("Parent").byClass(c("ReactDOM").findDOMNode(this),this.props.scrollableAreaClass);var l=c("DOM").find(this.scrollableArea,".uiScrollableAreaWrap")}else l=window;this.subscriptions=new(c("SubscriptionsHandler"))();this.subscriptions.addSubscriptions(c("Event").listen(l,"scroll",c("throttle")(this.onScroll,100)))};k.prototype.componentWillUnmount=function(){"use strict";this.getViewportListener().remove();this.subscriptions.release()};k.prototype.render=function(){"use strict";return c("React").createElement("div",{className:this.props.className})};k.propTypes={className:j.string,onEnterBuffer:j.number.isRequired,onVisible:j.func.isRequired,scrollableAreaClass:j.string};f.exports=k}),null);
__d("moment.instagram",[],(function aa(a,ba,ca,da,b,ea){__p&&__p();(function(c){__p&&__p();var d,fa="2.9.0",e=typeof a!=="undefined"&&(typeof window==="undefined"||window===a.window)?a:this,ga,f=Math.round,ha=Object.prototype.hasOwnProperty,g,h=0,i=1,j=2,k=3,l=4,m=5,n=6,o={},p=[],ia=typeof b!=="undefined"&&b&&b.exports,ja=/^\/?Date\((\-?\d+)/i,ka=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,la=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ma=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,na=/\d\d?/,oa=/\d{1,3}/,pa=/\d{1,4}/,qa=/[+\-]?\d{1,6}/,ra=/\d+/,sa=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,r=/Z|[\+\-]\d\d:?\d\d/gi,ta=/T/i,ua=/[\+\-]?\d+/,va=/[\+\-]?\d+(\.\d{1,3})?/,wa=/\d/,xa=/\d\d/,ya=/\d{3}/,za=/\d{4}/,Aa=/[+-]?\d{6}/,Ba=/[+-]?\d+/,Ca=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Da="YYYY-MM-DDTHH:mm:ssZ",s=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],t=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ea=/([\+\-]|\d\d)/gi,Fa="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Ga={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Ha={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ia={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},u={},v={s:45,m:45,h:22,d:26,M:11},Ja="DDD w W M D d".split(" "),Ka="M D H h m s w W".split(" "),w={M:function(){return this.month()+1},MMM:function(Q){return this.localeData().monthsShort(this,Q)},MMMM:function(Q){return this.localeData().months(this,Q)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(Q){return this.localeData().weekdaysMin(this,Q)},ddd:function(Q){return this.localeData().weekdaysShort(this,Q)},dddd:function(Q){return this.localeData().weekdays(this,Q)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return G(this.year()%100,2)},YYYY:function(){return G(this.year(),4)},YYYYY:function(){return G(this.year(),5)},YYYYYY:function(){var Q=this.year(),R=Q>=0?"+":"-";return R+G(Math.abs(Q),6)},gg:function(){return G(this.weekYear()%100,2)},gggg:function(){return G(this.weekYear(),4)},ggggg:function(){return G(this.weekYear(),5)},GG:function(){return G(this.isoWeekYear()%100,2)},GGGG:function(){return G(this.isoWeekYear(),4)},GGGGG:function(){return G(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),true)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),false)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return K(this.milliseconds()/100)},SS:function(){return G(K(this.milliseconds()/10),2)},SSS:function(){return G(this.milliseconds(),3)},SSSS:function(){return G(this.milliseconds(),3)},Z:function(){var Q=this.utcOffset(),R="+";if(Q<0){Q=-Q;R="-"}return R+G(K(Q/60),2)+":"+G(K(Q)%60,2)},ZZ:function(){var Q=this.utcOffset(),R="+";if(Q<0){Q=-Q;R="-"}return R+G(K(Q/60),2)+G(K(Q)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},La={},Ma=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],x=false;function y(Q,R,S){switch(arguments.length){case 2:return Q!=null?Q:R;case 3:return Q!=null?Q:R!=null?R:S;default:throw new Error("Implement me")}}function z(Q,R){return ha.call(Q,R)}function A(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function Na(Q){d.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&emptyFunction}function B(Q,R){var S=true;return E(function(){if(S){Na(Q);S=false}return R.apply(this,arguments)},R)}function Oa(Q,R){if(!La[Q]){Na(R);La[Q]=true}}function Pa(Q,R){return function(S){return G(Q.call(this,S),R)}}function Qa(Q,R){return function(S){return this.localeData().ordinal(Q.call(this,S),R)}}function Ra(Q,R){var S=(R.year()-Q.year())*12+(R.month()-Q.month()),T=Q.clone().add(S,"months"),U,V;if(R-T<0){U=Q.clone().add(S-1,"months");V=(R-T)/(T-U)}else{U=Q.clone().add(S+1,"months");V=(R-T)/(U-T)}return-(S+V)}while(Ja.length){g=Ja.pop();w[g+"o"]=Qa(w[g],g)}while(Ka.length){g=Ka.pop();w[g+g]=Pa(w[g],2)}w.DDDD=Pa(w.DDD,3);function Sa(Q,R,S){__p&&__p();var T;if(S==null)return R;if(Q.meridiemHour!=null)return Q.meridiemHour(R,S);else if(Q.isPM!=null){T=Q.isPM(S);if(T&&R<12)R+=12;if(!T&&R===12)R=0;return R}else return R}function Ta(){}function C(Q,R){if(R!==false)eb(Q);Ua(this,Q);this._d=new Date(+Q._d);if(x===false){x=true;d.updateOffset(this);x=false}}function D(Q){var R=$a(Q),S=R.year||0,T=R.quarter||0,U=R.month||0,V=R.week||0,W=R.day||0,X=R.hour||0,Y=R.minute||0,Z=R.second||0,$=R.millisecond||0;this._milliseconds=+$+Z*1e3+Y*6e4+X*36e5;this._days=+W+V*7;this._months=+U+T*3+S*12;this._data={};this._locale=d.localeData();this._bubble()}function E(Q,R){for(var g in R)if(z(R,g))Q[g]=R[g];if(z(R,"toString"))Q.toString=R.toString;if(z(R,"valueOf"))Q.valueOf=R.valueOf;return Q}function Ua(Q,R){__p&&__p();var g,S,T;if(typeof R._isAMomentObject!=="undefined")Q._isAMomentObject=R._isAMomentObject;if(typeof R._i!=="undefined")Q._i=R._i;if(typeof R._f!=="undefined")Q._f=R._f;if(typeof R._l!=="undefined")Q._l=R._l;if(typeof R._strict!=="undefined")Q._strict=R._strict;if(typeof R._tzm!=="undefined")Q._tzm=R._tzm;if(typeof R._isUTC!=="undefined")Q._isUTC=R._isUTC;if(typeof R._offset!=="undefined")Q._offset=R._offset;if(typeof R._pf!=="undefined")Q._pf=R._pf;if(typeof R._locale!=="undefined")Q._locale=R._locale;if(p.length>0)for(g in p){S=p[g];T=R[S];if(typeof T!=="undefined")Q[S]=T}return Q}function F(Q){if(Q<0)return Math.ceil(Q);else return Math.floor(Q)}function G(Q,R,S){var T=""+Math.abs(Q),U=Q>=0;while(T.length<R)T="0"+T;return(U?S?"+":"":"-")+T}function Va(Q,R){var S={milliseconds:0,months:0};S.months=R.month()-Q.month()+(R.year()-Q.year())*12;if(Q.clone().add(S.months,"M").isAfter(R))--S.months;S.milliseconds=+R-+Q.clone().add(S.months,"M");return S}function Wa(Q,R){var S;R=M(R,Q);if(Q.isBefore(R))S=Va(Q,R);else{S=Va(R,Q);S.milliseconds=-S.milliseconds;S.months=-S.months}return S}function Xa(Q,R){__p&&__p();return function(S,T){__p&&__p();var U,V;if(T!==null&&!isNaN(+T)){Oa(R,"moment()."+R+"(period, number) is deprecated. Please use moment()."+R+"(number, period).");V=S;S=T;T=V}S=typeof S==="string"?+S:S;U=d.duration(S,T);Ya(this,U,Q);return this}}function Ya(Q,R,S,T){__p&&__p();var U=R._milliseconds,V=R._days,W=R._months;T=T==null?true:T;if(U)Q._d.setTime(+Q._d+U*S);if(V)Lb(Q,"Date",Kb(Q,"Date")+V*S);if(W)Jb(Q,Kb(Q,"Month")+W*S);if(T)d.updateOffset(Q,V||W)}function H(Q){return Object.prototype.toString.call(Q)==="[object Array]"}function I(Q){return Object.prototype.toString.call(Q)==="[object Date]"||Q instanceof Date}function Za(Q,R,S){var T=Math.min(Q.length,R.length),U=Math.abs(Q.length-R.length),V=0,g;for(g=0;g<T;g++)if(S&&Q[g]!==R[g]||!S&&K(Q[g])!==K(R[g]))V++;return V+U}function J(Q){if(Q){var R=Q.toLowerCase().replace(/(.)s$/,"$1");Q=Ha[Q]||Ia[R]||R}return Q}function $a(Q){var R={},S,T;for(T in Q)if(z(Q,T)){S=J(T);if(S)R[S]=Q[T]}return R}function ab(Q){__p&&__p();var R,S;if(Q.indexOf("week")===0){R=7;S="day"}else if(Q.indexOf("month")===0){R=12;S="month"}else return;d[Q]=function(T,U){__p&&__p();var g,V,W=d._locale[Q],X=[];if(typeof T==="number"){U=T;T=c}V=function(g){var Y=d().utc().set(S,g);return W.call(d._locale,Y,T||"")};if(U!=null)return V(U);else{for(g=0;g<R;g++)X.push(V(g));return X}}}function K(Q){var R=+Q,S=0;if(R!==0&&isFinite(R))if(R>=0)S=Math.floor(R);else S=Math.ceil(R);return S}function L(Q,R){return new Date(Date.UTC(Q,R+1,0)).getUTCDate()}function bb(Q,R,S){return O(d([Q,11,31+R-S]),R,S).week}function cb(Q){return db(Q)?366:365}function db(Q){return Q%4===0&&Q%100!==0||Q%400===0}function eb(Q){var R;if(Q._a&&Q._pf.overflow===-2){R=Q._a[i]<0||Q._a[i]>11?i:Q._a[j]<1||Q._a[j]>L(Q._a[h],Q._a[i])?j:Q._a[k]<0||Q._a[k]>24||Q._a[k]===24&&(Q._a[l]!==0||Q._a[m]!==0||Q._a[n]!==0)?k:Q._a[l]<0||Q._a[l]>59?l:Q._a[m]<0||Q._a[m]>59?m:Q._a[n]<0||Q._a[n]>999?n:-1;if(Q._pf._overflowDayOfYear&&(R<h||R>j))R=j;Q._pf.overflow=R}}function fb(Q){if(Q._isValid==null){Q._isValid=!isNaN(Q._d.getTime())&&Q._pf.overflow<0&&!Q._pf.empty&&!Q._pf.invalidMonth&&!Q._pf.nullInput&&!Q._pf.invalidFormat&&!Q._pf.userInvalidated;if(Q._strict)Q._isValid=Q._isValid&&Q._pf.charsLeftOver===0&&Q._pf.unusedTokens.length===0&&Q._pf.bigHour===c}return Q._isValid}function gb(Q){return Q?Q.toLowerCase().replace("_","-"):Q}function hb(Q){__p&&__p();var g=0,R,S,T,U;while(g<Q.length){U=gb(Q[g]).split("-");R=U.length;S=gb(Q[g+1]);S=S?S.split("-"):null;while(R>0){T=ib(U.slice(0,R).join("-"));if(T)return T;if(S&&S.length>=R&&Za(U,S,true)>=R-1)break;R--}g++}return null}function ib(Q){var R=null;return o[Q]}function M(Q,R){var S,T;if(R._isUTC){S=R.clone();T=(d.isMoment(Q)||I(Q)?+Q:+d(Q))-+S;S._d.setTime(+S._d+T);d.updateOffset(S,false);return S}else return d(Q).local()}E(Ta.prototype,{set:function(Q){var R,g;for(g in Q){R=Q[g];if(typeof R==="function")this[g]=R;else this["_"+g]=R}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(Q){return this._months[Q.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(Q){return this._monthsShort[Q.month()]},monthsParse:function(Q,R,S){__p&&__p();var g,T,U;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(g=0;g<12;g++){T=d.utc([2e3,g]);if(S&&!this._longMonthsParse[g]){this._longMonthsParse[g]=new RegExp("^"+this.months(T,"").replace(".","")+"$","i");this._shortMonthsParse[g]=new RegExp("^"+this.monthsShort(T,"").replace(".","")+"$","i")}if(!S&&!this._monthsParse[g]){U="^"+this.months(T,"")+"|^"+this.monthsShort(T,"");this._monthsParse[g]=new RegExp(U.replace(".",""),"i")}if(S&&R==="MMMM"&&this._longMonthsParse[g].test(Q))return g;else if(S&&R==="MMM"&&this._shortMonthsParse[g].test(Q))return g;else if(!S&&this._monthsParse[g].test(Q))return g}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(Q){return this._weekdays[Q.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(Q){return this._weekdaysShort[Q.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(Q){return this._weekdaysMin[Q.day()]},weekdaysParse:function(Q){__p&&__p();var g,R,S;if(!this._weekdaysParse)this._weekdaysParse=[];for(g=0;g<7;g++){if(!this._weekdaysParse[g]){R=d([2e3,1]).day(g);S="^"+this.weekdays(R,"")+"|^"+this.weekdaysShort(R,"")+"|^"+this.weekdaysMin(R,"");this._weekdaysParse[g]=new RegExp(S.replace(".",""),"i")}if(this._weekdaysParse[g].test(Q))return g}},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(Q){var R=this._longDateFormat[Q];if(!R&&this._longDateFormat[Q.toUpperCase()]){R=this._longDateFormat[Q.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(S){return S.slice(1)});this._longDateFormat[Q]=R}return R},isPM:function(Q){return(Q+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(Q,R,S){if(Q>11)return S?"pm":"PM";else return S?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(Q,R,S){var T=this._calendar[Q];return typeof T==="function"?T.apply(R,[S]):T},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(Q,R,S,T){var U=this._relativeTime[S];return typeof U==="function"?U(Q,R,S,T):U.replace(/%d/i,Q)},pastFuture:function(Q,R){var S=this._relativeTime[Q>0?"future":"past"];return typeof S==="function"?S(R):S.replace(/%s/i,R)},ordinal:function(Q){return this._ordinal.replace("%d",Q)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(Q){return Q},postformat:function(Q){return Q},week:function(Q){return O(Q,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});function jb(Q){if(Q.match(/\[[\s\S]/))return Q.replace(/^\[|\]$/g,"");return Q.replace(/\\/g,"")}function kb(Q){__p&&__p();var R=Q.match(ma),g,S;for(g=0,S=R.length;g<S;g++)if(w[R[g]])R[g]=w[R[g]];else R[g]=jb(R[g]);return function(T){var U="";for(g=0;g<S;g++)U+=R[g]instanceof Function?R[g].call(T,Q):R[g];return U}}function N(Q,R){if(!Q.isValid())return Q.localeData().invalidDate();R=lb(R,Q.localeData());if(!u[R])u[R]=kb(R);return u[R](Q)}function lb(Q,R){__p&&__p();var g=5;function S(T){return R.longDateFormat(T)||T}q.lastIndex=0;while(g>=0&&q.test(Q)){Q=Q.replace(q,S);q.lastIndex=0;g-=1}return Q}function mb(Q,R){__p&&__p();var S,T=R._strict;switch(Q){case"Q":return wa;case"DDDD":return ya;case"YYYY":case"GGGG":case"gggg":return T?za:pa;case"Y":case"G":case"g":return Ba;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return T?Aa:qa;case"S":if(T)return wa;case"SS":if(T)return xa;case"SSS":if(T)return ya;case"DDD":return oa;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return sa;case"a":case"A":return R._locale._meridiemParse;case"x":return ua;case"X":return va;case"Z":case"ZZ":return r;case"T":return ta;case"SSSS":return ra;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return T?xa:na;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return na;case"Do":return T?R._locale._ordinalParse:R._locale._ordinalParseLenient;default:S=new RegExp(vb(ub(Q.replace("\\","")),"i"));return S}}function nb(Q){Q=Q||"";var R=Q.match(r)||[],S=R[R.length-1]||[],T=(S+"").match(Ea)||["-",0,0],U=+(T[1]*60)+K(T[2]);return T[0]==="+"?U:-U}function ob(Q,R,S){__p&&__p();var T,U=S._a;switch(Q){case"Q":if(R!=null)U[i]=(K(R)-1)*3;break;case"M":case"MM":if(R!=null)U[i]=K(R)-1;break;case"MMM":case"MMMM":T=S._locale.monthsParse(R,Q,S._strict);if(T!=null)U[i]=T;else S._pf.invalidMonth=R;break;case"D":case"DD":if(R!=null)U[j]=K(R);break;case"Do":if(R!=null)U[j]=K(parseInt(R.match(/\d{1,2}/)[0],10));break;case"DDD":case"DDDD":if(R!=null)S._dayOfYear=K(R);break;case"YY":U[h]=d.parseTwoDigitYear(R);break;case"YYYY":case"YYYYY":case"YYYYYY":U[h]=K(R);break;case"a":case"A":S._meridiem=R;break;case"h":case"hh":S._pf.bigHour=true;case"H":case"HH":U[k]=K(R);break;case"m":case"mm":U[l]=K(R);break;case"s":case"ss":U[m]=K(R);break;case"S":case"SS":case"SSS":case"SSSS":U[n]=K(("0."+R)*1e3);break;case"x":S._d=new Date(K(R));break;case"X":S._d=new Date(parseFloat(R)*1e3);break;case"Z":case"ZZ":S._useUTC=true;S._tzm=nb(R);break;case"dd":case"ddd":case"dddd":T=S._locale.weekdaysParse(R);if(T!=null){S._w=S._w||{};S._w.d=T}else S._pf.invalidWeekday=R;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":Q=Q.substr(0,1);case"gggg":case"GGGG":case"GGGGG":Q=Q.substr(0,2);if(R){S._w=S._w||{};S._w[Q]=K(R)}break;case"gg":case"GG":S._w=S._w||{};S._w[Q]=d.parseTwoDigitYear(R)}}function pb(Q){__p&&__p();var R,S,T,U,V,W,X;R=Q._w;if(R.GG!=null||R.W!=null||R.E!=null){V=1;W=4;S=y(R.GG,Q._a[h],O(d(),1,4).year);T=y(R.W,1);U=y(R.E,1)}else{V=Q._locale._week.dow;W=Q._locale._week.doy;S=y(R.gg,Q._a[h],O(d(),V,W).year);T=y(R.w,1);if(R.d!=null){U=R.d;if(U<V)++T}else if(R.e!=null)U=R.e+V;else U=V}X=Gb(S,T,U,W,V);Q._a[h]=X.year;Q._dayOfYear=X.dayOfYear}function qb(Q){__p&&__p();var g,R,S=[],T,U;if(Q._d)return;T=sb(Q);if(Q._w&&Q._a[j]==null&&Q._a[i]==null)pb(Q);if(Q._dayOfYear){U=y(Q._a[h],T[h]);if(Q._dayOfYear>cb(U))Q._pf._overflowDayOfYear=true;R=Cb(U,0,Q._dayOfYear);Q._a[i]=R.getUTCMonth();Q._a[j]=R.getUTCDate()}for(g=0;g<3&&Q._a[g]==null;++g)Q._a[g]=S[g]=T[g];for(;g<7;g++)Q._a[g]=S[g]=Q._a[g]==null?g===2?1:0:Q._a[g];if(Q._a[k]===24&&Q._a[l]===0&&Q._a[m]===0&&Q._a[n]===0){Q._nextDay=true;Q._a[k]=0}Q._d=(Q._useUTC?Cb:Bb).apply(null,S);if(Q._tzm!=null)Q._d.setUTCMinutes(Q._d.getUTCMinutes()-Q._tzm);if(Q._nextDay)Q._a[k]=24}function rb(Q){var R;if(Q._d)return;R=$a(Q._i);Q._a=[R.year,R.month,R.day||R.date,R.hour,R.minute,R.second,R.millisecond];qb(Q)}function sb(Q){var R=new Date();if(Q._useUTC)return[R.getUTCFullYear(),R.getUTCMonth(),R.getUTCDate()];else return[R.getFullYear(),R.getMonth(),R.getDate()]}function tb(Q){__p&&__p();if(Q._f===d.ISO_8601){xb(Q);return}Q._a=[];Q._pf.empty=true;var R=""+Q._i,g,S,T,U,V,W=R.length,X=0;T=lb(Q._f,Q._locale).match(ma)||[];for(g=0;g<T.length;g++){U=T[g];S=(R.match(mb(U,Q))||[])[0];if(S){V=R.substr(0,R.indexOf(S));if(V.length>0)Q._pf.unusedInput.push(V);R=R.slice(R.indexOf(S)+S.length);X+=S.length}if(w[U]){if(S)Q._pf.empty=false;else Q._pf.unusedTokens.push(U);ob(U,S,Q)}else if(Q._strict&&!S)Q._pf.unusedTokens.push(U)}Q._pf.charsLeftOver=W-X;if(R.length>0)Q._pf.unusedInput.push(R);if(Q._pf.bigHour===true&&Q._a[k]<=12)Q._pf.bigHour=c;Q._a[k]=Sa(Q._locale,Q._a[k],Q._meridiem);qb(Q);eb(Q)}function ub(Q){return Q.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(R,S,T,U,V){return S||T||U||V})}function vb(Q){return Q.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function wb(Q){__p&&__p();var R,S,T,g,U;if(Q._f.length===0){Q._pf.invalidFormat=true;Q._d=new Date(NaN);return}for(g=0;g<Q._f.length;g++){U=0;R=Ua({},Q);if(Q._useUTC!=null)R._useUTC=Q._useUTC;R._pf=A();R._f=Q._f[g];tb(R);if(!fb(R))continue;U+=R._pf.charsLeftOver;U+=R._pf.unusedTokens.length*10;R._pf.score=U;if(T==null||U<T){T=U;S=R}}E(Q,S||R)}function xb(Q){__p&&__p();var g,R,S=Q._i,T=Ca.exec(S);if(T){Q._pf.iso=true;for(g=0,R=s.length;g<R;g++)if(s[g][1].exec(S)){Q._f=s[g][0]+(T[6]||" ");break}for(g=0,R=t.length;g<R;g++)if(t[g][1].exec(S)){Q._f+=t[g][0];break}if(S.match(r))Q._f+="Z";tb(Q)}else Q._isValid=false}function yb(Q){xb(Q);if(Q._isValid===false){delete Q._isValid;d.createFromInputFallback(Q)}}function zb(Q,R){var S=[],g;for(g=0;g<Q.length;++g)S.push(R(Q[g],g));return S}function Ab(Q){__p&&__p();var R=Q._i,S;if(R===c)Q._d=new Date();else if(I(R))Q._d=new Date(+R);else if((S=ja.exec(R))!==null)Q._d=new Date(+S[1]);else if(typeof R==="string")yb(Q);else if(H(R)){Q._a=zb(R.slice(0),function(T){return parseInt(T,10)});qb(Q)}else if(typeof R==="object")rb(Q);else if(typeof R==="number")Q._d=new Date(R);else d.createFromInputFallback(Q)}function Bb(Q,R,S,T,U,V,W){var X=new Date(Q,R,S,T,U,V,W);if(Q<1970)X.setFullYear(Q);return X}function Cb(Q){var R=new Date(Date.UTC.apply(null,arguments));if(Q<1970)R.setUTCFullYear(Q);return R}function Db(Q,R){if(typeof Q==="string")if(!isNaN(Q))Q=parseInt(Q,10);else{Q=R.weekdaysParse(Q);if(typeof Q!=="number")return null}return Q}function Eb(Q,R,S,T,U){return U.relativeTime(R||1,!!S,Q,T)}function Fb(Q,R,S){var T=d.duration(Q).abs(),U=f(T.as("s")),V=f(T.as("m")),W=f(T.as("h")),X=f(T.as("d")),Y=f(T.as("M")),Z=f(T.as("y")),$=U<v.s&&["s",U]||V===1&&["m"]||V<v.m&&["mm",V]||W===1&&["h"]||W<v.h&&["hh",W]||X===1&&["d"]||X<v.d&&["dd",X]||Y===1&&["M"]||Y<v.M&&["MM",Y]||Z===1&&["y"]||["yy",Z];$[2]=R;$[3]=+Q>0;$[4]=S;return Eb.apply({},$)}function O(Q,R,S){var T=S-R,U=S-Q.day(),V;if(U>T)U-=7;if(U<T-7)U+=7;V=d(Q).add(U,"d");return{week:Math.ceil(V.dayOfYear()/7),year:V.year()}}function Gb(Q,R,S,T,U){var V=Cb(Q,0,1).getUTCDay(),W,X;V=V===0?7:V;S=S!=null?S:U;W=U-V+(V>T?7:0)-(V<U?7:0);X=7*(R-1)+(S-U)+W+1;return{year:X>0?Q:Q-1,dayOfYear:X>0?X:cb(Q-1)+X}}function Hb(Q){__p&&__p();var R=Q._i,S=Q._f,T;Q._locale=Q._locale||d.localeData(Q._l);if(R===null||S===c&&R==="")return d.invalid({nullInput:true});if(typeof R==="string")Q._i=R=Q._locale.preparse(R);if(d.isMoment(R))return new C(R,true);else if(S)if(H(S))wb(Q);else tb(Q);else Ab(Q);T=new C(Q);if(T._nextDay){T.add(1,"d");T._nextDay=c}return T}d=function(Q,R,S,T){__p&&__p();var U;if(typeof S==="boolean"){T=S;S=c}U={};U._isAMomentObject=true;U._i=Q;U._f=R;U._l=S;U._strict=T;U._isUTC=false;U._pf=A();return Hb(U)};d.suppressDeprecationWarnings=false;d.createFromInputFallback=B("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(Q){Q._d=new Date(Q._i+(Q._useUTC?" UTC":""))});function Ib(Q,R){__p&&__p();var S,g;if(R.length===1&&H(R[0]))R=R[0];if(!R.length)return d();S=R[0];for(g=1;g<R.length;++g)if(R[g][Q](S))S=R[g];return S}d.min=function(){var Q=[].slice.call(arguments,0);return Ib("isBefore",Q)};d.max=function(){var Q=[].slice.call(arguments,0);return Ib("isAfter",Q)};d.utc=function(Q,R,S,T){__p&&__p();var U;if(typeof S==="boolean"){T=S;S=c}U={};U._isAMomentObject=true;U._useUTC=true;U._isUTC=true;U._l=S;U._i=Q;U._f=R;U._strict=T;U._pf=A();return Hb(U).utc()};d.unix=function(Q){return d(Q*1e3)};d.duration=function(Q,R){__p&&__p();var S=Q,T=null,U,V,W,X;if(d.isDuration(Q))S={ms:Q._milliseconds,d:Q._days,M:Q._months};else if(typeof Q==="number"){S={};if(R)S[R]=Q;else S.milliseconds=Q}else if(!!(T=ka.exec(Q))){U=T[1]==="-"?-1:1;S={y:0,d:K(T[j])*U,h:K(T[k])*U,m:K(T[l])*U,s:K(T[m])*U,ms:K(T[n])*U}}else if(!!(T=la.exec(Q))){U=T[1]==="-"?-1:1;W=function(Y){var Z=Y&&parseFloat(Y.replace(",","."));return(isNaN(Z)?0:Z)*U};S={y:W(T[2]),M:W(T[3]),d:W(T[4]),h:W(T[5]),m:W(T[6]),s:W(T[7]),w:W(T[8])}}else if(S==null)S={};else if(typeof S==="object"&&("from"in S||"to"in S)){X=Wa(d(S.from),d(S.to));S={};S.ms=X.milliseconds;S.M=X.months}V=new D(S);if(d.isDuration(Q)&&z(Q,"_locale"))V._locale=Q._locale;return V};d.version=fa;d.defaultFormat=Da;d.ISO_8601=function(){};d.momentProperties=p;d.updateOffset=function(){};d.relativeTimeThreshold=function(Q,R){if(v[Q]===c)return false;if(R===c)return v[Q];v[Q]=R;return true};d.lang=B("moment.lang is deprecated. Use moment.locale instead.",function(Q,R){return d.locale(Q,R)});d.locale=function(Q,R){var S;if(Q){if(typeof R!=="undefined")S=d.defineLocale(Q,R);else S=d.localeData(Q);if(S)d.duration._locale=d._locale=S}return d._locale._abbr};d.defineLocale=function(Q,R){__p&&__p();if(R!==null){R.abbr=Q;if(!o[Q])o[Q]=new Ta();o[Q].set(R);d.locale(Q);return o[Q]}else{delete o[Q];return null}};d.langData=B("moment.langData is deprecated. Use moment.localeData instead.",function(Q){return d.localeData(Q)});d.localeData=function(Q){__p&&__p();var R;if(Q&&Q._locale&&Q._locale._abbr)Q=Q._locale._abbr;if(!Q)return d._locale;if(!H(Q)){R=ib(Q);if(R)return R;Q=[Q]}return hb(Q)};d.isMoment=function(Q){return Q instanceof C||Q!=null&&z(Q,"_isAMomentObject")};d.isDuration=function(Q){return Q instanceof D};for(g=Ma.length-1;g>=0;--g)ab(Ma[g]);d.normalizeUnits=function(Q){return J(Q)};d.invalid=function(Q){var R=d.utc(NaN);if(Q!=null)E(R._pf,Q);else R._pf.userInvalidated=true;return R};d.parseZone=function(){return d.apply(null,arguments).parseZone()};d.parseTwoDigitYear=function(Q){return K(Q)+(K(Q)>68?1900:2e3)};d.isDate=I;E(d.fn=C.prototype,{clone:function(){return d(this)},valueOf:function(){return+this._d-(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var Q=d(this).utc();if(0<Q.year()&&Q.year()<=9999)if("function"===typeof Date.prototype.toISOString)return this.toDate().toISOString();else return N(Q,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]");else return N(Q,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var Q=this;return[Q.year(),Q.month(),Q.date(),Q.hours(),Q.minutes(),Q.seconds(),Q.milliseconds()]},isValid:function(){return fb(this)},isDSTShifted:function(){if(this._a)return this.isValid()&&Za(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray())>0;return false},parsingFlags:function(){return E({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(Q){return this.utcOffset(0,Q)},local:function(Q){if(this._isUTC){this.utcOffset(0,Q);this._isUTC=false;if(Q)this.subtract(this._dateUtcOffset(),"m")}return this},format:function(Q){var R=N(this,Q||d.defaultFormat);return this.localeData().postformat(R)},add:Xa(1,"add"),subtract:Xa(-1,"subtract"),diff:function(Q,R,S){__p&&__p();var T=M(Q,this),U=(T.utcOffset()-this.utcOffset())*6e4,V,W,X,Y;R=J(R);if(R==="year"||R==="month"||R==="quarter"){X=Ra(this,T);if(R==="quarter")X=X/3;else if(R==="year")X=X/12}else{W=this-T;X=R==="second"?W/1e3:R==="minute"?W/6e4:R==="hour"?W/36e5:R==="day"?(W-U)/864e5:R==="week"?(W-U)/6048e5:W}return S?X:F(X)},from:function(Q,R){return d.duration({to:this,from:Q}).locale(this.locale()).humanize(!R)},fromNow:function(Q){return this.from(d(),Q)},calendar:function(Q){var R=Q||d(),S=M(R,this).startOf("day"),T=this.diff(S,"days",true),U=T<-6?"sameElse":T<-1?"lastWeek":T<0?"lastDay":T<1?"sameDay":T<2?"nextDay":T<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(U,this,d(R)))},isLeapYear:function(){return db(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(Q){var R=this._isUTC?this._d.getUTCDay():this._d.getDay();if(Q!=null){Q=Db(Q,this.localeData());return this.add(Q-R,"d")}else return R},month:P("Month",true),startOf:function(Q){__p&&__p();Q=J(Q);switch(Q){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(Q==="week")this.weekday(0);else if(Q==="isoWeek")this.isoWeekday(1);if(Q==="quarter")this.month(Math.floor(this.month()/3)*3);return this},endOf:function(Q){Q=J(Q);if(Q===c||Q==="millisecond")return this;return this.startOf(Q).add(1,Q==="isoWeek"?"week":Q).subtract(1,"ms")},isAfter:function(Q,R){var S;R=J(typeof R!=="undefined"?R:"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this>+Q}else{S=d.isMoment(Q)?+Q:+d(Q);return S<+this.clone().startOf(R)}},isBefore:function(Q,R){var S;R=J(typeof R!=="undefined"?R:"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this<+Q}else{S=d.isMoment(Q)?+Q:+d(Q);return+this.clone().endOf(R)<S}},isBetween:function(Q,R,S){return this.isAfter(Q,S)&&this.isBefore(R,S)},isSame:function(Q,R){var S;R=J(R||"millisecond");if(R==="millisecond"){Q=d.isMoment(Q)?Q:d(Q);return+this===+Q}else{S=+d(Q);return+this.clone().startOf(R)<=S&&S<=+this.clone().endOf(R)}},min:B("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(Q){Q=d.apply(null,arguments);return Q<this?this:Q}),max:B("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(Q){Q=d.apply(null,arguments);return Q>this?this:Q}),zone:B("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(Q,R){if(Q!=null){if(typeof Q!=="string")Q=-Q;this.utcOffset(Q,R);return this}else return-this.utcOffset()}),utcOffset:function(Q,R){__p&&__p();var S=this._offset||0,T;if(Q!=null){if(typeof Q==="string")Q=nb(Q);if(Math.abs(Q)<16)Q=Q*60;if(!this._isUTC&&R)T=this._dateUtcOffset();this._offset=Q;this._isUTC=true;if(T!=null)this.add(T,"m");if(S!==Q)if(!R||this._changeInProgress)Ya(this,d.duration(Q-S,"m"),1,false);else if(!this._changeInProgress){this._changeInProgress=true;d.updateOffset(this,true);this._changeInProgress=null}return this}else return this._isUTC?S:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&this._offset===0},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){if(this._tzm)this.utcOffset(this._tzm);else if(typeof this._i==="string")this.utcOffset(nb(this._i));return this},hasAlignedHourOffset:function(Q){if(!Q)Q=0;else Q=d(Q).utcOffset();return(this.utcOffset()-Q)%60===0},daysInMonth:function(){return L(this.year(),this.month())},dayOfYear:function(Q){var R=f((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return Q==null?R:this.add(Q-R,"d")},quarter:function(Q){return Q==null?Math.ceil((this.month()+1)/3):this.month((Q-1)*3+this.month()%3)},weekYear:function(Q){var R=O(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return Q==null?R:this.add(Q-R,"y")},isoWeekYear:function(Q){var R=O(this,1,4).year;return Q==null?R:this.add(Q-R,"y")},week:function(Q){var R=this.localeData().week(this);return Q==null?R:this.add((Q-R)*7,"d")},isoWeek:function(Q){var R=O(this,1,4).week;return Q==null?R:this.add((Q-R)*7,"d")},weekday:function(Q){var R=(this.day()+7-this.localeData()._week.dow)%7;return Q==null?R:this.add(Q-R,"d")},isoWeekday:function(Q){return Q==null?this.day()||7:this.day(this.day()%7?Q:Q-7)},isoWeeksInYear:function(){return bb(this.year(),1,4)},weeksInYear:function(){var Q=this.localeData()._week;return bb(this.year(),Q.dow,Q.doy)},get:function(Q){Q=J(Q);return this[Q]()},set:function(Q,R){var S;if(typeof Q==="object")for(S in Q)this.set(S,Q[S]);else{Q=J(Q);if(typeof this[Q]==="function")this[Q](R)}return this},locale:function(Q){var R;if(Q===c)return this._locale._abbr;else{R=d.localeData(Q);if(R!=null)this._locale=R;return this}},lang:B("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Q){if(Q===c)return this.localeData();else return this.locale(Q)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return-Math.round(this._d.getTimezoneOffset()/15)*15}});function Jb(Q,R){var S;if(typeof R==="string"){R=Q.localeData().monthsParse(R);if(typeof R!=="number")return Q}S=Math.min(Q.date(),L(Q.year(),R));Q._d["set"+(Q._isUTC?"UTC":"")+"Month"](R,S);return Q}function Kb(Q,R){return Q._d["get"+(Q._isUTC?"UTC":"")+R]()}function Lb(Q,R,S){if(R==="Month")return Jb(Q,S);else return Q._d["set"+(Q._isUTC?"UTC":"")+R](S)}function P(Q,R){return function(S){if(S!=null){Lb(this,Q,S);d.updateOffset(this,R);return this}else return Kb(this,Q)}}d.fn.millisecond=d.fn.milliseconds=P("Milliseconds",false);d.fn.second=d.fn.seconds=P("Seconds",false);d.fn.minute=d.fn.minutes=P("Minutes",false);d.fn.hour=d.fn.hours=P("Hours",true);d.fn.date=P("Date",true);d.fn.dates=B("dates accessor is deprecated. Use date instead.",P("Date",true));d.fn.year=P("FullYear",true);d.fn.years=B("years accessor is deprecated. Use year instead.",P("FullYear",true));d.fn.days=d.fn.day;d.fn.months=d.fn.month;d.fn.weeks=d.fn.week;d.fn.isoWeeks=d.fn.isoWeek;d.fn.quarters=d.fn.quarter;d.fn.toJSON=d.fn.toISOString;d.fn.isUTC=d.fn.isUtc;function Mb(Q){return Q*400/146097}function Nb(Q){return Q*146097/400}E(d.duration.fn=D.prototype,{_bubble:function(){__p&&__p();var Q=this._milliseconds,R=this._days,S=this._months,T=this._data,U,V,W,X=0;T.milliseconds=Q%1e3;U=F(Q/1e3);T.seconds=U%60;V=F(U/60);T.minutes=V%60;W=F(V/60);T.hours=W%24;R+=F(W/24);X=F(Mb(R));R-=F(Nb(X));S+=F(R/30);R%=30;X+=F(S/12);S%=12;T.days=R;T.months=S;T.years=X},abs:function(){__p&&__p();this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return F(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+K(this._months/12)*31536e6},humanize:function(Q){var R=Fb(this,!Q,this.localeData());if(Q)R=this.localeData().pastFuture(+this,R);return this.localeData().postformat(R)},add:function(Q,R){var S=d.duration(Q,R);this._milliseconds+=S._milliseconds;this._days+=S._days;this._months+=S._months;this._bubble();return this},subtract:function(Q,R){var S=d.duration(Q,R);this._milliseconds-=S._milliseconds;this._days-=S._days;this._months-=S._months;this._bubble();return this},get:function(Q){Q=J(Q);return this[Q.toLowerCase()+"s"]()},as:function(Q){__p&&__p();var R,S;Q=J(Q);if(Q==="month"||Q==="year"){R=this._days+this._milliseconds/864e5;S=this._months+Mb(R)*12;return Q==="month"?S:S/12}else{R=this._days+Math.round(Nb(this._months/12));switch(Q){case"week":return R/7+this._milliseconds/6048e5;case"day":return R+this._milliseconds/864e5;case"hour":return R*24+this._milliseconds/36e5;case"minute":return R*24*60+this._milliseconds/6e4;case"second":return R*24*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(R*24*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+Q)}}},lang:d.fn.lang,locale:d.fn.locale,toIsoString:B("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var Q=Math.abs(this.years()),R=Math.abs(this.months()),S=Math.abs(this.days()),T=Math.abs(this.hours()),U=Math.abs(this.minutes()),V=Math.abs(this.seconds()+this.milliseconds()/1e3);if(!this.asSeconds())return"P0D";return(this.asSeconds()<0?"-":"")+"P"+(Q?Q+"Y":"")+(R?R+"M":"")+(S?S+"D":"")+(T||U||V?"T":"")+(T?T+"H":"")+(U?U+"M":"")+(V?V+"S":"")},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});d.duration.fn.toString=d.duration.fn.toISOString;function Ob(Q){d.duration.fn[Q]=function(){return this._data[Q]}}for(g in Ga)if(z(Ga,g))Ob(g.toLowerCase());d.duration.fn.asMilliseconds=function(){return this.as("ms")};d.duration.fn.asSeconds=function(){return this.as("s")};d.duration.fn.asMinutes=function(){return this.as("m")};d.duration.fn.asHours=function(){return this.as("h")};d.duration.fn.asDays=function(){return this.as("d")};d.duration.fn.asWeeks=function(){return this.as("weeks")};d.duration.fn.asMonths=function(){return this.as("M")};d.duration.fn.asYears=function(){return this.as("y")};d.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Q){var R=Q%10,S=K(Q%100/10)===1?"th":R===1?"st":R===2?"nd":R===3?"rd":"th";return Q+S}});function Pb(Q){if(typeof ender!=="undefined")return;ga=e.moment;if(Q)e.moment=B("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",d);else e.moment=d}if(ia)b.exports=d;else if(typeof define==="function"&&define.amd){define(function(ba,ea,b){if(b.config&&b.config()&&b.config().noGlobal===true)e.moment=ga;return d});Pb(true)}else Pb()}).call(this)}),null);
__d("FormatNumberUtil.atlas",["NumberFormatConfig","intlNumUtils"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h={_getDecimals:function i(j,k,l){__p&&__p();if(!k&&!l){var m=j.toString(),n=m.split(c("NumberFormatConfig").decimalSeparator);return n.length===2?n[1].length:0}if(j===0)return k;var o=Math.floor(j*Math.pow(10,l)),p=l,q=10;while(p>k&&o>1)if(o%q===0){q*=10;--p}else break;return p},formatWithVariablePrecision:function i(j,k,l,m){if(m)return c("intlNumUtils").formatNumberWithThousandDelimiters(j,h._getDecimals(j,k,l));return c("intlNumUtils").formatNumber(j,h._getDecimals(j,k,l))}};f.exports=h}),null);
__d("NumberInput.atlas",["FormatNumberUtil.atlas","Keys","NumberFormatConfig","React","SUIAtlasTheme","SUITextInput.react","ads-lib-formatters"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").Element,k=c("React").PureComponent,l={isZeroValidValue:false,maxPrecision:0,minPrecision:0};h=babelHelpers.inherits(m,k);i=h&&h.prototype;function m(n,o){__p&&__p();i.constructor.call(this,n,o);this.$NumberInput2=function(p){if(this.$NumberInput3(p)){this.setState({dirtyValue:p});var q=this.$NumberInput4(p);if(this.props.onValueUpdated)this.props.onValueUpdated(q)}}.bind(this);this.$NumberInput5=function(event){this.setState({dirtyValue:null});if(this.props.onBlur)this.props.onBlur(event)}.bind(this);this.$NumberInput6=function(event){this.setState({dirtyValue:null});if(this.props.onFocus)this.props.onFocus(event)}.bind(this);this.$NumberInput7=function(event){var p=event.keyCode;if(p===c("Keys").RETURN||p===c("Keys").TAB)this.setState({dirtyValue:null});if(this.props.onKeyUp)this.props.onKeyUp(event)}.bind(this);this.state={dirtyValue:null}}m.prototype.focusInput=function(){this.$NumberInput1&&this.$NumberInput1.focusInput()};m.prototype.$NumberInput3=function(n){var o=new RegExp("^[0-9.,]*$");return o.test(n)};m.prototype.$NumberInput4=function(n){return c("ads-lib-formatters").parseNumber(n)||0};m.prototype.render=function(){__p&&__p();var n=void 0,o=this.props.minPrecision;if(this.state.dirtyValue===null){n=this.props.value;if(!n)n=this.props.isZeroValidValue?0:null;n=n===null?"":c("FormatNumberUtil.atlas").formatWithVariablePrecision(n,o,this.props.maxPrecision,false).toString()}else n=this.state.dirtyValue;var p=Array(o+1).join("0"),q=o?"0"+c("NumberFormatConfig").decimalSeparator+p:"0";return c("React").createElement(c("SUITextInput.react"),{className:this.props.className,disabled:this.props.disabled,onBlur:this.$NumberInput5,onChange:this.$NumberInput2,onFocus:this.$NumberInput6,onKeyUp:this.$NumberInput7,placeholder:q,ref:function(r){return this.$NumberInput1=r}.bind(this),theme:c("SUIAtlasTheme"),value:n})};m.defaultProps=l;f.exports=m}),null);
__d("Text.atlas",["React","Typography.atlas","joinClasses"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("React").PureComponent,k={display:"inline"};h=babelHelpers.inherits(l,j);i=h&&h.prototype;l.prototype.render=function(){var m=this.props,n=m.color,o=m.size,p=m.weight,q=babelHelpers.objectWithoutProperties(m,["color","size","weight"]),r=c("joinClasses")(this.props.className,c("Typography.atlas").getClassName(o,p,n));if(this.props.display==="block")return c("React").createElement("div",babelHelpers["extends"]({},q,{className:r}),this.props.children);return c("React").createElement("span",babelHelpers["extends"]({},q,{className:r}),this.props.children)};function l(){h.apply(this,arguments)}l.defaultProps=k;f.exports=l}),null);
__d("CurrencyInput.atlas",["cx","Currency","NumberInput.atlas","React","Text.atlas","joinClasses"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k,l,m=c("React").Element,n=c("React").PureComponent,o={isZeroValidValue:false},p=babelHelpers["extends"]({},o,{isZeroValidValue:false});i=babelHelpers.inherits(q,n);j=i&&i.prototype;function q(){var s,t;for(var u=arguments.length,v=Array(u),w=0;w<u;w++)v[w]=arguments[w];return t=(s=j.constructor).call.apply(s,[this].concat(v)),this.$CurrencyInputFormWrapper1=function(x){this.props.binding.update(x)}.bind(this),t}q.prototype.render=function(){return c("React").createElement(r,{className:this.props.className,currency:this.props.currency,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onChange:this.$CurrencyInputFormWrapper1,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,value:this.props.binding.value})};q.defaultProps=p;k=babelHelpers.inherits(r,n);l=k&&k.prototype;function r(s,t){l.constructor.call(this,s,t);this.$CurrencyInput1=function(u){this.props.onChange&&this.props.onChange(u||0)}.bind(this);this.$CurrencyInput1=this.$CurrencyInput1.bind(this)}r.prototype.render=function(){__p&&__p();var s=this.props.value;if(!s)s=this.props.isZeroValidValue?0:null;var t=null,u=null;if(this.props.currency){var v=c("Currency").getSymbol(this.props.currency),w=v.length>1;t=c("React").createElement(c("Text.atlas"),{className:"_3mef"+(s===null?" _35ka":"")},v);u="_35kc"+(!w?" _4l4k":"")+(w?" _4l4l":"")}return c("React").createElement("div",{className:c("joinClasses")(this.props.className,u)},c("React").createElement(c("NumberInput.atlas"),{className:"_ty0",disabled:this.props.disabled,isZeroValidValue:this.props.isZeroValidValue,maxPrecision:this.props.maxPrecision,minPrecision:this.props.minPrecision,onBlur:this.props.onBlur,onFocus:this.props.onFocus,onKeyUp:this.props.onKeyUp,onValueUpdated:this.$CurrencyInput1,value:s}),t)};r.defaultProps=o;r.FormWrapper=q;f.exports=r}),null);
__d("AsyncUploadQueue",["AsyncUploadBase"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("AsyncUploadBase"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this,k);this._pending=[];this._waiting=[]}j.prototype.enqueue=function(k,l,m){"use strict";return this._add(this._waiting.push.bind(this._waiting),k,l,m)};j.prototype.prepend=function(k,l,m){"use strict";return this._add(this._waiting.unshift.bind(this._waiting),k,l,m)};j.prototype._add=function(k,l,m,n){"use strict";var o=babelHelpers["extends"]({},this._data,n),p=this._createFileUpload(l,m,o);k(p);this._processQueue();return p};j.prototype.dequeue=function(k){"use strict";this._abort(k)};f.exports=j}),null);
__d("Waiter",[],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this.$Waiter1=i;this.$Waiter2=0;this.$Waiter3=false}h.prototype.wait=function(i){"use strict";__p&&__p();var j=this,k=false;this.$Waiter4();return function(){if(k)return;for(var l=arguments.length,m=Array(l),n=0;n<l;n++)m[n]=arguments[n];i&&i.apply(this,m);j.$Waiter5();k=true}};h.prototype.go=function(){"use strict";this.$Waiter3=true;this.$Waiter6();return this};h.prototype.$Waiter4=function(){"use strict";this.$Waiter2++};h.prototype.$Waiter6=function(){"use strict";if(!this.$Waiter2&&this.$Waiter3)this.$Waiter1()};h.prototype.$Waiter5=function(){"use strict";this.$Waiter2--;this.$Waiter6()};f.exports=h}),null);
__d("ReactComposerBoostedPostLazyButton.react",["Bootloader","React","ReactDOM"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("React").Component);i=h&&h.prototype;j.prototype.componentDidMount=function(){"use strict";c("Bootloader").loadModules(["BoostedPostDialogButton.react"],function(k){c("ReactDOM").render(c("React").createElement(k,this.props),c("ReactDOM").findDOMNode(this.refs.boostButtonContainer))}.bind(this),"ReactComposerBoostedPostLazyButton.react")};j.prototype.render=function(){"use strict";return c("React").createElement("span",{ref:"boostButtonContainer"})};function j(){"use strict";h.apply(this,arguments)}f.exports=j}),null);
__d("ReactTargetingTaggerStore.react",["ReactComposerStoreBase","ReactComposerTaggerActionType","ReactComposerTaggerType"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("ReactComposerStoreBase"));i=h&&h.prototype;function j(){"use strict";var k=void 0;i.constructor.call(this,function(){var l={};l[c("ReactComposerTaggerType").TARGETING]={};return{taggersData:l,taggersSource:{}}},function(l){if(l.type===c("ReactComposerTaggerActionType").SET_TAGGER_DATA)k&&k.$ReactTargetingTaggerStore1(l)});k=this}j.prototype.getTaggerData=function(k,l){"use strict";return this.getComposerData(k).taggersData[l]};j.prototype.$ReactTargetingTaggerStore1=function(k){"use strict";var l=this.getComposerData(k.composerID),m=Array.isArray(k.taggerData)?k.taggerData.slice():Object.assign({},k.taggerData);l.taggersData[k.taggerID]=m;this.emitChange(k.composerID)};f.exports=new j()}),null);
__d("XPagesGetTargetingMetadataController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/targeting/metadata/",{page_id:{type:"Int",required:true},target_spec:{type:"String",required:true}})}),null);
__d("ReactComposerTargetingUtils",["fbt","AsyncRequest","React","ReactComposerTaggerActions","ReactComposerTaggerStore","ReactComposerTaggerType","ReactTargetingTaggerStore.react","XPagesGetTargetingMetadataController","XUIText.react","curry","intlList"],(function a(b,c,d,e,f,g,h){__p&&__p();var i={fetchMetadata:function j(k,l,m){var n=c("XPagesGetTargetingMetadataController").getURIBuilder().setInt("page_id",l).setString("target_spec",JSON.stringify(k)).getURI();new(c("AsyncRequest"))().setURI(n).setHandler(c("curry")(this._onFetchMetadataHandler,m)).send()},_onFetchMetadataHandler:function j(k,l){var m=l.payload,n=m.sentences.map(function(o){return c("React").createElement("span",null,h._("{content_label} {children}",[h.param("content_label",c("React").createElement(c("XUIText.react"),{weight:"bold"},o.content)),h.param("children",c("intlList")(o.children,c("intlList").CONJUNCTIONS.OR))]))});k(JSON.parse(m.target_spec),c("React").createElement("span",null,c("intlList")(n,c("intlList").CONJUNCTIONS.NONE)),m.reach_estimate)},getDataFromComposerTaggerStore:function j(k){return c("ReactComposerTaggerStore").getTaggerData(k,c("ReactComposerTaggerType").TARGETING)},getDataFromTargetingTaggerStore:function j(k){return c("ReactTargetingTaggerStore.react").getTaggerData(k,c("ReactComposerTaggerType").TARGETING)},setData:function j(k,l){var m={},n=["targeting","gating","hints","targetingSentences","gatingSentences","reachEstimate"];n.map(function(o){if(l[o])m[o]=l[o]});c("ReactComposerTaggerActions").setTaggerDataWithoutLogging(k,c("ReactComposerTaggerType").TARGETING,m)}};f.exports=i}),null);
__d("PagesComposerAudiences.react",["cx","fbt","BanzaiODS","BootloadedComponent.react","JSResource","LayerFadeOnHide","Link.react","React","ReactComposerContextTypes","ReactComposerTaggerStore","ReactComposerTargetingUtils","ReactTargetingTaggerStore.react","TargetingSpecStore","WebApiApplication","XUIDialog.react","XUIDialogBody.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogSaveButton.react","XUISpinner.react","XUIText.react","areEqual","gkx","idx","isEmpty"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("gkx")("AT4XL2t-wa00hmW-66Az9QaF0cGFY8DGGRpG9yabO_7-z46IsTWd_E-_OBbO4z-YheXhycgEn3xN9Bm4Cw7XJ_pNynrGtcF83Akhd1j-tKF_vQ"),k=c("React").PropTypes,l=587,m=c("React").createClass({displayName:"PagesComposerAudiences",contextTypes:c("ReactComposerContextTypes"),propTypes:{accessToken:k.string,appID:k.string,shown:k.bool.isRequired,onToggle:k.func.isRequired,onSave:k.func.isRequired,rootElement:k.object,callbackDataStatus:k.func,callbackSelectionStatus:k.func,saveData:k.func,initialActiveKey:k.string,canSeeCompleteList:k.bool,useTargetingAsFilter:k.bool,canSeeDemographicOptions:k.bool,feedTargetingShowReachGK:k.bool,hideFeedTargeting:k.bool,useFromLegacyComposer:k.bool,shouldShowRestrictionTabNux:k.bool,shouldHideLeftFooter:k.bool,allowExclusionsWithoutInclusions:k.bool,isLiveVideo:k.bool},getStores:function n(){if(this.props.useFromLegacyComposer)return[c("ReactTargetingTaggerStore.react")];return[c("ReactComposerTaggerStore")]},getInitialState:function n(){return{fetching:false,targeting:this.getInitialSavedData("targeting"),gating:this.getInitialSavedData("gating"),hints:this.getInitialSavedData("hints"),targetingSentences:this.getInitialSavedData("targetingSentences"),gatingSentences:this.getInitialSavedData("gatingSentences"),reachEstimate:this.getInitialReachEstimate()}},componentWillMount:function n(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(true);if(this.props.appID&&this.props.accessToken)c("WebApiApplication").init(this.props.accessToken,this.props.appID)},componentWillUnmount:function n(){if(this.props.callbackSelectionStatus)this.props.callbackSelectionStatus(false)},componentDidMount:function n(){c("BanzaiODS").bumpEntityKey("ui_audience_targeting","dialog_open")},_onSave:function n(){__p&&__p();var o={};Object.assign(o,this.state);if(!c("isEmpty")(o.targeting)&&!j)o.targeting=this.convertConnectionsToInterestsFromApiToTargetingSpec(c("TargetingSpecStore").getTargetingApiSpec());if(!c("isEmpty")(o.gating))o.gating=c("TargetingSpecStore").getTargetingApiSpec();if(this.props.useFromLegacyComposer)this._onSaveLegacy(o);else this._onSaveStore(o);this.props.onSave()},_onSaveStore:function n(o){c("ReactComposerTargetingUtils").setData(this.context.composerID,o)},_isDefaultSpec:function n(o){return c("areEqual")(o,{age_max:65,age_min:13})},_onSaveLegacy:function n(o){if(this.props.callbackDataStatus)this.props.callbackDataStatus(o.gating&&!c("isEmpty")(o.gating)&&!this._isDefaultSpec(o.gating)||o.targeting&&!c("isEmpty")(o.targeting)&&!this._isDefaultSpec(o.targeting)||o.hints&&!c("isEmpty")(o.hints)&&!this._isDefaultSpec(o.hints));c("ReactComposerTargetingUtils").setData(this.context.targetID,o)},_onTargetingChange:function n(o){if(!this.props.useTargetingAsFilter){delete o.age_min;delete o.age_max}if(c("areEqual")(this.state.targeting,o)||c("areEqual")(this.state.hints,o))return;this.setState({fetching:true});var p=this.props.useTargetingAsFilter?o:Object.assign({},o,this.state.gating);c("ReactComposerTargetingUtils").fetchMetadata(p,this.context.targetID,this._onTargetingChangeHandler)},_onTargetingChangeHandler:function n(o,p,q){if(this.props.useTargetingAsFilter)this.setState({fetching:false,targeting:o,targetingSentences:p,reachEstimate:q});else this.setState({fetching:false,hints:o,targetingSentences:p})},_onGatingChange:function n(o){var p;if(c("areEqual")(this.state.gating,o))return;this.setState({fetching:true});var q=this.props.useTargetingAsFilter?o:Object.assign({},o,this.state.hints),r=(p=o)!=null?(p=p.geo_locations)!=null?(p=p.zips)!=null?p.length:p:p:p;if(j&&r&&r>=1e3)this.setState({fetching:false,gating:o,targetingSentences:c("React").createElement("span",null,i._("{=Location - Living in:}",[i.param("=Location - Living in:",c("React").createElement(c("XUIText.react"),{weight:"bold"},i._("Location - Living in:")))]),c("React").createElement(c("XUIText.react"),{weight:"bold"}," \u2026"))});else c("ReactComposerTargetingUtils").fetchMetadata(q,this.context.targetID,this._onGatingChangeHandler)},_onGatingChangeHandler:function n(o,p){if(this.props.useTargetingAsFilter)this.setState({fetching:false,gating:o,gatingSentences:p});else this.setState({fetching:false,gating:o,targetingSentences:p})},convertConnectionsToInterestsFromApiToTargetingSpec:function n(o){if(o&&o.connections&&!o.fan_of){o.fan_of=o.connections;delete o.connections}return o},convertInterestsToConnectionsFromTargetingSpecToApi:function n(o){if(o&&o.fan_of&&!o.connections){o.connections=o.fan_of;delete o.fan_of}return o},getInitialSavedData:function n(o){var p={};if(this.props.useFromLegacyComposer)p=this.getSavedSpec(o,this.context.targetID);else p=this.getSavedSpec(o,this.context.composerID);return this.convertInterestsToConnectionsFromTargetingSpecToApi(p)},getSavedSpec:function n(o,p){if(this.props.useFromLegacyComposer)var q=c("ReactComposerTargetingUtils").getDataFromTargetingTaggerStore(p);else q=c("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(p);return q==null?null:q[o]},getInitialReachEstimate:function n(){if(!this.props.useTargetingAsFilter)return null;else{var o=c("ReactComposerTargetingUtils").getDataFromComposerTaggerStore(this.context.composerID);return o==null?null:o.reachEstimate}},renderReachEstimate:function n(){if(!this.state.reachEstimate)return null;var o=this.state.reachEstimate===20?i._("0-20"):this.state.reachEstimate,p=i._("Reach estimate for news feed targeting: {estimate_number}",[i.param("estimate_number",o)]);return c("React").createElement(c("XUIText.react"),null,p)},renderHelpLink:function n(){var o=i._("Have a Question?"),p="https://www.facebook.com/facebookmedia/get-started/audience-optimization/",q=c("React").createElement(c("Link.react"),{href:p,target:"_blank"},i._("Read our Guidelines."));return c("React").createElement("div",{className:"_3xrd"},c("React").createElement(c("XUIText.react"),null,o)," ",q)},renderFooterLeftContent:function n(){if(this.props.shouldHideLeftFooter)return null;if(!this.props.useTargetingAsFilter)return this.renderHelpLink();return this.renderReachEstimate()},render:function n(){var o=c("React").createElement("div",{className:"_1220"},c("React").createElement(c("XUISpinner.react"),null)),p=this.props.useTargetingAsFilter?this.state.targeting:this.state.hints;return c("React").createElement(c("XUIDialog.react"),{shown:this.props.shown,behaviors:{LayerFadeOnHide:c("LayerFadeOnHide")},layerHideOnBlur:false,onToggle:this.props.onToggle,width:l},c("React").createElement(c("XUIDialogBody.react"),null,c("React").createElement(c("BootloadedComponent.react"),{accessToken:this.props.accessToken,bootloadLoader:c("JSResource")("PagesComposerAudiencesBody.react").__setRef("PagesComposerAudiences.react"),bootloadPlaceholder:o,disallowRadiusSelection:this.props.isLiveVideo,initialTargetingSpec:p,initialGatingSpec:this.state.gating,onTargetingChange:this._onTargetingChange,onGatingChange:this._onGatingChange,initialActiveKey:this.props.initialActiveKey,canSeeCompleteList:this.props.canSeeCompleteList,useTargetingAsFilter:this.props.useTargetingAsFilter,canSeeDemographicOptions:this.props.canSeeDemographicOptions,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions})),c("React").createElement(c("XUIDialogFooter.react"),{leftContent:this.renderFooterLeftContent()},c("React").createElement(c("XUIDialogCancelButton.react"),{use:"default"}),c("React").createElement(c("XUIDialogSaveButton.react"),{className:"_2uyv",use:"confirm",action:"confirm",disabled:this.state.fetching,onClick:this._onSave})))}});f.exports=m}),null);
__d("CommerceInventoryToggle.react",["cx","fbt","BUIAdoptionAdsPopoverLink.react","FBToggleSwitch.react","React"],(function a(b,c,d,e,f,g,h,i){"use strict";var j=c("React").PropTypes,k=c("React").createClass({displayName:"CommerceInventoryToggle",propTypes:{disabled:j.bool.isRequired,inventory:j.number.isRequired,setInventoryInfo:j.func},render:function l(){var m=this.props.inventory>0?i._("In Stock"):i._("Out of Stock");return c("React").createElement("div",{className:"_3-95"},c("React").createElement("div",{className:"_2pim"},c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.props.disabled,animate:true,checked:this.props.inventory>0,onToggle:this.props.setInventoryInfo}),c("React").createElement("span",{className:"_3jn"},m,c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:i._("Mark this product as in stock or out of stock"),contentWidthUseSparingly:318,position:"above"}))))}});f.exports=k}),null);
__d("CommerceInventoryAvailabilityOptions",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({INVENTORY_IN_STOCK:100,INVENTORY_OUT_OF_STOCK:0})}),null);
__d("CommerceProductVariantType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COLOR:"Color",CUSTOM:"Custom",EDITION:"Edition",FIT:"Fit",FLAVOR:"Flavor",FORMAT:"Format",LENGTH:"Length",MATERIAL:"Material",MODEL:"Model",PLATFORM:"Platform",SCENT:"Scent",SIZE:"Size",WIDTH:"Width"})}),null);
__d("CommerceSelfServeSection",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHECKOUT_URL:"checkout_url",COMMERCE_INSIGHTS:"commerce_insights",FEATURED_PRODUCT_TOGGLE:"featured_product_toggle",INVENTORY:"inventory",IN_STOCK_TOGGLE:"in_stock_toggle",PRODUCT_VISIBILITY:"product_visibility",SHIPPING_OPTIONS:"shipping_options",TAX_CATEGORY:"tax_category",TAX_TABLE:"tax_table",VARIANTS:"variants",MINIMUM_PRICE_ERROR:"minimum_price_error",SALE_PRICE:"sale_price",CATEGORY:"category"})}),null);
__d("PageCommerceProductVariantPage.react",["ix","cx","fbt","glyph","invariant","AccessibleTableParts.react","AdsCurrencyInput_DEPRECATED.react","BUIAdoptionAdsPopoverLink.react","CommerceCurrencyInputUtils","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceProductVariantType","CommerceSelfServeSection","CommerceUI","DummySearchSource","FreeformSearchSource","Image.react","Layout.react","Link.react","NumberInput.atlas","React","SearchableEntry","XUISingleSelector.react","XUITable.react","XUITokenizer.react","isEmpty"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=c("React").PropTypes,n=c("AccessibleTableParts.react").BodyRow,o=c("AccessibleTableParts.react").HeadRow,p=c("Layout.react").Column,q=c("Layout.react").FillColumn,r=c("XUISingleSelector.react").Option,s=c("React").createClass({displayName:"PageCommerceProductVariantPage",propTypes:{currencyCode:m.string.isRequired,defaultVariantPrice:m.number,getPriceError:m.func.isRequired,isOnSale:m.bool.isRequired,inventoryType:m.string.isRequired,setVariantInfo:m.func.isRequired,variants:m.arrayOf(m.shape({label:m.string,options:m.arrayOf(m.string)})).isRequired,variantItems:m.objectOf(m.shape({properties:m.object,price:m.number.isRequired,salePrice:m.number.isRequired,inventory:m.number,productID:m.number})).isRequired},_cachedItems:{},_deepClone:function t(u){return JSON.parse(JSON.stringify(u))},getInitialState:function t(){this._cachedItems=this._deepClone(this.props.variantItems);return{searchSource:new(c("FreeformSearchSource"))(new(c("DummySearchSource"))(),function(u){return u},0)}},render:function t(){var u=null;if(this.props.variants.length<c("CommerceUI").MAX_VARIANTS)u=c("React").createElement(c("Link.react"),{onClick:this._addNewVariantInput},j._("Add Option"));return c("React").createElement("div",{className:"_3-8j"},c("React").createElement("div",{ref:"variant_input_list"},this.props.variants.map(function(v,w){return this._getVariantInput(v,w,this._getVariantLabels())}.bind(this))),u,this._getVariantsTable())},_getVariantInput:function t(u,v,w){return c("React").createElement("div",{key:"variant"+v,className:"_3-95"},c("React").createElement(c("Layout.react"),null,c("React").createElement(p,null,this._getVariantOptions(u,v,w)),c("React").createElement(q,{className:"_2pis"},c("React").createElement(c("XUITokenizer.react"),{entries:this._getTokenizerEntries(u),searchSource:this.state.searchSource,onRemoveEntryAttempt:this._onRemoveVariantOptionAttempt.bind(this,u,v),onAddEntryAttempt:this._onAddVariantOptionAttempt.bind(this,u,v),tokenizeQueryString:this._tokenizeQueryString.bind(this,u,v),selectOnBlur:true})),c("React").createElement(p,null,c("React").createElement(c("Image.react"),{className:"_11dw",onClick:this._removeVariant.bind(this,u,v),src:h("101449")}))))},_getVariantsTable:function t(){__p&&__p();if(c("isEmpty")(this.props.variants))return null;var u=[];for(var v in this.props.variantItems){var w=this.props.variantItems[v],x=w.properties,y=[];this.props.variants.forEach(function(C,D){var E=x&&x[C.label]?x[C.label]:"";y.push(c("React").createElement("td",{className:"_2ncv",key:D},E))});y.push(c("React").createElement("td",{width:"50",key:v+"inventory"},this._getInventoryInput(v,w.inventory)));var z=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(w.price,this.props.currencyCode),A=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(w.salePrice,this.props.currencyCode);y.push(c("React").createElement("td",{width:"50",key:v+"price"},c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantPrice.bind(this,v),value:z!==null?z:0,xuiError:this.props.getPriceError(w.price)})));if(this.props.isOnSale)y.push(c("React").createElement("td",{width:"50",key:v+"salePrice"},c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{currency:this.props.currencyCode,onDataUpdate:this._updateVariantSalePrice.bind(this,v),value:A!==null?A:0,xuiError:this.props.getPriceError(w.salePrice)})));u.push(c("React").createElement(n,{key:v},y))}var B=[];this.props.variants.forEach(function(C,D){B.push(c("React").createElement("th",{key:C.label+D},this._getVariantLabelDescription(String(C.label))))}.bind(this));B.push(c("React").createElement("th",{key:"inventory"},j._("Inventory")));B.push(c("React").createElement("th",{key:"price"},j._("Price")));if(this.props.isOnSale)B.push(c("React").createElement("th",{key:"salePrice"},j._("Sale Price"),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("You can disable individual \"Sale Prices\" by setting them equal to regular \"Prices\"."),contentWidthUseSparingly:318,position:"below"})));return c("React").createElement(c("XUITable.react"),{outerBorder:true,className:"_2ncw"},c("React").createElement("thead",null,c("React").createElement(o,null,B)),c("React").createElement("tbody",null,u))},_updateVariantPrice:function t(u,v){var w=c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(v,this.props.currencyCode);this._updateVariantItem(u,"price",w)},_getInventoryInput:function t(u,v){return this.props.inventoryType===c("CommerceSelfServeSection").IN_STOCK_TOGGLE?c("React").createElement(c("CommerceInventoryToggle.react"),{disabled:false,inventory:v!==null?v:0,setInventoryInfo:function(w){var v=w?c("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:c("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK;this._updateVariantItem(u,"inventory",v)}.bind(this)}):c("React").createElement(c("NumberInput.atlas"),{isZeroValidValue:true,name:"inventory",nonnegative:true,value:v,formatNumber:false,onValueUpdated:this._updateVariantItem.bind(this,u,"inventory")})},_updateVariantSalePrice:function t(u,v){var w=c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(v,this.props.currencyCode);this._updateVariantItem(u,"salePrice",w)},_updateVariantItem:function t(u,v,w){var x=this.props.variantItems;x[u][v]=w;this._cachedItems[u][v]=w;this.props.setVariantInfo({variantItems:x})},_getVariantItems:function t(u){__p&&__p();var v={};if(u.length===0)return v;this._getVariantCombos(u.slice(0)).forEach(function(w){__p&&__p();var x=[];for(var y in w)x.push(y+w[y]);x.sort();var z=JSON.stringify(x);if(z in this._cachedItems)v[z]=this._deepClone(this._cachedItems[z]);else{v[z]={properties:w,price:this.props.defaultVariantPrice,salePrice:this.props.defaultVariantPrice,inventory:0};this._cachedItems[z]=this._deepClone(v[z])}}.bind(this));return v},_getVariantCombos:function t(u){__p&&__p();if(u.length===0)return[{}];var v=[],w=u.shift(),x=this._getVariantCombos(u.slice(0));if(w.options.length==0)return x;w.options.forEach(function(y){x.forEach(function(z){var A=Object.assign({},z);A[w.label]=y;v.push(A)})});return v},_getTokenizerEntries:function t(u){return u.options.map(function(v){return new(c("SearchableEntry"))({uniqueID:v,title:v})})},_onRemoveVariantOptionAttempt:function t(u,v,w){var x=w.getTitle().trim(),y=u.options.indexOf(x);if(y>=0)u.options.splice(y,1);this._updateVariant(u,v)},_onAddVariantOptionAttempt:function t(u,v,w){var x=w.getTitle().trim();if(u.options.indexOf(x)>=0||x.length===0)return;u.options.push(x);this._updateVariant(u,v)},_updateVariant:function t(u,v){var w=this.props.variants;w[v]=u;var x=this._getVariantItems(w);this.props.setVariantInfo({variants:w,variantItems:x})},_tokenizeQueryString:function t(u,v,w){if(!w||!w.includes(","))return null;var x=w.split(",").filter(function(z){return z!==""}),y=x.pop();x.map(function(z){this._onAddVariantOptionAttempt(u,v,new(c("SearchableEntry"))({uniqueID:z,title:z}))}.bind(this));return new(c("SearchableEntry"))({uniqueID:y,title:y})},_addNewVariantInput:function t(){var u=this.props.variants;u.push(this._getDefaultVariant());this.props.setVariantInfo({variants:u,variantItems:this._getVariantItems(u)})},_removeVariant:function t(u,v){var w=this.props.variants;w.splice(v,1);this.props.setVariantInfo({variants:w,variantItems:this._getVariantItems(w)})},_getVariantLabels:function t(){return this.props.variants.map(function(u){return String(u.label)})},_getDefaultVariant:function t(){var u=this._getVariantLabels(),v=void 0;for(var w in c("CommerceProductVariantType")){var x=c("CommerceProductVariantType")[w];if(u.indexOf(x)===-1){v=x;break}}return{label:v,options:[]}},_getVariantOptions:function t(u,v,w){var x=[];for(var y in c("CommerceProductVariantType")){var z=c("CommerceProductVariantType")[y];if(u.label!==z&&w.indexOf(z)!==-1)continue;x.push(c("React").createElement(r,{key:y+v,value:z},this._getVariantLabelDescription(z)))}return c("React").createElement(c("XUISingleSelector.react"),{className:"_11dy",onChange:this._onSelectorChange.bind(this,u,v),value:u.label,size:"large"},x)},_getVariantLabelDescription:function t(u){__p&&__p();var v=u.toUpperCase();Object.prototype.hasOwnProperty.call(c("CommerceProductVariantType"),v)||l(0);switch(c("CommerceProductVariantType")[v]){case c("CommerceProductVariantType").SIZE:return j._("Size");case c("CommerceProductVariantType").COLOR:return j._("Color");case c("CommerceProductVariantType").MATERIAL:return j._("Material");case c("CommerceProductVariantType").LENGTH:return j._("Length");case c("CommerceProductVariantType").FIT:return j._("Fit");case c("CommerceProductVariantType").WIDTH:return j._("Width");case c("CommerceProductVariantType").SCENT:return j._("Scent");case c("CommerceProductVariantType").FLAVOR:return j._("Flavor");case c("CommerceProductVariantType").MODEL:return j._("Model");case c("CommerceProductVariantType").FORMAT:return j._("Format");case c("CommerceProductVariantType").PLATFORM:return j._("Platform");case c("CommerceProductVariantType").EDITION:return j._("Edition");default:return u}},_onSelectorChange:function t(u,v,w){var x=this.props.variants;x[v].label=w.value;this.props.setVariantInfo({variants:x,variantItems:this._getVariantItems(x)});u.label=w.value;this._updateVariant(u,v)}});f.exports=s}),null);
__d("ComputerPanelActionState",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({NEUTRAL:null,DROP:null});f.exports=h}),null);
__d("DragDropFilePicker",["DragDropTarget","mixin","ArbiterMixin","FilePickerEvent","FileSelectionContainer","createArrayFromMixed","SelectionSource"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k,l){"use strict";__p&&__p();i.constructor.call(this);this.$DragDropFilePicker1=new(c("DragDropTarget"))(k);if(l.onDocumentDragEnterCallback)this.$DragDropFilePicker1.setOnDocumentDragEnterCallback(l.onDocumentDragEnterCallback);if(l.onDocumentDragLeaveCallback)this.$DragDropFilePicker1.setOnDocumentDragLeaveCallback(l.onDocumentDragLeaveCallback);if(l.onDragEnterCallback)this.$DragDropFilePicker1.setOnDragEnterCallback(l.onDragEnterCallback);if(l.onDragLeaveCallback)this.$DragDropFilePicker1.setOnDragLeaveCallback(l.onDragLeaveCallback);this.$DragDropFilePicker1.setOnFilesDropCallback(function(m){var n=c("createArrayFromMixed")(m).filter(function(o){return!l.isFileValid||l.isFileValid(o)}).map(function(o){return new(c("FileSelectionContainer"))(o)});if(n.length>0)this.inform(c("FilePickerEvent").SELECTED,{sender:this,source:c("SelectionSource").FILE,selections:n});else l.onDocumentDragLeaveCallback.call(null)}.bind(this));this.$DragDropFilePicker1.enable()}j.prototype.disable=function(){"use strict";this.$DragDropFilePicker1.disable()};f.exports=j}),null);
__d("PUWUploaders",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({HTML5:"html5",FLASH:"flash"})}),null);
__d("OmnipickerHTML5FilePickerFactory",["fbt","HTML5FilePicker","PUWApplications","PUWMethods","PUWUploaders"],(function a(b,c,d,e,f,g,h){var i={create:function j(k){return new(c("HTML5FilePicker"))(k,{accept:"image/*",fallbackFunction:function l(){},multiple:true,qn:"todo",waterfallApp:c("PUWApplications").WEB_OMNIPICKER,waterfallUploader:c("PUWUploaders").HTML5,waterfallMethod:c("PUWMethods").FILE_SELECTOR,title:h._("Choose files to upload")})}};f.exports=i}),null);
__d("OmnipickerDispatcher",["Dispatcher_DEPRECATED"],(function a(b,c,d,e,f,g){"use strict";f.exports=new(c("Dispatcher_DEPRECATED"))()}),null);
__d("OmnipickerActions",["OmnipickerDispatcher","clamp","keyMirror"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("keyMirror")({APP_INITIALIZED:null,FILE_PICKER_SELECT_STARTED:null,FILE_PICKER_SELECTED:null,FILE_PICKER_SELECT_CANCELED:null,EXISTING_PHOTOS_FETCHED:null,PANEL_INITIALIZED:null,PHOTO_SELECTED_OPTIMISTICALLY:null,PHOTO_SOURCE_SELECTED:null,RESIZE_FAILED:null,RESIZE_STARTED:null,RESIZE_SUCCEEDED:null,SELECTION_CHANGED:null,UPLOAD_CANCELED:null,UPLOAD_FAILED:null,UPLOAD_FINISHED:null,UPLOAD_PROGRESSED:null,UPLOAD_QUEUED:null,UPLOAD_STARTED:null}),i={types:h,appInitialized:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.APP_INITIALIZED,appID:k,logger:l,initialSource:m})},panelInitialized:function j(k,l){c("OmnipickerDispatcher").dispatch({type:h.PANEL_INITIALIZED,appID:k,source:l})},photoSourceSelected:function j(k,l){c("OmnipickerDispatcher").dispatch({type:h.PHOTO_SOURCE_SELECTED,appID:k,source:l})},filePickerSelectStarted:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.FILE_PICKER_SELECT_STARTED,appID:k,method:l,ref:m})},filePickerSelected:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.FILE_PICKER_SELECTED,appID:k,method:l,ref:m})},filePickerSelectCancelled:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.FILE_PICKER_SELECT_CANCELED,appID:k,method:l,ref:m})},resizeFailed:function j(k,l,m,n){c("OmnipickerDispatcher").dispatch({type:h.RESIZE_FAILED,appID:k,dt:l,bytes:m,errorCode:n})},resizeStarted:function j(k){c("OmnipickerDispatcher").dispatch({type:h.RESIZE_STARTED,appID:k})},resizeSucceeded:function j(k,l,m,n,o){c("OmnipickerDispatcher").dispatch({type:h.RESIZE_SUCCEEDED,appID:k,dt:l,bytes:m,originalSize:n,customTags:o})},uploadQueued:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_QUEUED,appID:k,source:l,ids:m.map(function(n){return n.getSelectionContainerID()}),volume:m.length})},selectionChanged:function j(k,l,m,n){c("OmnipickerDispatcher").dispatch({type:h.SELECTION_CHANGED,appID:k,source:l,id:m,checked:n})},uploadStart:function j(k,l,m,n){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_STARTED,appID:k,source:l,id:m,bytes:n})},uploadProgress:function j(k,l,m,n){var o=c("clamp")(n.bytesTransferred/n.file.size*100,0,100);c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_PROGRESSED,appID:k,source:l,id:m,progress:o})},uploadDone:function j(k,l,m,n,o,p){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_FINISHED,appID:k,source:l,id:m,src:n,fbid:o,retriesNeeded:p})},uploadFailed:function j(k,l,m,n,o){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_FAILED,appID:k,source:l,id:m,retriesNeeded:n,errorCode:o})},existingPhotosFetched:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.EXISTING_PHOTOS_FETCHED,appID:k,photos:m.map(function(n){return{source:l,id:n.id,src:n.image.uri}})})},optimisticSelect:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.PHOTO_SELECTED_OPTIMISTICALLY,appID:k,source:l,id:m})},cancelUpload:function j(k,l,m){c("OmnipickerDispatcher").dispatch({type:h.UPLOAD_CANCELED,appID:k,source:l,id:m})}};f.exports=i}),null);
__d("OmnipickerUploadController",["OmnipickerActions","SelectionSource"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$OmnipickerUploadController1={}}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadController1[i]={}};h.prototype.registerAdapter=function(i,j,k){__p&&__p();this.$OmnipickerUploadController1[i][k]=j;var l=c("SelectionSource").toPhotoSourceType(k);j.subscribe("maxReached",function(){});j.subscribe("resize_start",this.$OmnipickerUploadController2.bind(this,i));j.subscribe("resize_done",this.$OmnipickerUploadController3.bind(this,i));j.subscribe("resize_hires_start",function(){});j.subscribe("upload_start",this.$OmnipickerUploadController4.bind(this,i,l));j.subscribe("upload_progress",this.$OmnipickerUploadController5.bind(this,i,l));j.subscribe("upload_done",this.$OmnipickerUploadController6.bind(this,i,l));j.subscribe("upload_failed",this.$OmnipickerUploadController7.bind(this,i,l));j.subscribe("finished",function(){})};h.prototype.uploadSelections=function(i,j,k,l){__p&&__p();if(!k.every(function(o){return o.getSource()==j}))throw new Error("Selections' source must be "+j);var m=this.$OmnipickerUploadController1[i][j],n=c("SelectionSource").toPhotoSourceType(j);if(!m){k.forEach(function(o){var p=o.getExistingImageID(),q=o.getSrc();c("OmnipickerActions").uploadDone(i,n,p,q,p,0)});return}if(!k[0].hasPlaceholderUI())c("OmnipickerActions").uploadQueued(i,n,k);m.uploadSelections(k,l)};h.prototype.cancelUpload=function(i,j,k){c("OmnipickerActions").cancelUpload(i,j,k)};h.prototype.$OmnipickerUploadController2=function(i,event,j){c("OmnipickerActions").resizeStarted(i)};h.prototype.$OmnipickerUploadController3=function(i,event,j){var k=j.scubaData.scuba_ints,l=k.timeResizing||k.dt,m=k.resizedSize;if(j.error)c("OmnipickerActions").resizeFailed(i,l,m,j.error.message);else c("OmnipickerActions").resizeSucceeded(i,l,m,k.originalSize,{skipped_resizing:j.scubaData.scuba_tags.skippedResizing})};h.prototype.$OmnipickerUploadController4=function(i,j,event,k){c("OmnipickerActions").uploadStart(i,j,k.uploadID,k.size)};h.prototype.$OmnipickerUploadController5=function(i,j,event,k){c("OmnipickerActions").uploadProgress(i,j,k.uploadID,k)};h.prototype.$OmnipickerUploadController6=function(i,j,event,k){c("OmnipickerActions").uploadDone(i,j,k.uploadID,k.response.src,k.response.fbid,k.retriesNeeded)};h.prototype.$OmnipickerUploadController7=function(i,j,event,k){c("OmnipickerActions").uploadFailed(i,j,k.uploadID,k.retriesNeeded,k.response_error)};f.exports=new h()}),null);
__d("OmnipickerUploadSession",["FilePickerEvent","OmnipickerActions","OmnipickerUploadController","PhotoSourceTypes","SubscriptionsHandler"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(){this.$OmnipickerUploadSession1={}}h.prototype.registerOmnipicker=function(i){this.$OmnipickerUploadSession1[i]={pickersData:[]}};h.prototype.addPicker=function(i,j,k,l){__p&&__p();var m=new(c("SubscriptionsHandler"))();m.addSubscriptions(j.subscribe(c("FilePickerEvent").SELECT_START,function(n,o){c("OmnipickerActions").filePickerSelectStarted(i,l,k)}),j.subscribe(c("FilePickerEvent").SELECTED,function(n,o){if(o.selections&&o.selections.length>0){c("OmnipickerActions").filePickerSelected(i,l,k);var p=o.selections[0].getSource();c("OmnipickerUploadController").uploadSelections(i,p,o.selections)}}),j.subscribe(c("FilePickerEvent").SELECT_CANCELED,function(n,o){c("OmnipickerActions").filePickerSelectCancelled(i,l,k)}));this.$OmnipickerUploadSession1[i].pickersData.push({picker:j,subscriptions:m})};h.prototype.removePicker=function(i,j){var k=this.$OmnipickerUploadSession1[i].pickersData;k.forEach(function(l,m){if(l.picker===j){l.subscriptions.release();k.splice(m,1)}})};h.prototype.cancelUpload=function(i,j,k){if(j!==c("PhotoSourceTypes").COMPUTER)throw new Error("Can only cancel "+c("PhotoSourceTypes").COMPUTER+" uploads. Actual source: "+j);c("OmnipickerUploadController").cancelUpload(i,j,k)};f.exports=new h()}),null);
__d("HTML5FilePickerButton.react",["fbt","OmnipickerHTML5FilePickerFactory","OmnipickerUploadSession","React","ReactDOM","PhotoSourceTypes","PUWMethods","XUIButton.react"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.componentDidMount=function(){"use strict";this.picker=c("OmnipickerHTML5FilePickerFactory").create(c("ReactDOM").findDOMNode(this.refs.fileButton));c("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,c("PhotoSourceTypes").COMPUTER,c("PUWMethods").FILE_SELECTOR)};l.prototype.componentWillUnmount=function(){"use strict";c("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)};l.prototype.render=function(){"use strict";var m=h._("Select Files");return c("React").createElement(c("XUIButton.react"),{ref:"fileButton",href:"#",size:"xlarge",label:m})};function l(){"use strict";i.apply(this,arguments)}l.propTypes={appID:k.string.isRequired};f.exports=l}),null);
__d("DragDropInstructions.react",["cx","fbt","ComputerPanelActionState","HTML5FilePickerButton.react","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.renderInstructions=function(){switch(this.props.actionState){case c("ComputerPanelActionState").DROP:return c("React").createElement("div",null,c("React").createElement("div",{className:"_39ld"},c("React").createElement("div",{className:"_4zwj"})),c("React").createElement("div",{className:"_4zwc"},i._("Drop photos here")));case c("ComputerPanelActionState").NEUTRAL:return c("React").createElement("div",null,c("React").createElement("div",null,c("React").createElement("div",{className:"_39ld"},c("React").createElement("div",{className:"_4zwd"})),c("React").createElement("div",{className:"_4zwc"},i._("Drag photos here"))),c("React").createElement("div",{className:"_4zwi"},c("React").createElement("span",{className:"_4zwe"}),i._("or"),c("React").createElement("span",{className:"_4zwe"})),c("React").createElement("div",{className:"_4zwf"},c("React").createElement(c("HTML5FilePickerButton.react"),{appID:this.props.appID})))}}.bind(this),this.renderOverlay=function(){return c("React").createElement("div",{className:"_4zwg"},c("React").createElement("div",{className:"_4zwh"},this.renderInstructions()))}.bind(this),o}m.prototype.render=function(){"use strict";if(this.props.isOverlay)return this.renderOverlay();return this.renderInstructions()};m.propTypes={actionState:l.oneOf(Object.keys(c("ComputerPanelActionState"))).isRequired,appID:l.string.isRequired,isOverlay:l.bool};f.exports=m}),null);
__d("EmptyPanel.react",["cx","DragDropInstructions.react","React","ComputerPanelActionState"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m="_2gyt"+(this.props.actionState===c("ComputerPanelActionState").NEUTRAL?" _2gyu":"")+(this.props.actionState===c("ComputerPanelActionState").DROP?" _2gyw":"");return c("React").createElement("div",{className:m},c("React").createElement("div",{className:"_2gyv"},c("React").createElement(c("DragDropInstructions.react"),{actionState:this.props.actionState,appID:this.props.appID})))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={actionState:k.oneOf(Object.keys(c("ComputerPanelActionState"))).isRequired,appID:k.string.isRequired};f.exports=l}),null);
__d("HTML5UploadAdapter",["AsyncUploadQueue","ArbiterMixin","PhotosUploadWaterfall","PhotosUploadWaterfallErrorCodes","PhotosUploadWaterfallMixin","PhotosMimeType","JpegResizer","SphericalImage","SphericalPhotoConfig","performanceNow","SphericalPhotoUploadHelper","URI"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("SphericalPhotoUploadHelper").shouldResize360;function i(j){__p&&__p();this._config=babelHelpers["extends"]({maxRetries:0,retryTimeout:250,uri:null,qn:null,postParams:{}},j);this._uploads={};this._numProcessing=0;this._activeUploadCount=0;this._uploadQueue=new(c("AsyncUploadQueue"))(this._config.uri);this._uploadQueue.setAllowCrossOrigin(true);this._uploadQueue.setLimit(j.maxParallel);this._uploadQueue.subscribe("start",this._handleStart.bind(this));this._uploadQueue.subscribe("failure",this._handleFailure.bind(this));this._uploadQueue.subscribe("success",this._handleSuccess.bind(this));this._uploadQueue.subscribe("progress",this._handleProgress.bind(this));this._uploadQueue.subscribe("success_after_abort",this._handleCanceledPhotoUploadedAnyway.bind(this));if(c("JpegResizer").isSupported()){this._jpegResizer=new(c("JpegResizer"))(j.maxParallel);if(Object.prototype.hasOwnProperty.call(j,"useHighQuality"))this._jpegResizer.setHighQuality(j.useHighQuality)}this._uploadQueue.setPreprocessHandler(this._resizeUpload.bind(this))}Object.assign(i,{isSupported:function j(){return c("AsyncUploadQueue").isSupported()&&c("JpegResizer").isSupported()},MAX_WIDTH:2048,MAX_HEIGHT:2048});Object.assign(i.prototype,c("ArbiterMixin"),c("PhotosUploadWaterfallMixin"),{getUploaderApp:function j(){return c("PhotosUploadWaterfall").APP_HTML5},getWaterfallID:function j(){return this._config.qn},getWaterfallSource:function j(){return this._config.ref},uploadFiles:function j(k,l){__p&&__p();var m=function(o,p){o.sphericalImage=p;this._enqueueUpload(o,babelHelpers["extends"]({},this._config.postParams,l))}.bind(this),n=function(o){var p=c("performanceNow")(),q=function(s){m(o,s);this.logWaterfallStep(c("PhotosUploadWaterfall").DONE_SPHERICAL_CHECK,{scuba_ints:{dt:c("performanceNow")()-p},projection_type:s.getProjectionType()})}.bind(this),r=function(s){m(o);this.logWaterfallStep(c("PhotosUploadWaterfall").FAIL_SPHERICAL_CHECK,{code:c("PhotosUploadWaterfallErrorCodes").SPHERICAL_CHECK_FAILED,scuba_ints:{dt:c("performanceNow")()-p}})}.bind(this);c("SphericalImage").createFromBlob(o).then(q)["catch"](r).done()}.bind(this);k.forEach(n)},uploadSelections:function j(k,l){var m=k.map(function(n){var o=n.getFile();o.uploadID=n.getSelectionContainerID();return o});this.uploadFiles(m,l)},setHiRes:function j(k){if(Object.prototype.hasOwnProperty.call(this._config,"useHighQuality"))this._jpegResizer&&this._jpegResizer.setHighQuality(k)},setNumSelected:function j(k){},markDeleted:function j(k){},addPostParam:function j(k,l){this._config.postParams=this._config.postParams||{};this._config.postParams[k]=l},cancelIndividualUpload:function j(k){var l=this._getUpload(k);if(l){this._uploadQueue.dequeue(l);this._removeUpload(l)}},cancelAllUploads:function j(){for(var k in this._uploads){var l=this._getUpload(k);this._uploadQueue.dequeue(l);this._removeUpload(l)}},getActiveUploadCount:function j(){return this._activeUploadCount},_getUpload:function j(k){if(k&&this._uploads[k])return this._uploads[k];else return null},_removeUpload:function j(k){if(!this._uploads[k.getFile().uploadID])return;delete this._uploads[k.getFile().uploadID];if(!k.isWaiting())this._activeUploadCount--},_handleStart:function j(k,l){this._activeUploadCount++;this.inform("upload_start",{uploadID:l.getFile().uploadID,retry:!!l.getFile()._retryCount,file:l.getFile(),size:l.getFile().size})},_handleFailure:function j(k,l){var m=Math.pow(2,l.getFile()._retryCount);this._removeUpload(l);if(l.getFile()._retryCount++<this._config.maxRetries){setTimeout(this._enqueueUpload.bind(this,l.getFile(),babelHelpers["extends"]({},this._config.postParams,{retry:l.getFile()._retryCount})),this._config.retryTimeout*m);this.logWaterfallStep(c("PhotosUploadWaterfall").RETRY_UPLOAD,{code:l.getResponse().getError()});this.inform("upload_retry",{uploadID:l.getFile().uploadID,file:l.getFile(),response:l.getResponse(),retry:l.getFile()._retryCount})}else this.inform("upload_failed",{uploadID:l.getFile().uploadID,file:l.getFile(),response:l.getResponse()});return false},_handleSuccess:function j(k,l){this._removeUpload(l);var m=l.getResponse(),n=m.payload;if(n.metadata)n=n.metadata;this.inform("upload_done",{uploadID:l.getFile().uploadID,response:n[0],hiRes:true,retriesNeeded:l.getFile()._retryCount})},_handleProgress:function j(k,l){this.inform("upload_progress",{file:l.getFile(),uploadID:l.getFile().uploadID,bytesTransferred:l.getProgressEvent().loaded})},_resizeUpload:function j(k,l){__p&&__p();var m=k.getFile();if(!c("PhotosMimeType").isJpeg(m.type))return l(k);this.inform("resize_start",{uploadID:m.uploadID,file:m});var n=c("performanceNow")(),o=function(t,u,v,w,x){__p&&__p();if(t)this.logWaterfallStep(c("PhotosUploadWaterfall").CLIENT_ERROR,{code:c("PhotosUploadWaterfall").CERROR_RESIZING_FAILED,meta:{message:t.message}});var y=t||v;this.inform("resize_done",{uploadID:m.uploadID,scubaData:{scuba_tags:{skippedResizing:+y},scuba_ints:{timeResizing:c("performanceNow")()-n,originalSize:m.size,resizedSize:u&&u.size}},error:t});if(!y){u.uploadID=m.uploadID;u.name=m.name;k.setFile(u)}l(k)}.bind(this);if(m.sphericalImage&&m.sphericalImage.isSpherical()){var p=m.sphericalImage,q=p.getSize(),r=c("SphericalPhotoConfig").upload_size_limit,s=p.getProjectionType();if(this._jpegResizer&&h(s,q,r))this._jpegResizer.resize360Blob(m,o,function(){},r);else o(false,m,true)}else if(this._jpegResizer)this._jpegResizer.resizeBlob(m,o);else o(false,m,true)},_handleCanceledPhotoUploadedAnyway:function j(k,l){this.inform("canceled_photo_uploaded",l.payload[0].fbid)},_enqueueUpload:function j(k,l){l=babelHelpers["extends"]({},l,{uploader:"html5"});k._retryCount=k._retryCount||0;this._uploads[k.uploadID]=k._retryCount?this._uploadQueue.prepend(k.fileName,k,l):this._uploadQueue.enqueue(k.fileName,k,l)}});f.exports=i}),null);
__d("OmnipickerPanelMixin.react",["PhotoSourceTypes","React"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i={propTypes:{appID:h.string,photoData:h.object,sourceType:h.oneOf(Object.keys(c("PhotoSourceTypes"))),selectionSource:h.string.isRequired}};f.exports=i}),null);
__d("OmnipickerPhotoUploadState",["keyMirror"],(function a(b,c,d,e,f,g){var h=c("keyMirror")({NOT_STARTED:null,UPLOADING:null,DONE:null,FAILED:null});f.exports=h}),null);
__d("OmnipickerPhoto.react",["cx","fbt","Event","Image.react","OmnipickerActions","OmnipickerPhotoUploadState","OmnipickerUploadSession","PhotoSourceTypes","ProgressBar.react","React","ShimButton.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=2e4;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={canCancel:false},this.onDragStart=function(event){c("Event").kill(event)},this.onMouseDown=function(){},this.onMouseUp=function(){var t=true;if(!this.props.checked&&this.props.onPhotoSelected)t=this.props.onPhotoSelected.call(null,this.props.id);if(t)c("OmnipickerActions").selectionChanged(this.props.appID,this.props.photoSourceType,this.props.id,!this.props.checked)}.bind(this),this.getImage=function(){if(!this.props.src)return null;return c("React").createElement(c("Image.react"),{src:this.props.src,className:"_2dh3"})}.bind(this),this.getSelection=function(){if(!this.props.checked)return null;return c("React").createElement("div",{className:"_2dh3 _1cyy"})}.bind(this),this.getCancelOverlay=function(){if(this.props.uploadState!==c("OmnipickerPhotoUploadState").UPLOADING||!this.state.canCancel)return null;return c("React").createElement("div",{className:"_5goe"},c("React").createElement(c("ShimButton.react"),{className:"_5gof _1cu0",onClick:this.onCancel},i._("Cancel Upload")))}.bind(this),this.getFailedOverlay=function(){if(this.props.uploadState!==c("OmnipickerPhotoUploadState").FAILED)return null;return c("React").createElement("div",{className:"_5goe"},c("React").createElement("div",{className:"_5gof"},i._("Upload Failed")))}.bind(this),this.getProgressBar=function(){if(!this.props.showUploadProgress||this.props.uploadState!==c("OmnipickerPhotoUploadState").UPLOADING)return null;var t=null;if(this.props.progress<100)t=c("React").createElement(c("ProgressBar.react"),{value:this.props.progress,min:0,max:100});else t=c("React").createElement("div",{className:"_1t2c"});return c("React").createElement("div",{className:"_1cyx"},t)}.bind(this),this.onCancel=function(){c("OmnipickerUploadSession").cancelUpload(this.props.appID,this.props.photoSourceType,this.props.id)}.bind(this),this.setCancelTimeout=function(){this.cancelTimeout=setTimeout(function(){this.setState({canCancel:true})}.bind(this),m)}.bind(this),this.clearCancelTimeout=function(){if(this.cancelTimeout){clearTimeout(this.cancelTimeout);this.cancelTimeout=null}}.bind(this),p}n.prototype.componentDidMount=function(){if(this.props.supportsCancel&&this.props.uploadState===c("OmnipickerPhotoUploadState").UPLOADING)this.setCancelTimeout()};n.prototype.componentWillReceiveProps=function(o){if(this.props.supportsCancel){var p=this.props.uploadState!==o.uploadState||this.props.progress!==o.progress;if(p){this.clearCancelTimeout();if(o.uploadState===c("OmnipickerPhotoUploadState").UPLOADING)this.setCancelTimeout()}}};n.prototype.componentWillUnmount=function(){this.clearCancelTimeout()};n.prototype.render=function(){return c("React").createElement("div",{className:"_47pv",onDragStart:this.onDragStart,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},this.getImage(),this.getSelection(),this.getCancelOverlay(),this.getFailedOverlay(),this.getProgressBar())};n.propTypes={appID:l.string.isRequired,checked:l.bool,id:l.string.isRequired,onPhotoSelected:l.func,photoSourceType:l.oneOf(Object.keys(c("PhotoSourceTypes"))).isRequired,progress:l.number,showUploadProgress:l.bool,src:l.string,supportsCancel:l.bool,uploadState:l.oneOf([c("OmnipickerPhotoUploadState").NOT_STARTED,c("OmnipickerPhotoUploadState").UPLOADING,c("OmnipickerPhotoUploadState").DONE,c("OmnipickerPhotoUploadState").FAILED]).isRequired};n.defaultProps={checked:false,progress:0,showUploadProgress:true,supportsCancel:false};f.exports=n}),null);
__d("OmnipickerPhotoGrid.react",["cx","AutoPager.react","OmnipickerPhoto.react","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("React").PropTypes,l=300;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;function m(){__p&&__p();var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.getPhotos=function(){return Object.keys(this.props.photos).map(function(s){var t=this.props.photos[s];return c("React").createElement(c("OmnipickerPhoto.react"),{appID:this.props.appID,checked:t.checked,id:t.id,key:t.id,onPhotoSelected:this.props.onPhotoSelected,photoSourceType:this.props.photoSourceType,progress:t.progress,showUploadProgress:this.props.showUploadProgress,src:t.src,supportsCancel:this.props.supportsCancel,uploadState:t.uploadState})}.bind(this))}.bind(this),this.getAutoPager=function(){if(!this.props.onScrollPositionThresholdReached)return null;return c("React").createElement(c("AutoPager.react"),{className:"_4qgs",onEnterBuffer:l,onVisible:this.props.onScrollPositionThresholdReached,scrollableAreaClass:"_xhf"})}.bind(this),o}m.prototype.render=function(){return c("React").createElement("div",{className:"_xhf"},c("React").createElement("div",{className:"uiScrollableAreaWrap _1-nf"},this.getPhotos(),this.getAutoPager()))};m.propTypes={appID:k.string.isRequired,onPhotoSelected:k.func,onScrollPositionThresholdReached:k.func,photos:k.object.isRequired,photoSourceType:k.oneOf(Object.keys(c("PhotoSourceTypes"))).isRequired,showUploadProgress:k.bool,supportsCancel:k.bool};m.defaultProps={showUploadProgress:true,supportsCancel:false};f.exports=m}),null);
__d("PhotoPanel.react",["cx","fbt","ComputerPanelActionState","DragDropInstructions.react","HTML5FilePickerButton.react","OmnipickerPhotoGrid.react","PhotoSourceTypes","React","ReactDOM","Scroll"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={photoCount:0},this.renderInstructions=function(){return c("React").createElement("div",{className:"_1-nd"},c("React").createElement("div",null,c("React").createElement("div",{className:"_4zwc"},i._("Drag more photos"))),c("React").createElement("div",{className:"_4zwi"},c("React").createElement("span",{className:"_4zwe"}),i._("or"),c("React").createElement("span",{className:"_4zwe"})),c("React").createElement("div",{className:"_4zwf"},c("React").createElement(c("HTML5FilePickerButton.react"),{appID:this.props.appID})))}.bind(this),this.renderDragAndDropInstructions=function(){if(this.props.actionState!==c("ComputerPanelActionState").NEUTRAL)return c("React").createElement(c("DragDropInstructions.react"),{actionState:this.props.actionState,appID:this.props.appID,isOverlay:true})}.bind(this),this.renderPhotoGrid=function(){return c("React").createElement(c("OmnipickerPhotoGrid.react"),{appID:this.props.appID,photos:this.props.photoData,photoSourceType:c("PhotoSourceTypes").COMPUTER,supportsCancel:true})}.bind(this),o}m.prototype.componentWillReceiveProps=function(n){"use strict";var o=Object.keys(n.photoData).length;this.setState({photoCount:o})};m.prototype.componentDidUpdate=function(n,o){"use strict";if(this.state.photoCount>o.photoCount){var p=c("ReactDOM").findDOMNode(this.refs.pickerBox);c("Scroll").setTop(p,p.scrollHeight)}};m.prototype.render=function(){"use strict";return c("React").createElement("div",null,c("React").createElement("div",{className:"_1x-l"},c("React").createElement("div",{className:"_1-ne _1-nf",ref:"pickerBox"},this.renderPhotoGrid(),this.renderInstructions())),this.renderDragAndDropInstructions())};m.propTypes={actionState:l.oneOf(Object.keys(c("ComputerPanelActionState"))).isRequired,appID:l.string.isRequired,photoData:l.object.isRequired};f.exports=m}),null);
__d("ComputerPanel.react",["ComputerPanelActionState","DragDropFilePicker","EmptyPanel.react","FilePickerEvent","HTML5UploadAdapter","React","OmnipickerConfig","OmnipickerPanelMixin.react","OmnipickerUploadSession","PhotosMimeType","PhotoPanel.react","PhotoSourceTypes","PUWMethods","PUWUploaders","SelectionSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").createClass({displayName:"ComputerPanel",mixins:[c("OmnipickerPanelMixin.react")],statics:{getAdapter:function i(j,k){var l=c("OmnipickerConfig").FILE_UPLOAD_URI;if(k&&k.fileUploadURI)l=k.fileUploadURI;return new(c("HTML5UploadAdapter"))({uri:l,maxRetries:c("OmnipickerConfig").HTML5_UPLOADER_MAX_RETRIES,maxParallel:c("OmnipickerConfig").HTML5_UPLOADER_MAX_PARALLEL,postParams:{},qn:j.getWaterfallID(),waterfallApp:j.getWaterfallAppName(),waterfallUploader:c("PUWUploaders").HTML5})}},getDefaultProps:function i(){return{selectionSource:c("SelectionSource").FILE,sourceType:c("PhotoSourceTypes").COMPUTER}},getInitialState:function i(){return{actionState:c("ComputerPanelActionState").NEUTRAL}},componentDidMount:function i(){this.picker=new(c("DragDropFilePicker"))(document.documentElement,{onDocumentDragEnterCallback:function(){this.setState({actionState:c("ComputerPanelActionState").DROP})}.bind(this),onDocumentDragLeaveCallback:function(){this.setState({actionState:c("ComputerPanelActionState").NEUTRAL})}.bind(this),isFileValid:function j(k){return c("PhotosMimeType").isImage(k.type)}});c("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,c("PhotoSourceTypes").COMPUTER,c("PUWMethods").DRAGDROP);this.picker.subscribe(c("FilePickerEvent").SELECTED,this.onFilesDropped)},componentWillUnmount:function i(){this.picker.disable();c("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)},onFilesDropped:function i(j){this.setState({actionState:c("ComputerPanelActionState").NEUTRAL})},renderEmptyPanel:function i(){return c("React").createElement(c("EmptyPanel.react"),{actionState:this.state.actionState,appID:this.props.appID})},renderPhotoPanel:function i(){return c("React").createElement(c("PhotoPanel.react"),{actionState:this.state.actionState,appID:this.props.appID,photoData:this.props.photoData})},render:function i(){var j=Object.keys(this.props.photoData).length,k=j===0?this.renderEmptyPanel():this.renderPhotoPanel();return c("React").createElement("div",null,k)}});f.exports=h}),null);
__d("OmnipickerLoggerStore",["invariant","OmnipickerActions","FluxStore","OmnipickerDispatcher","PUWSteps"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("OmnipickerActions").types;i=babelHelpers.inherits(l,c("FluxStore"));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerLoggerStore1={}}l.prototype.__onDispatch=function(m){__p&&__p();if(m.type===k.APP_INITIALIZED){m.logger||h(0);this.$OmnipickerLoggerStore1[m.appID]=m.logger;return}var n=this.$OmnipickerLoggerStore1[m.appID];n||h(0);switch(m.type){case k.FILE_PICKER_SELECT_STARTED:case k.FILE_PICKER_SELECTED:case k.FILE_PICKER_SELECT_CANCELED:this.$OmnipickerLoggerStore2(m,n);break;case k.RESIZE_STARTED:n.logStep(c("PUWSteps").CLIENT_UPLOAD_BEGIN);n.logStep(c("PUWSteps").CLIENT_PROCESS_BEGIN);break;case k.RESIZE_SUCCEEDED:n.logStep(c("PUWSteps").CLIENT_PROCESS_SUCCESS,{dt:m.dt,bytes:m.bytes,media_data_size:m.originalSize,custom_tags:m.customTags});break;case k.RESIZE_FAILED:n.logStep(c("PUWSteps").CLIENT_PROCESS_FAIL,{dt:m.dt,bytes:m.bytes,error_code:m.errorCode});break;case k.UPLOAD_STARTED:n.logStep(c("PUWSteps").CLIENT_TRANSFER_BEGIN,{bytes:m.bytes,ref:m.source});break;case k.UPLOAD_FINISHED:n.logStep(c("PUWSteps").CLIENT_TRANSFER_SUCCESS,{auto_retry_count:m.retriesNeeded,ref:m.source});n.logStep(c("PUWSteps").CLIENT_UPLOAD_SUCCESS,{fbid:m.fbid,ref:m.source});break;case k.UPLOAD_FAILED:n.logStep(c("PUWSteps").CLIENT_UPLOAD_FAIL,{auto_retry_count:m.retriesNeeded,error_code:m.errorCode,ref:m.source});break;case k.UPLOAD_QUEUED:n.logStep(c("PUWSteps").CLIENT_TRANSFER_BATCH_BEGIN,{ref:m.source,volume:m.volume});break;default:}};l.prototype.$OmnipickerLoggerStore2=function(m,n){__p&&__p();var o=void 0;switch(m.type){case k.FILE_PICKER_SELECT_STARTED:o=c("PUWSteps").CLIENT_SELECT_BEGIN;break;case k.FILE_PICKER_SELECTED:o=c("PUWSteps").CLIENT_SELECT_SUCCESS;break;case k.FILE_PICKER_SELECT_CANCELED:o=c("PUWSteps").CLIENT_SELECT_CANCEL;break;default:h(0)}var p=m.method,q=m.ref;n.logStep(o,{method:p,ref:q})};f.exports=new l(c("OmnipickerDispatcher"))}),null);
__d("OmnipickerPanelList.react",["cx","ix","Image.react","OmnipickerActions","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.componentWillMount=function(){"use strict";c("React").Children.forEach(this.props.children,function(n){if(!n)return;var o=this.props.appID;c("OmnipickerActions").panelInitialized(o,n.props.sourceType)}.bind(this))};m.prototype.render=function(){"use strict";__p&&__p();var n=null;if(this.props.doneSelecting)n=c("React").createElement("div",{className:"_5e8d"},c("React").createElement("div",{className:"_5e8e"},c("React").createElement(c("Image.react"),{className:"_5e8o",src:i("95719")})));var o;if(this.props.children.length)o=this.props.children.find(function(p){if(!p)return false;return p.props.sourceType===this.props.selectedSourceType}.bind(this));else o=this.props.children;o=c("React").cloneElement(o,{photoData:this.props.photoData,appID:this.props.appID});return c("React").createElement("div",null,n,c("React").createElement("div",{className:"_5gfy"},o))};function m(){"use strict";j.apply(this,arguments)}m.propTypes={appID:l.string,photoData:l.object,doneSelecting:l.bool,selectedSourceType:l.oneOf(Object.keys(c("PhotoSourceTypes")))};f.exports=m}),null);
__d("OmnipickerPhotoSourceStore",["OmnipickerActions","FluxStore","OmnipickerDispatcher"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("OmnipickerActions").types;h=babelHelpers.inherits(k,c("FluxStore"));i=h&&h.prototype;function k(l){i.constructor.call(this,l);this.$OmnipickerPhotoSourceStore1={}}k.prototype.__onDispatch=function(l){switch(l.type){case j.APP_INITIALIZED:this.$OmnipickerPhotoSourceStore1[l.appID]={currentSource:l.initialSource};break;case j.PHOTO_SOURCE_SELECTED:this.$OmnipickerPhotoSourceStore1[l.appID].currentSource=l.source;this.__emitChange();break;default:return}};k.prototype.getCurrentSource=function(l){return this.$OmnipickerPhotoSourceStore1[l].currentSource};f.exports=new k(c("OmnipickerDispatcher"))}),null);
__d("OmnipickerPhotoStore",["invariant","OmnipickerActions","FluxStore","OmnipickerDispatcher","OmnipickerPhotoUploadState"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("OmnipickerActions").types;i=babelHelpers.inherits(l,c("FluxStore"));j=i&&i.prototype;function l(m){j.constructor.call(this,m);this.$OmnipickerPhotoStore1={}}l.prototype.__onDispatch=function(m){__p&&__p();m.appID||h(0);var n=this.$OmnipickerPhotoStore1[m.appID];if(n){var o=n.deletedPhotos;if(o&&o[m.id])return}switch(m.type){case k.APP_INITIALIZED:this.$OmnipickerPhotoStore2(m);return;case k.PANEL_INITIALIZED:this.$OmnipickerPhotoStore3(m);return;case k.EXISTING_PHOTOS_FETCHED:this.$OmnipickerPhotoStore4(m);break;case k.PHOTO_SELECTED_OPTIMISTICALLY:this.$OmnipickerPhotoStore5(m);break;case k.SELECTION_CHANGED:this.$OmnipickerPhotoStore6(m);break;case k.UPLOAD_CANCELED:this.$OmnipickerPhotoStore7(m);break;case k.UPLOAD_FAILED:this.$OmnipickerPhotoStore8(m);break;case k.UPLOAD_FINISHED:this.$OmnipickerPhotoStore9(m);break;case k.UPLOAD_PROGRESSED:this.$OmnipickerPhotoStore10(m);break;case k.UPLOAD_QUEUED:this.$OmnipickerPhotoStore11(m);break;case k.UPLOAD_STARTED:this.$OmnipickerPhotoStore12(m);break;default:return}this.__emitChange()};l.prototype.getState=function(m){var n=this.$OmnipickerPhotoStore1[m];return{numPhotosSelected:this.$OmnipickerPhotoStore13(n).length,photosOptimisticallyUploading:n.photosOptimisticallyUploading,photosWaitingForUpload:n.photosWaitingForUpload,photoData:n.photos}};l.prototype.getSelectedPhotos=function(m){var n=this.$OmnipickerPhotoStore1[m];return this.$OmnipickerPhotoStore13(n,n.uploadOrder).filter(function(o){return o.fbid!==""})};l.prototype.$OmnipickerPhotoStore13=function(m,n){var o=n||m.photos,p=[];Object.keys(m.photos).forEach(function(q){var r=Array.isArray(o[q])?o[q]:Object.keys(o[q]);r.forEach(function(s){var t=this.$OmnipickerPhotoStore14(m,q,s);if(t.checked)if(t)p.push(t)}.bind(this))}.bind(this));return p};l.prototype.$OmnipickerPhotoStore14=function(m,n,o){var p=m.photos;p[n]||h(0);var q=p[n][o];q||h(0);return q};l.prototype.$OmnipickerPhotoStore15=function(m){this.$OmnipickerPhotoStore16(m,["source","id"]);return this.$OmnipickerPhotoStore14(this.$OmnipickerPhotoStore1[m.appID],m.source,m.id)};l.prototype.$OmnipickerPhotoStore17=function(m,n){Object.prototype.hasOwnProperty.call(m,n)||h(0);m[n]!==undefined&&m[n]!==null||h(0)};l.prototype.$OmnipickerPhotoStore16=function(m,n){n.push("appID");n.forEach(function(o){return this.$OmnipickerPhotoStore17(m,o)}.bind(this))};l.prototype.$OmnipickerPhotoStore18=function(m,n,o){var p=m.photos;p[n]||h(0);!p[n][o]||h(0);m.uploadOrder[n].push(o);return p[n][o]={id:o,checked:false,fbid:"",progress:0,src:"",uploadState:c("OmnipickerPhotoUploadState").NOT_STARTED}};l.prototype.$OmnipickerPhotoStore19=function(m,n){m.photosWaitingForUpload[n.id]=true};l.prototype.$OmnipickerPhotoStore2=function(m){var n=m.appID;!this.$OmnipickerPhotoStore1[n]||h(0);this.$OmnipickerPhotoStore1[n]={deletedPhotos:{},photos:{},photosWaitingForUpload:{},photosOptimisticallyUploading:{},uploadOrder:{}}};l.prototype.$OmnipickerPhotoStore5=function(m){var n=this.$OmnipickerPhotoStore15(m);n.checked=true;var o=this.$OmnipickerPhotoStore1[m.appID];o.photosOptimisticallyUploading[m.id]=true};l.prototype.$OmnipickerPhotoStore6=function(m){this.$OmnipickerPhotoStore16(m,["checked"]);var n=this.$OmnipickerPhotoStore15(m);n.checked=m.checked};l.prototype.$OmnipickerPhotoStore3=function(m){this.$OmnipickerPhotoStore16(m,["source"]);var n=this.$OmnipickerPhotoStore1[m.appID];n.photos[m.source]={};n.uploadOrder[m.source]=[]};l.prototype.$OmnipickerPhotoStore20=function(m,n,o,p){if(p===c("OmnipickerPhotoUploadState").FAILED||m.photosOptimisticallyUploading[o])return;n.checked=true};l.prototype.$OmnipickerPhotoStore21=function(m,n,o,p){n.uploadState=p;delete m.photosWaitingForUpload[o];delete m.photosOptimisticallyUploading[o]};l.prototype.$OmnipickerPhotoStore22=function(m,n,o){var p=n.id;delete m.photos[o][p];delete m.photosWaitingForUpload[p];delete m.photosOptimisticallyUploading[p];var q=m.uploadOrder[o].indexOf(p);m.uploadOrder[o].splice(q,1);m.deletedPhotos[p]=true};l.prototype.$OmnipickerPhotoStore4=function(m){this.$OmnipickerPhotoStore17(m,"photos");var n=this.$OmnipickerPhotoStore1[m.appID];m.photos.forEach(function(o){var p=o.source,q=o.id,r=o.src,s=this.$OmnipickerPhotoStore18(n,p,q);s.src=r}.bind(this))};l.prototype.$OmnipickerPhotoStore7=function(m){var n=this.$OmnipickerPhotoStore15(m);this.$OmnipickerPhotoStore22(this.$OmnipickerPhotoStore1[m.appID],n,m.source)};l.prototype.$OmnipickerPhotoStore8=function(m){var n=this.$OmnipickerPhotoStore1[m.appID];this.$OmnipickerPhotoStore21(n,this.$OmnipickerPhotoStore15(m),m.id,c("OmnipickerPhotoUploadState").FAILED)};l.prototype.$OmnipickerPhotoStore9=function(m){this.$OmnipickerPhotoStore16(m,["src","fbid"]);var n=m.appID,o=m.id,p=m.src,q=m.fbid,r=this.$OmnipickerPhotoStore1[n],s=this.$OmnipickerPhotoStore15(m),t=c("OmnipickerPhotoUploadState").DONE;this.$OmnipickerPhotoStore20(r,s,o,t);this.$OmnipickerPhotoStore21(r,s,o,t);s.src=p;s.fbid=q};l.prototype.$OmnipickerPhotoStore10=function(m){this.$OmnipickerPhotoStore17(m,"progress");var n=this.$OmnipickerPhotoStore15(m);n.progress=100};l.prototype.$OmnipickerPhotoStore12=function(m){var n=this.$OmnipickerPhotoStore15(m);n.uploadState=c("OmnipickerPhotoUploadState").UPLOADING};l.prototype.$OmnipickerPhotoStore11=function(m){this.$OmnipickerPhotoStore16(m,["source","ids"]);var n=m.source,o=this.$OmnipickerPhotoStore1[m.appID],p=m.ids;p.forEach(function(q){return this.$OmnipickerPhotoStore19(o,this.$OmnipickerPhotoStore18(o,n,q))}.bind(this))};f.exports=new l(c("OmnipickerDispatcher"))}),null);
__d("OmnipickerWaterfallLogger",["PhotosUploadWaterfallXMixin","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("PhotosUploadWaterfallXMixin")));i=h&&h.prototype;function j(k,l){"use strict";i.constructor.call(this);this.$OmnipickerWaterfallLogger1=k;this.$OmnipickerWaterfallLogger2=l}j.prototype.getWaterfallAppName=function(){"use strict";return this.$OmnipickerWaterfallLogger1};j.prototype.getWaterfallID=function(){"use strict";return this.$OmnipickerWaterfallLogger2};f.exports=j}),null);
__d("Omnipicker.react",["invariant","ClientIDs","OmnipickerActions","OmnipickerPanelList.react","OmnipickerPhotoSourceStore","OmnipickerPhotoStore","OmnipickerUploadController","OmnipickerUploadSession","OmnipickerWaterfallLogger","React","SubscriptionsHandler","Waiter","OmnipickerLoggerStore"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;c("OmnipickerLoggerStore");c("OmnipickerPhotoSourceStore");c("OmnipickerPhotoStore");var k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){__p&&__p();var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.state={numPhotosSelected:0,numPhotosUploading:0,photoData:{}},this.handlePhotosChangeEvent=function(){__p&&__p();var r=c("OmnipickerPhotoStore").getState(this.state.appID),s=Object.keys(r.photosWaitingForUpload).length,t=Object.keys(r.photosOptimisticallyUploading).length;if(t>0){if(!this.$Omnipicker3)this.$Omnipicker3=this.$Omnipicker2.wait()}else if(this.$Omnipicker3){this.$Omnipicker3.call(this);this.$Omnipicker3=null}this.setState({numPhotosSelected:r.numPhotosSelected,numPhotosUploading:s,photoData:r.photoData});this.props.onPhotosChange&&this.props.onPhotosChange(r.numPhotosSelected,s)}.bind(this),this.handleSourceChangeEvent=function(){this.setState({sourceType:c("OmnipickerPhotoSourceStore").getCurrentSource(this.state.appID)})}.bind(this),n}l.prototype.componentWillMount=function(){"use strict";__p&&__p();var m="Omnipicker_ID_"+c("ClientIDs").getNewClientID();c("OmnipickerUploadController").registerOmnipicker(m);c("OmnipickerUploadSession").registerOmnipicker(m);var n=[];c("React").Children.forEach(this.props.children,function(q){if(q.type===c("OmnipickerPanelList.react"))n.push(c("React").cloneElement(q,{appID:m}))});n.length===1||h(0);var o=n[0],p=null;c("React").Children.forEach(o.props.children,function(q){if(!q)return;if(!p||q.props.isSelected)p=q.props.sourceType;if(q.type.getAdapter)c("OmnipickerUploadController").registerAdapter(m,q.type.getAdapter(this.props.logger,q.props.config),q.props.selectionSource)}.bind(this));!!p||h(0);this.setState({appID:m,sourceType:p});c("OmnipickerActions").appInitialized(m,this.props.logger,p)};l.prototype.componentDidMount=function(){"use strict";this.$Omnipicker1=new(c("SubscriptionsHandler"))();this.$Omnipicker1.addSubscriptions(c("OmnipickerPhotoStore").addListener(this.handlePhotosChangeEvent),c("OmnipickerPhotoSourceStore").addListener(this.handleSourceChangeEvent));this.$Omnipicker2=new(c("Waiter"))(function(){this.props.onDoneSelecting(c("OmnipickerPhotoStore").getSelectedPhotos(this.state.appID),this.state.sourceType)}.bind(this))};l.prototype.componentWillUnmount=function(){"use strict";this.$Omnipicker1.release()};l.prototype.componentDidUpdate=function(){"use strict";if(this.props.doneSelecting)this.$Omnipicker2.go()};l.prototype.render=function(){"use strict";var m=c("React").Children.map(this.props.children,function(n){var o={selectedSourceType:this.state.sourceType,appID:this.state.appID};if(n.type===c("OmnipickerPanelList.react"))Object.assign(o,{photoData:this.state.photoData[this.state.sourceType]||{},doneSelecting:this.props.doneSelecting});return c("React").cloneElement(n,o)}.bind(this));return c("React").createElement("div",null,m)};l.propTypes={doneSelecting:k.bool.isRequired,logger:k.instanceOf(c("OmnipickerWaterfallLogger")).isRequired,onDoneSelecting:k.func.isRequired,onPhotosChange:k.func};l.defaultProps={doneSelecting:false};f.exports=l}),null);
__d("OmnipickerSelector.react",["cx","OmnipickerActions","PhotoSourceTypes","React","ShimButton.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;function l(){var m,n;"use strict";for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.onClick=function(){c("OmnipickerActions").photoSourceSelected(this.props.appID,this.props.sourceType)}.bind(this),n}l.prototype.render=function(){"use strict";return c("React").createElement("li",{className:"_1ys7"},c("React").createElement(c("ShimButton.react"),{className:"_1ys8"+(this.props.isSelected?" selected":""),onClick:this.onClick},c("React").createElement("div",{className:"_1ys9"},c("React").createElement("span",{className:c("joinClasses")("_1ysb",this.props.iconClass)}),c("React").createElement("span",{className:"_1ysc"},this.props.children))))};l.propTypes={appID:k.string.isRequired,iconClass:k.string.isRequired,isSelected:k.bool.isRequired,sourceType:k.oneOf(Object.keys(c("PhotoSourceTypes"))).isRequired};f.exports=l}),null);
__d("OmnipickerComputerSelector.react",["cx","fbt","OmnipickerSelector.react","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){"use strict";return c("React").createElement(c("OmnipickerSelector.react"),babelHelpers["extends"]({iconClass:"_5o68"},this.props),this.props.labelText)};function m(){"use strict";j.apply(this,arguments)}m.propTypes={labelText:l.string};m.defaultProps={sourceType:c("PhotoSourceTypes").COMPUTER,labelText:i._("Computer")};f.exports=m}),null);
__d("OmnipickerDialog.react",["cx","fbt","DOM","Event","Keys","Link.react","OmnipickerConfig","React","SubscriptionsHandler","XUICloseButton.react","XUIDialog.react","XUIDialogButton.react","XUIDialogFooter.react","XUIDialogTitle.react"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;function m(){__p&&__p();var n,o;"use strict";for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={doneSelecting:false,numPhotosSelected:0,numPhotosUploading:0,uploadProgress:0},this.getButtonLabel=function(){var s=this.state.numPhotosSelected;if(s===1)return i._("Use Photo");if(s>1)return i._("Use Photos ({number})",[i.param("number",s)]);return i._("Use Photos")}.bind(this),this.handleUsePhotos=function(){this.setState({doneSelecting:true})}.bind(this),this.handleKeyDownEvent=function(event){if(c("Event").getKeyCode(event)===c("Keys").ESC)this.props.onCancel()}.bind(this),this.handlePhotosChange=function(s,t){this.setState({numPhotosSelected:s,numPhotosUploading:t})}.bind(this),o}m.prototype.componentDidMount=function(){"use strict";this.$OmnipickerDialog1=new(c("SubscriptionsHandler"))();this.$OmnipickerDialog1.addSubscriptions(c("Event").listen(document,"keydown",this.handleKeyDownEvent))};m.prototype.componentWillUnmount=function(){"use strict";this.$OmnipickerDialog1.release()};m.prototype.render=function(){"use strict";var n=this.state.doneSelecting||this.state.numPhotosSelected<1||this.state.numPhotosUploading>0,o=null;if(c("OmnipickerConfig").FEEDBACK_GROUP_PATH)o=c("React").createElement("div",{className:"_2srv"},c("React").createElement(c("Link.react"),{href:c("OmnipickerConfig").FEEDBACK_GROUP_PATH,target:"_blank"},"Omnipicker Feedback Group"));var p=c("React").Children.only(this.props.children);p=c("React").cloneElement(p,{onPhotosChange:this.handlePhotosChange,doneSelecting:this.state.doneSelecting});return c("React").createElement(c("XUIDialog.react"),{shown:true,layerHideOnBlur:false,width:c("OmnipickerConfig").DIALOG_WIDTH,key:"dialog"},c("React").createElement(c("XUIDialogTitle.react"),{showCloseButton:false},c("React").createElement("span",null,this.props.title),c("React").createElement(c("XUICloseButton.react"),{className:"_51-t",label:i._("Close"),onClick:this.props.onCancel})),p,c("React").createElement("div",{className:"_3bnc"},c("React").createElement(c("XUIDialogFooter.react"),{className:"_3bnd",leftContent:o},c("React").createElement(c("XUIDialogButton.react"),{action:"button",label:i._("Cancel"),onClick:this.props.onCancel,size:"xlarge"}),c("React").createElement(c("XUIDialogButton.react"),{className:"_3bne",use:"confirm",action:"confirm",size:"xlarge",disabled:n,label:this.getButtonLabel(),onClick:this.handleUsePhotos}))))};m.propTypes={onCancel:l.func.isRequired,title:l.string.isRequired};f.exports=m}),null);
__d("OmnipickerDialogRenderer",["DOM","ReactDOM"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();function h(i){this.$OmnipickerDialogRenderer1=i;this.$OmnipickerDialogRenderer2=i.props.$OmnipickerDialogRenderer2;if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c("DOM").create("div");c("DOM").appendContent(document.body,this.$OmnipickerDialogRenderer2)}}h.prototype.show=function(){if(!this.$OmnipickerDialogRenderer2){this.$OmnipickerDialogRenderer2=c("DOM").create("div");c("DOM").appendContent(document.body,this.$OmnipickerDialogRenderer2)}c("ReactDOM").render(this.$OmnipickerDialogRenderer1,this.$OmnipickerDialogRenderer2)};h.prototype.hide=function(){c("ReactDOM").unmountComponentAtNode(this.$OmnipickerDialogRenderer2);c("DOM").remove(this.$OmnipickerDialogRenderer2);this.$OmnipickerDialogRenderer2=null};h.prototype.isShowing=function(){return!!this.$OmnipickerDialogRenderer2};f.exports=h}),null);
__d("ExistingPhotoSelectionContainer",["BaseSelectionContainer"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("BaseSelectionContainer"));i=h&&h.prototype;function j(k,l,m){"use strict";i.constructor.call(this);this.$ExistingPhotoSelectionContainer1=k;this.$ExistingPhotoSelectionContainer2=l;this.$ExistingPhotoSelectionContainer3=m}j.prototype.getExistingImageID=function(){"use strict";return this.$ExistingPhotoSelectionContainer1};j.prototype.getSrc=function(){"use strict";return this.$ExistingPhotoSelectionContainer2};j.prototype.getSource=function(){"use strict";return this.$ExistingPhotoSelectionContainer3};j.prototype.hasPlaceholderUI=function(){"use strict";return true};f.exports=j}),null);
__d("ExistingPhotoPicker",["ArbiterMixin","mixin","FilePickerEvent","ExistingPhotoSelectionContainer"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$ExistingPhotoPicker1=k}j.prototype.begin=function(){"use strict";this.inform(c("FilePickerEvent").BEGIN)};j.prototype.select=function(k,l){"use strict";this.inform(c("FilePickerEvent").SELECTED,{sender:this,selections:[new(c("ExistingPhotoSelectionContainer"))(k,l,this.$ExistingPhotoPicker1)]})};f.exports=j}),null);
__d("OmnipickerExistingPhotosPanelMixin.react",["cx","invariant","ExistingPhotoPicker","OmnipickerActions","OmnipickerPanelMixin.react","OmnipickerPhotoGrid.react","OmnipickerUploadSession","PhotoStore","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k={mixins:[c("OmnipickerPanelMixin.react")],propTypes:{initBatchSize:j.number,pageBatchSize:j.number,puwMethod:j.string.isRequired,setID:j.string.isRequired},componentWillMount:function l(){typeof this.getViewState==="function"||i(0);this.picker=new(c("ExistingPhotoPicker"))(this.props.selectionSource);c("OmnipickerUploadSession").addPicker(this.props.appID,this.picker,this.props.sourceType,this.props.puwMethod)},componentDidMount:function l(){this.getViewState().initViewState();this.picker.begin()},componentWillUnmount:function l(){this.getViewState().destroy();c("OmnipickerUploadSession").removePicker(this.props.appID,this.picker)},render:function l(){return c("React").createElement("div",null,this.getThrobber(),this.getPhotoGrid())},onViewStateChanged:function l(m){c("OmnipickerActions").existingPhotosFetched(this.props.appID,this.props.sourceType,m.media.filter(function(n){return!this.props.photoData[n.id]}.bind(this)))},onPhotoSelected:function l(m){this.picker.select(m,this.props.photoData[m].src);return false},getPhotoGrid:function l(){if(!c("PhotoStore").hasBeenCreated(this.props.setID))return null;var m=null;if(!c("PhotoStore").hasBeenCreated(this.props.setID)||c("PhotoStore").hasNextPage(this.props.setID))m=function(){this.getViewState().fetchMore()}.bind(this);return c("React").createElement(c("OmnipickerPhotoGrid.react"),{appID:this.props.appID,onPhotoSelected:this.onPhotoSelected,onScrollPositionThresholdReached:m,photos:this.props.photoData,photoSourceType:this.props.sourceType,showUploadProgress:false})},getThrobber:function l(){if(c("PhotoStore").hasBeenCreated(this.props.setID))return null;return c("React").createElement("div",{className:"_j0-"})}};f.exports=k}),null);
__d("ScrollablePhotoViewStateCore",["SubscriptionsHandler","emptyFunction"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";__p&&__p();this.$ScrollablePhotoViewStateCore1=i.photoStore;this.$ScrollablePhotoViewStateCore2=i.viewer;this.$ScrollablePhotoViewStateCore3=i.setToken;this.$ScrollablePhotoViewStateCore4=i.updateCallback;this.$ScrollablePhotoViewStateCore5=i.subscribeUpdatePhotos;this.$ScrollablePhotoViewStateCore6=i.fetchInitData;this.$ScrollablePhotoViewStateCore7=i.initBatchSize;this.$ScrollablePhotoViewStateCore8=i.pageBatchSize;this.$ScrollablePhotoViewStateCore9=new(c("SubscriptionsHandler"))()}h.prototype.initViewState=function(){"use strict";this.$ScrollablePhotoViewStateCore9.addSubscriptions(this.$ScrollablePhotoViewStateCore5(this.updateData.bind(this)));if(this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)){var i=this.$ScrollablePhotoViewStateCore1.getAvailableRange(this.$ScrollablePhotoViewStateCore3).length;if(i>=this.$ScrollablePhotoViewStateCore7||!this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3))this.syncState();return}this.$ScrollablePhotoViewStateCore6(this.$ScrollablePhotoViewStateCore3)};h.prototype.hasNextPage=function(){"use strict";return this.$ScrollablePhotoViewStateCore1.hasBeenCreated(this.$ScrollablePhotoViewStateCore3)&&this.$ScrollablePhotoViewStateCore1.hasNextPage(this.$ScrollablePhotoViewStateCore3)};h.prototype.fetchToIndex=function(i){"use strict";var j=this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),k=i-j;if(k<=0)return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,j,k,c("emptyFunction"))};h.prototype.fetchMore=function(i){"use strict";if(!this.hasNextPage())return;this.$ScrollablePhotoViewStateCore1.getItemsAfterIndex(this.$ScrollablePhotoViewStateCore3,this.$ScrollablePhotoViewStateCore1.getEndIndex(this.$ScrollablePhotoViewStateCore3),this.$ScrollablePhotoViewStateCore8,i||c("emptyFunction"))};h.prototype.destroy=function(){"use strict";this.$ScrollablePhotoViewStateCore9.release()};h.prototype.updateData=function(i){"use strict";if(i.set_id!=this.$ScrollablePhotoViewStateCore3)return;var j=i.query_results&&i.query_results.result_type;if(j=="init")this.$ScrollablePhotoViewStateCore1.executePostCreate(this.$ScrollablePhotoViewStateCore3,function(){this.syncState()}.bind(this));else this.syncState()};f.exports=h}),null);
__d("fetchInitPhotoViewState",["AsyncRequest"],(function a(b,c,d,e,f,g){function h(i,j){new(c("AsyncRequest"))(i).setData({set:j}).send()}f.exports=h}),null);
__d("subscribeToArbiterUpdatePhotos",["Arbiter"],(function a(b,c,d,e,f,g){function h(i){return c("Arbiter").subscribe("update-photos",function(j,k){i(k)})}f.exports=h}),null);
__d("OmnipickerExistingPhotosViewState",["PhotoStore","ScrollablePhotoViewStateCore","subscribeToArbiterUpdatePhotos","fetchInitPhotoViewState"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;function j(l,m){c("fetchInitPhotoViewState")(l,m)}h=babelHelpers.inherits(k,c("ScrollablePhotoViewStateCore"));i=h&&h.prototype;function k(l,m,n,o,p,q){"use strict";i.constructor.call(this,{fetchInitData:j.bind(null,p),initBatchSize:n,pageBatchSize:o,photoStore:c("PhotoStore"),setToken:m,subscribeUpdatePhotos:c("subscribeToArbiterUpdatePhotos"),updateCallback:q,viewer:l});this.$OmnipickerExistingPhotosViewState1=n;this.$OmnipickerExistingPhotosViewState2=m;this.$OmnipickerExistingPhotosViewState3=q}k.prototype.syncState=function(){"use strict";this.$OmnipickerExistingPhotosViewState3({media:c("PhotoStore").getItemsInAvailableRange(this.$OmnipickerExistingPhotosViewState2),hasNextPage:c("PhotoStore").hasNextPage(this.$OmnipickerExistingPhotosViewState2)})};f.exports=k}),null);
__d("XPagesManagerPostedPhotosController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/posted_photos/",{set:{type:"String",required:true},size:{type:"Int",required:true}})}),null);
__d("OmnipickerPagePostedPhotosPanel.react",["ActorURI","OmnipickerConfig","OmnipickerExistingPhotosPanelMixin.react","OmnipickerExistingPhotosViewState","PhotoSourceTypes","PUWMethods","React","SelectionSource","XPagesManagerPostedPhotosController"],(function a(b,c,d,e,f,g){"use strict";var h=c("React").PropTypes,i=c("React").createClass({displayName:"OmnipickerPagePostedPhotosPanel",mixins:[c("OmnipickerExistingPhotosPanelMixin.react")],_viewState:null,propTypes:{pageID:h.string.isRequired},getDefaultProps:function j(){return{initBatchSize:20,pageBatchSize:16,puwMethod:c("PUWMethods").RECENT_PHOTOS,selectionSource:c("SelectionSource").PAGES_POSTED_PHOTOS,setID:c("OmnipickerConfig").POSTED_PHOTOS_SET_ID,sourceType:c("PhotoSourceTypes").PAGES_POSTED_PHOTOS}},componentWillMount:function j(){var k=c("ActorURI").create(c("XPagesManagerPostedPhotosController").getURIBuilder().setString("set",this.props.setID).setInt("size",this.props.initBatchSize).getURI(),this.props.pageID);this._viewState=new(c("OmnipickerExistingPhotosViewState"))(this,this.props.setID,this.props.initBatchSize,this.props.pageBatchSize,k,this.onViewStateChanged)},getViewState:function j(){return this._viewState}});f.exports=i}),null);
__d("OmnipickerPagePostedPhotosSelector.react",["cx","fbt","OmnipickerSelector.react","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){return c("React").createElement(c("OmnipickerSelector.react"),babelHelpers["extends"]({iconClass:"_2_y4"},this.props),this.props.labelText)};function m(){j.apply(this,arguments)}m.propTypes={labelText:l.node};m.defaultProps={sourceType:c("PhotoSourceTypes").PAGES_POSTED_PHOTOS,labelText:i._("Page Photos")};f.exports=m}),null);
__d("OmnipickerSelectorList.react",["cx","PhotoSourceTypes","React"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j,k=c("React").PropTypes;i=babelHelpers.inherits(l,c("React").Component);j=i&&i.prototype;l.prototype.render=function(){"use strict";var m=c("React").Children.map(this.props.children,function(n){if(!n)return;return c("React").cloneElement(n,{isSelected:n.props.sourceType===this.props.selectedSourceType,appID:this.props.appID})}.bind(this));return c("React").createElement("div",{className:"_1n6_"},c("React").createElement("ul",null,m))};function l(){"use strict";i.apply(this,arguments)}l.propTypes={appID:k.string,selectedSourceType:k.oneOf(Object.keys(c("PhotoSourceTypes")))};f.exports=l}),null);
__d("ProductVideoChunkedUploader",["AdsVideoUploadEvents","AdsVideoUploadSession","AdsVideoUploadUtil","URI","VideoUploader","VideoUploadProgressBar"],(function a(b,c,d,e,f,g){__p&&__p();var h,i,j="/v2.4",k="graph-video";h=babelHelpers.inherits(l,c("VideoUploader"));i=h&&h.prototype;function l(m){"use strict";var n=m.config,o=new(c("URI"))(j+"/"+m.target_id+"/videos?access_token="+m.access_token).setSubdomain(k).toString(),p={start_uri:o,receive_uri:o,post_uri:o,chunk_start_uri:o,chunk_receive_uri:o,chunk_post_uri:o,min_size:n.minSize,min_width:n.minWidth,min_height:n.minHeight,min_length:n.minLength,max_size:n.maxSize,max_length:n.maxLength,extensions:n.extensions,logging_delay:n.loggingDelay,max_transport_retries:n.maxTransportRetries,transport_retry_interval_base:n.transportRetryIntervalBase,max_server_retries:n.maxServerRetries,server_retry_interval_base:n.serverRetryIntervalBase,source:m.source,target_id:m.target_id,target_type:m.target_type};i.constructor.call(this,p);this.$ProductVideoChunkedUploader1=""}l.prototype.getUploadTime=function(){"use strict";if(this.__getSession()!==null)return this.__getSession().getUploadTime();return null};l.prototype.getEncodingTime=function(){"use strict";if(this.__getSession()!==null)return this.__getSession().getEncodingTime();return null};l.prototype.abort=function(){"use strict";this.cancel()};l.prototype.upload=function(m){"use strict";var n=m.getFile(),o=c("AdsVideoUploadUtil").getVideoTitle(n);this.$ProductVideoChunkedUploader1=o?o:"";i.upload.call(this,m)};l.prototype.__getVideoUploadSession=function(m){"use strict";return new(c("AdsVideoUploadSession"))(m)};l.prototype.getVideoTitle=function(){"use strict";return this.$ProductVideoChunkedUploader1};l.prototype.__createSession=function(m){"use strict";return new(c("AdsVideoUploadSession"))(m)};l.prototype.__getEventsWhichShouldListenFromSession=function(){"use strict";var m=i.__getEventsWhichShouldListenFromSession.call(this);m.push(c("AdsVideoUploadEvents").ENCODING_SUCCESS,c("AdsVideoUploadEvents").ENCODING_ERROR);return m};l.prototype.__getEventsForWhichSessionShouldBeSetToNull=function(){"use strict";return["upload-failed",c("AdsVideoUploadEvents").ENCODING_SUCCESS,c("AdsVideoUploadEvents").ENCODING_ERROR]};l.prototype.__delegateEvent=function(event,m){"use strict";__p&&__p();var n=null;if(event==="upload-progressed"){var o=c("VideoUploadProgressBar").computeProgress(m.start_offset,m.sent_bytes,m.file_size,0,0);n=o/100}else if(event==="upload-finished")this.post({});else if(event==="post-finished")n=m.video_id;else if(event==="post-failed")event="upload-failed";i.__delegateEvent.call(this,event,n)};f.exports=l}),null);
__d("PageContentTabProductUploadVideoButton.react",["cx","fbt","AdsVideoUploadConfig","AdsVideoUploadEvents","AsyncRequest","FileInput.react","GraphAPI","Link.react","ProductVideoChunkedUploader","React","VideoUploadFile","VideoUploadTargetType","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=1e3,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={videoUploaders:[],lastEncodingStatusCheckTimes:[]},this.$PageContentTabProductUploadVideoButton1=function(){__p&&__p();var t=this.refs.fileInput.getFileInput().getInput(),u=c("VideoUploadFile").fromFileInput(t),v=new(c("ProductVideoChunkedUploader"))({config:c("AdsVideoUploadConfig"),source:"product_edit_tool",target_id:this.props.productCatalogID,target_type:c("VideoUploadTargetType").PRODUCT_CATALOG,access_token:this.props.pageContentTabAccessToken}),w=this.state.videoUploaders.length;v.subscribe("upload-failed",this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe(c("AdsVideoUploadEvents").UPLOAD_ERROR,this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe("post-failed",this.$PageContentTabProductUploadVideoButton2.bind(this,w));v.subscribe("post-finished",this.$PageContentTabProductUploadVideoButton3.bind(this,w));this.props.onVideoSelected(w);v.upload(u);var x=this.state.videoUploaders;x[w]=v;this.setState({videoUploaders:x})}.bind(this),this.$PageContentTabProductUploadVideoButton2=function(t){this.props.onVideoUploadError(t)}.bind(this),this.$PageContentTabProductUploadVideoButton3=function(t){this.$PageContentTabProductUploadVideoButton4(t)}.bind(this),this.$PageContentTabProductUploadVideoButton5=function(t){var u=this.$PageContentTabProductUploadVideoButton6(t),v=this.state.lastEncodingStatusCheckTimes;v[t]=Date.now();this.setState({lastEncodingStatusCheckTimes:v});new(c("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:u}).setHandler(this.$PageContentTabProductUploadVideoButton7.bind(this,t)).send()}.bind(this),this.$PageContentTabProductUploadVideoButton8=function(t,u){var v=this.$PageContentTabProductUploadVideoButton6(t),w=u.data;if(w)for(var x=0;x<w.length;x++)if(w[x].is_preferred){this.props.onVideoUploadFinished(t,v,w[x].uri);return}}.bind(this),this.$PageContentTabProductUploadVideoButton6=function(t){return this.state.videoUploaders[t].getUploadSession().getVideoID()}.bind(this),p}n.prototype.render=function(){return c("React").createElement(c("FileInput.react"),{name:"video",ref:"fileInput",onChange:this.$PageContentTabProductUploadVideoButton1},c("React").createElement(c("Link.react"),{className:"_25dc"},c("React").createElement("div",{className:"_25dd _25de"},c("React").createElement(c("XUIGrayText.react"),{className:"_25df",size:"meta1",display:"block"},i._("Add Videos")))))};n.prototype.$PageContentTabProductUploadVideoButton4=function(o){var p=this.state.lastEncodingStatusCheckTimes[o]+l,q=Math.max(0,p-Date.now());setTimeout(this.$PageContentTabProductUploadVideoButton5.bind(this,o),q)};n.prototype.$PageContentTabProductUploadVideoButton7=function(o,p){var q=this.$PageContentTabProductUploadVideoButton6(o),r=p.payload;if(r)if(r.is_ready)c("GraphAPI")("2.3").object("video",q).edge("thumbnails").get({access_token:this.props.pageContentTabAccessToken}).done(this.$PageContentTabProductUploadVideoButton8.bind(this,o));else if(r.error)this.$PageContentTabProductUploadVideoButton2(o);else this.$PageContentTabProductUploadVideoButton4(o)};n.propTypes={onVideoSelected:m.func.isRequired,onVideoUploadError:m.func.isRequired,onVideoUploadFinished:m.func.isRequired,pageContentTabAccessToken:m.string.isRequired,productCatalogID:m.string.isRequired};f.exports=n}),null);
__d("BOFSellerLoggerEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ACTN_MERCHANT_SETTINGS_CREATED:"Actn_MerchantSettingsCreated",ACTN_COMMERCE_STORE_CREATED:"Actn_CommerceStoreCreated",ACTN_PRODUCT_GROUP_CREATED:"Actn_ProductGroupCreated",ACTN_PRODUCT_ITEM_CREATED:"Actn_ProductItemCreated",ACTN_STORE_COLLECTION_CREATED:"Actn_StoreCollectionCreated",ACTN_MERCHANT_SETTINGS_UPDATED:"Actn_MerchantSettingsUpdated",ACTN_COMMERCE_STORE_UPDATED:"Actn_CommerceStoreUpdated",ACTN_PRODUCT_GROUP_UPDATED:"Actn_ProductGroupUpdated",ACTN_PRODUCT_ITEM_UPDATED:"Actn_ProductItemUpdated",ACTN_STORE_COLLECTION_UPDATED:"Actn_StoreCollectionUpdated",ACTN_STORE_COLLECTION_UPDATE_ORDERS:"Actn_StoreCollectionUpdateOrders",ACTN_COMMERCE_STORE_DELETED:"Actn_CommerceStoreDeleted",ACTN_STORE_COLLECTION_DELETED:"Actn_StoreCollectionDeleted",ACTN_PRODUCT_ITEM_DELETED:"Actn_ProductItemDeleted",ACTN_PRODUCT_ITEM_FEATURED:"Actn_ProductItemFeatured",ACTN_PRODUCT_ITEM_UNFEATURED:"Actn_ProductItemUnfeatured",ACTN_OFFER_CREATE:"Actn_OfferCreate",ACTN_ORDER_CANCELED:"Actn_OrderCanceled",ACTN_ORDER_CONTACT_BUYER:"Actn_OrderContactBuyer",ACTN_ORDER_REFUNDED:"Actn_OrderRefunded",ACTN_ORDER_SHIP:"Actn_OrderShip",ACTN_ORDER_VIEW:"Actn_OrderView",IMP_CURRENCY_SELECTION:"Imp_CurrencySelection",ACTN_CURRENCY_SELECTED:"Actn_CurrencySelected",ACTN_CANCEL_CURRENCY_SELECTION:"Actn_CancelCurrencySelection",ACTN_ADD_PRODUCT_CLICK:"Actn_AddProductClick",ACTN_EDIT_PRODUCT_CLICK:"Actn_EditProductClick",ACTN_CANCEL_ADD_PRODUCT:"Actn_CancelAddProduct",ACTN_CANCEL_EDIT_PRODUCT:"Actn_CancelEditProduct",ACTN_SETTINGS_DROPDOWN_CLICK:"Actn_SettingsDropdownClick",ACTN_SETTINGS_DROPDOWN_SHARE_CLICK:"Actn_SettingsDropdownShareClick",ACTN_SETTINGS_DROPDOWN_COPY_CLICK:"Actn_SettingsDropdownCopyClick",ACTN_STORE_SHARE_SHOP_CLICK:"Actn_StoreShareShopClick",ACTN_ADD_DISCOUNT_CODE_CLICK:"Actn_AddDiscountCodeClick",ACTN_EDIT_DISCOUNT_CODE_CLICK:"Actn_EditDiscountCodeClick",ACTN_CANCEL_ADD_DISCOUNT_CODE:"Actn_CancelAddDiscountCode",ACTN_CANCEL_EDIT_DISCOUNT_CODE:"Actn_CancelEditDiscountCode",ACTN_CLICK_COMPOSER_PRODUCT_ATTACHMENT:"Actn_ClickComposerProductAttachment",ACTN_CLICK_ADD_NEW_PRODUCT_FROM_COMPOSER:"Actn_ClickAddNewProductFromComposer",ACTN_STORE_SHARE_COLLECTION_CLICK:"Actn_StoreShareCollectionClick",IMP_PRIVATE_MESSAGE_SELECTION:"Imp_PrivateMessageSelection",ACTN_PRIVATE_MESSAGE_BACK_CLICK:"Actn_PrivateMessageBackClick",IMP_ONBOARDING_TOS:"Imp_OnboardingTos",ACTN_ONBOARDING_TOS_ACCEPTED:"Actn_OnboardingTosAccepted",IMP_ONBOARDING_SHOP_TYPE_SELECTION:"Imp_OnboardingShopTypeSelection",IMP_ONBOARDING_PAYMENT_SETTING:"Imp_OnboardingPaymentSetting",ACTN_ONBOARDING_PAYMENT_SETTING_SELECTED:"Actn_OnboardingPaymentSettingSelected",IMP_FINISH_SETUP_BUTTON:"Imp_FinishSetupButton",IMP_SETTINGS_VIEW:"Imp_SettingsView",ACTN_UPDATE_SETTINGS:"Actn_UpdateSettings",IMP_FIRST_ORDER_BANNER:"Imp_FirstOrderBanner",IMP_FIRST_ORDER_MODAL:"Imp_FirstOrderModal",ACTN_NUX_CLICK:"Actn_NuxClick",ACTN_NUX_SEEN:"Actn_NuxSeen",ACTN_NUX_SHOW:"Actn_NuxShow",ACTN_CREATE_DEFERRED_STRIPE:"Actn_CreateDeferredStripe",ACTN_GO_TO_STRIPE:"Actn_GoToStripe",ACTN_RETURN_FROM_STRIPE:"Actn_ReturnFromStripe",ACTN_RESET_PAYMENT_ACCOUNT:"Actn_ResetPaymentAccount",ACTN_GO_TO_PAYPAL:"Actn_GoToPaypal",ACTN_APPROVED_PRODUCT_ITEM_SHARED:"Actn_ApprovedProductItemShared",ACTN_COLLECTION_SHARE_CREATED:"Actn_CollectionShareCreated",ACTN_STORE_SHARE_CREATED:"Actn_StoreShareCreated",ACTN_STORE_MULTI_PRODUCT_SHARE_CREATED:"Actn_StoreMultiProductShareCreated",ACTN_PAGE_MULTI_PRODUCT_SHARE_CREATED:"Actn_PageMultiProductShareCreated",ACTN_STORE_CREATION_NOTIF_SENT:"Actn_StoreCreationNotifSent",ACTN_EDIT_PHOTO_CLICK:"Actn_EditPhotoClick",ACTN_PHOTO_EDITED:"Actn_PhotoEdited",ACTN_BOOSTED_DYNAMIC_PRODUCTS_CREATED:"Actn_BoostedDynamicProductsCreated",ACTN_BOOSTED_DYNAMIC_PRODUCTS_UPDATED:"Actn_BoostedDynamicProductsUpdated",ACTN_ADD_PRODUCT_TAG:"Actn_AddProductTag",ACTN_REMOVE_PRODUCT_TAG:"Actn_RemoveProductTag",ACTN_PRODUCT_TAGGABLE_POST_CREATED:"Actn_ProductTaggablePostCreated",ACTN_PRODUCT_TAG_UPSELL_BANNER_CLICK:"Actn_ProductTagUpsellBannerClick",ACTN_STORE_CREATED_FROM_PRODUCT_TAGGING_CATALOG:"Actn_StoreCreatedFromProductTaggingCatalog",ACTN_INVOICE_CREATED:"Actn_InvoiceCreated",ACTN_INVOICE_VOIDED:"Actn_InvoiceVoided",ACTN_INVOICE_SHIPPED:"Actn_InvoiceShipped",ACTN_INVOICE_PAYMENT_SUBMITTED:"Actn_InvoicePaymentSubmitted",ACTN_INVOICE_PAYMENT_EXPIRED:"Actn_InvoicePaymentExpired",ACTN_ADD_PRODUCT_VIDEO:"Actn_AddProductVideo"})}),null);
__d("XPagesManagerProductPhotoUploadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/upload/file/product/photo/",{waterfall_id:{type:"String"}})}),null);
__d("PageProductPhotoEditButton.react",["cx","fbt","ActorURI","Arbiter","AsyncRequest","BOFSellerLogger","BOFSellerLoggerEvent","ReactComposerPhotoActions","PhotoEditorTargetType","XPagesManagerProductPhotoUploadController","React","Tooltip","XComposerPhotoUploader","XStickerPhotoEditorController"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.componentDidMount=function(){c("Arbiter").subscribe("PageProductPhotoEditor/newImage"+this.props.composerID,this.$PageProductPhotoEditButton2.bind(this))};m.prototype.render=function(){var n=i._("Edit Photo");return c("React").createElement("button",babelHelpers["extends"]({className:"_k4v",onClick:this.$PageProductPhotoEditButton3.bind(this)},c("Tooltip").propsFor(n)),c("React").createElement("div",{className:"_k4w"}))};m.prototype.$PageProductPhotoEditButton3=function(){__p&&__p();if(this.$PageProductPhotoEditButton1)return;c("BOFSellerLogger").log(c("BOFSellerLoggerEvent").ACTN_EDIT_PHOTO_CLICK,this.props.pageID,{target_class:"Photo",target_id:this.props.photoID});var n=void 0,o=void 0;if(this.props.photoID==parseInt(this.props.photoID,10)){n=parseInt(this.props.photoID,10);o=""}else{n=0;o=this.props.photoID}var p=c("ActorURI").create(c("XStickerPhotoEditorController").getURIBuilder().setString("grid_id",this.props.composerID).setEnum("target_type",c("PhotoEditorTargetType").PAGE_PRODUCT_COMPOSER).setInt("photo_fbid",n).setString("encrypted_photo_id",o).getURI(),this.props.pageID);this.$PageProductPhotoEditButton1=new(c("AsyncRequest"))(p).setFinallyHandler(function(){this.$PageProductPhotoEditButton1=null}.bind(this)).send();c("ReactComposerPhotoActions").startPhotoEdit(this.props.composerID,null)};m.prototype.$PageProductPhotoEditButton2=function(n,o){var p=c("ActorURI").create(c("XPagesManagerProductPhotoUploadController").getURIBuilder().getURI(),this.props.pageID),q=o.encryptedID||o.fbid,r=new(c("XComposerPhotoUploader"))({uploadEndpoint:p,onUploadSuccess:function(n,s){this.props.onPhotoEdited(q,s.response.payload[0])}.bind(this)});r.getAsyncUploadRequest([o.blob]).send()};function m(){j.apply(this,arguments)}m.propTypes={composerID:l.string.isRequired,onPhotoEdited:l.func.isRequired,pageID:l.string.isRequired,photoID:l.string.isRequired};f.exports=m}),null);
__d("PageContentTabProductPhotoUploader.react",["cx","fbt","invariant","ActorURI","AudienceManagerEngagementVideoSelectionError.react","Image.react","Link.react","Omnipicker.react","ComputerPanel.react","OmnipickerComputerSelector.react","OmnipickerDialog.react","OmnipickerDialogRenderer","OmnipickerPagePostedPhotosPanel.react","OmnipickerPagePostedPhotosSelector.react","OmnipickerPanelList.react","OmnipickerSelectorList.react","OmnipickerWaterfallLogger","PageContentTabProductUploadVideoButton.react","PageProductPhotoEditButton.react","XPagesManagerProductPhotoUploadController","PUWApplications","PUWSteps","React","WaterfallIDGenerator","XUICloseButton.react","XUIError.react","XUIGrayText.react","XUISpinner.react"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=c("React").createClass({displayName:"PageContentTabProductPhotoUploader",_waterfallLogger:c("OmnipickerWaterfallLogger"),propTypes:{className:k.string,maxPhotosCount:k.number,pageID:k.string.isRequired,onPhotoEdited:k.func,onPhotosSelected:k.func.isRequired,onPhotoRemoved:k.func.isRequired,photos:k.array.isRequired,photoEditingEnabled:k.bool.isRequired,productCatalogID:k.string,pageContentTabAccessToken:k.string,videos:k.array,onVideoSelected:k.func,onVideoUploadFinished:k.func,onVideoUploadError:k.func,onVideoRemoved:k.func,showVideoUploadButton:k.bool,xuiError:k.any},getInitialState:function m(){var n={fileUploadURI:c("ActorURI").create(c("XPagesManagerProductPhotoUploadController").getURIBuilder().getURI(),this.props.pageID)};this._waterfallLogger=new(c("OmnipickerWaterfallLogger"))(c("PUWApplications").WEB_PRODUCT_PHOTO_OMNIPICKER,c("WaterfallIDGenerator").generate());return{dialogRenderer:new(c("OmnipickerDialogRenderer"))(c("React").createElement(c("OmnipickerDialog.react"),{onCancel:this.onPickerCancel,title:i._("Select Photo")},c("React").createElement(c("Omnipicker.react"),{logger:this._waterfallLogger,onDoneSelecting:this.onPickerAddPhotos},c("React").createElement(c("OmnipickerSelectorList.react"),null,c("React").createElement(c("OmnipickerComputerSelector.react"),null),c("React").createElement(c("OmnipickerPagePostedPhotosSelector.react"),null)),c("React").createElement(c("OmnipickerPanelList.react"),null,c("React").createElement(c("ComputerPanel.react"),{config:n}),c("React").createElement(c("OmnipickerPagePostedPhotosPanel.react"),{pageID:this.props.pageID})))))}},onPickerCancel:function m(){this.state.dialogRenderer.hide();this._waterfallLogger.logStep(c("PUWSteps").CLIENT_FLOW_CANCEL)},onPickerAddPhotos:function m(n){this.state.dialogRenderer.hide();this.props.onPhotosSelected(n)},render:function m(){var n=null,o=null,p=this.props.photos.length;if(this.props.videos)p+=this.props.videos.length;if(!this.props.maxPhotosCount||p<this.props.maxPhotosCount){n=this._renderAddPhotoLink();o=this._renderAddVideoLink()}return c("React").createElement("div",{className:this.props.className},this._renderUploadedMedia(),n,o)},_renderUploadedPhoto:function m(n){var o=null;if(this.props.photoEditingEnabled)o=c("React").createElement(c("PageProductPhotoEditButton.react"),{composerID:this._waterfallLogger.getWaterfallID(),onPhotoEdited:this.props.onPhotoEdited,pageID:this.props.pageID,photoID:n.fbid});return c("React").createElement("div",{key:n.fbid,className:"_5m94"},c("React").createElement(c("XUICloseButton.react"),{className:"_5m95",size:"medium",shade:"light",onClick:function(p){return this.props.onPhotoRemoved(n)}.bind(this)}),c("React").createElement(c("Image.react"),{className:"_19tc",src:n.src}),o,c("React").createElement("div",{className:"_19td"}))},_renderUploadedVideo:function m(n){var o=null;if(!n.ready&&!n.error)o=c("React").createElement(c("XUISpinner.react"),{className:"_37cg",size:"large"});var p=null;if(n.error)p=c("React").createElement("div",{className:"_37ch"},c("React").createElement(c("AudienceManagerEngagementVideoSelectionError.react"),{mainLabel:i._("Upload failed")}));return c("React").createElement("div",{key:n.fbid,className:"_5m94"},c("React").createElement(c("XUICloseButton.react"),{className:"_5m95",size:"medium",shade:"light",onClick:function(){this.props.onVideoRemoved||j(0);this.props.onVideoRemoved(n)}.bind(this)}),c("React").createElement(c("Image.react"),{className:"_19tc",src:n.src}),o,p,c("React").createElement("div",{className:"_37cj"}),c("React").createElement("div",{className:"_37cm"},c("React").createElement("div",{className:"_37cn"})),c("React").createElement("div",{className:"_19td"}))},_renderUploadedMedia:function m(){var n=this.props.videos&&this.props.onVideoRemoved?this.props.videos.map(this._renderUploadedVideo):[],o=this.props.photos.map(this._renderUploadedPhoto);return n.concat(o)},_renderAddPhotoLink:function m(){return c("React").createElement(c("Link.react"),{className:"_3ff7",ref:"uploadButton",onClick:this._onPickerLaunch},c("React").createElement(c("XUIError.react"),{xuiError:this.props.xuiError},c("React").createElement("div",{className:"_22to _19tc"},c("React").createElement(c("XUIGrayText.react"),{className:"_3ff8",size:"meta1",display:"block"},i._("Add Photos")))))},_renderAddVideoLink:function m(){if(!this.props.showVideoUploadButton||!this.props.onVideoSelected||!this.props.onVideoUploadFinished||!this.props.onVideoUploadError||!this.props.productCatalogID||!this.props.pageContentTabAccessToken)return null;return c("React").createElement(c("PageContentTabProductUploadVideoButton.react"),{productCatalogID:this.props.productCatalogID,onVideoSelected:this.props.onVideoSelected,onVideoUploadFinished:this.props.onVideoUploadFinished,onVideoUploadError:this.props.onVideoUploadError,pageContentTabAccessToken:this.props.pageContentTabAccessToken})},_onPickerLaunch:function m(){this._waterfallLogger.logStep(c("PUWSteps").CLIENT_FLOW_BEGIN);this.state.dialogRenderer.show()}});f.exports=l}),null);
__d("XPagesManagerProductDeleteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/product_delete/",{group_ids:{type:"StringVector"}})}),null);
__d("XPagesManagerProductUpdateInventoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/update_inventory/",{product_group_ids:{type:"IntVector"},inventory_in_stock:{type:"Bool",defaultValue:false}})}),null);
__d("PageProductActions",["fbt","ActorURI","AsyncRequest","PageContentTabCommonConfig","PageContentTabDispatcher","PageContentTabLoadingDialog","XPagesManagerProductDeleteController","XPagesManagerProductUpdateInventoryController"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={deleteProducts:function j(k,l,m){c("PageContentTabLoadingDialog").show();var n=c("ActorURI").create(c("XPagesManagerProductDeleteController").getURIBuilder().setStringVector("group_ids",k).getURI(),l);new(c("AsyncRequest"))(n).setMethod("POST").setHandler(function(o){k.forEach(function(p){return c("PageContentTabDispatcher").handlePostRemoved(l,p)})}).setFinallyHandler(function(){c("PageContentTabLoadingDialog").hide();m&&m()}).send()},deleteProductsWithConfirmation:function j(k,l,m){var n=k.length===1?h._("Deleting this product will remove it from your shop"):h._("Deleting these products will remove them from your shop");c("PageContentTabCommonConfig").showConfirmationDialog(h._({"Product":"Delete Product ?","Products":"Delete Products ?"},[h["enum"](k.length===1?"Product":"Products",{Product:"Product",Products:"Products"})]),n,h._({"product":"Delete product","products":"Delete products"},[h["enum"](k.length===1?"product":"products",{product:"product",products:"products"})]),i.deleteProducts.bind(i,k,l,m),null)},MarkStockWithConfirmation:function j(k,l,m,n){__p&&__p();var o=l.map(function(t){return t.id}),p=false;l.forEach(function(t){if(t.products.data.length>1)p=true});var q=null;if(m)q=p?h._({"product":"Mark product as in stock. All variants will be affected","products":"Mark products as in stock. All variants will be affected"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]):h._({"product":"Mark product as in stock","products":"Mark products as in stock"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]);else q=p?h._({"product":"Mark product as out of stock. All variants will be affected","products":"Mark products as out of stock. All variants will be affected"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]):h._({"product":"Mark product as out of stock","products":"Mark products as out of stock"},[h["enum"](o.length===1?"product":"products",{product:"product",products:"products"})]);var r=m?h._("Mark in stock"):h._("Mark out of stock"),s=m?h._("Mark in stock"):h._("Mark out of stock");c("PageContentTabCommonConfig").showConfirmationDialog(r,q,s,i.MarkStockProducts.bind(i,k,m,l,n),null,null)},MarkStockProducts:function j(k,l,m,n){__p&&__p();c("PageContentTabLoadingDialog").show();var o=m.map(function(q){return q.id}),p=c("ActorURI").create(c("XPagesManagerProductUpdateInventoryController").getURIBuilder().setIntVector("product_group_ids",o).setBool("inventory_in_stock",l).getURI(),k);new(c("AsyncRequest"))(p).setMethod("POST").setHandler(function(q){__p&&__p();var r=q.payload;m.forEach(function(s){if(s.id in r){var t=s.products.data[0];t.inventory=r[s.id];if(t.commerce_settings){t.commerce_settings.inventory=t.inventory;t.commerce_settings.total_inventory=t.inventory}c("PageContentTabDispatcher").handlePostChanged(s)}})}).setFinallyHandler(function(){c("PageContentTabLoadingDialog").hide();n&&n()}).send()}};f.exports=i}),null);
__d("BOFSellerLoggingSources",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ADD_SECTION:"AddSection",FINISH_SETUP_BANNER:"FinishSetupBanner",PAGE_COMPOSER:"PageComposer",PRODUCT_TAGGING_TYPEAHEAD:"ProductTaggingTypeahead",PUBLISHING_TOOLS:"PublishingTools",QP:"QP",SHOP_TAB:"ShopTab",STRIPE_REDIRECT:"StripeRedirect",GRAPH_API:"GraphApi",DEV_TEST:"DevTest",SHOP_EDIT:"ShopEdit",PAGE_CARD:"PageCard",NLU_BANNER:"NLUBanner"})}),null);
__d("CommerceB2CUnsupportedCurrencies",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CNY:"CNY",CUC:"CUC",IRR:"IRR",KPW:"KPW",SDG:"SDG",SYP:"SYP"})}),null);
__d("CommerceCurrencySelector.react",["CurrencyConfig","CommerceB2CUnsupportedCurrencies","React","XUISingleSelector.react"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h,i,j=c("XUISingleSelector.react").Option,k=c("React").PropTypes,l=200,m="FBZ";h=babelHelpers.inherits(n,c("React").Component);i=h&&h.prototype;n.prototype.render=function(){var o=this.$CommerceCurrencySelector1(),p=this.props.selectedCurrency;o=o.filter(function(r){return!this.$CommerceCurrencySelector2(r.iso)}.bind(this));if(this.$CommerceCurrencySelector2(p))p="USD";var q=o.map(function(r){return c("React").createElement(j,{key:r.iso,value:r.iso},r.name)});return c("React").createElement(c("XUISingleSelector.react"),{maxheight:l,value:p,onChange:this.props.onChange},q)};n.prototype.$CommerceCurrencySelector2=function(o){return Object.values(c("CommerceB2CUnsupportedCurrencies")).indexOf(o)!==-1};n.prototype.$CommerceCurrencySelector1=function(){var o=c("CurrencyConfig").allCurrenciesByCode,p=Object.keys(o);return p.map(function(q){return o[q]}).filter(function(q){return q.iso!==m&&q.name!==null}).sort(function(q,r){return q.name.localeCompare(r.name)})};function n(){h.apply(this,arguments)}n.propTypes={onChange:k.func.isRequired,selectedCurrency:k.string.isRequired,selectedPaymentProvider:k.number};f.exports=n}),null);
__d("CommerceSelfServeProductTaxCategories",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({NONE:0,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD:49e5,TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:49e6,TAX_ITEM_CODE_COMMERCE_CLOTHING:531e5,TAX_ITEM_CODE_COMMERCE_SHOES:5311e4,TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:5312e4,TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:5313e4,TAX_ITEM_CODE_COMMERCE_JEWELRY:541e5,TAX_ITEM_CODE_COMMERCE_WATCHES:54111500,TAX_ITEM_CODE_COMMERCE_OTHERS:-1})}),null);
__d("PageProductComposerMarketplaceCategorySelector.react",["cx","fbt","BUIFormSelector.react","React","XUIGrayText.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("BUIFormSelector.react").Option;j=babelHelpers.inherits(m,c("React").Component);k=j&&j.prototype;m.prototype.render=function(){var n=this.props.categories.map(function(o){return c("React").createElement(l,{value:o.id,key:o.id},o.text)});return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},i._("Product Category")),c("React").createElement(c("BUIFormSelector.react"),{density:"snug",onChange:function(o){return this.props.onCategoryClick(o.value)}.bind(this),value:this.props.value},n))};function m(){j.apply(this,arguments)}f.exports=m}),null);
__d("PageProductComposerShippingOptions.react",["ix","cx","fbt","xuiglyph","CommerceSelfServeUI","CurrencyInput.atlas","Image.react","LeftRight.react","Link.react","React","XUIGrayText.react","XUIText.react","XUITextInput.react"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l,m,n=c("React").PropTypes;l=babelHelpers.inherits(o,c("React").Component);m=l&&l.prototype;function o(){__p&&__p();var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=m.constructor).call.apply(p,[this].concat(s)),this.$PageProductComposerShippingOptions1=function(){return{shipping_country:"US",shipping_price_currency:this.props.currencyCode,shipping_price_value:0,shipping_service:null}}.bind(this),this.$PageProductComposerShippingOptions2=function(u,v){var w=this.props.shippingOptions;w[u].shipping_service=v;this.props.onShippingOptionsChange(w)}.bind(this),this.$PageProductComposerShippingOptions3=function(u,v){var w=this.props.shippingOptions;w[u].shipping_price_value=v;this.props.onShippingOptionsChange(w)}.bind(this),this.$PageProductComposerShippingOptions5=function(){var u=this.props.shippingOptions;u[u.length]=this.$PageProductComposerShippingOptions1();this.props.onShippingOptionsChange(u)}.bind(this),this.$PageProductComposerShippingOptions4=function(u){var v=this.props.shippingOptions;v.splice(u,1);this.props.onShippingOptionsChange(v);var w=u>0?u-1:0;this.refs[w].focusInput()}.bind(this),q}o.prototype.componentWillMount=function(){if(this.props.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()])};o.prototype.componentWillReceiveProps=function(p){if(p.shippingOptions.length===0)this.props.onShippingOptionsChange([this.$PageProductComposerShippingOptions1()])};o.prototype.render=function(){__p&&__p();var p=this.props.shippingOptions.length,q=h("88985"),r=[];this.props.shippingOptions.forEach(function(x){var y=x.shipping_service,z=r.length;r[z]=c("React").createElement("tr",{className:"_5b1f",key:"option-"+z},c("React").createElement("td",{className:"_b3y"},c("React").createElement(c("XUITextInput.react"),{className:"_2mfs",disabled:this.props.disabled,height:"tall",value:y,placeholder:j._("Shipping method name"),onChange:function(A){return this.$PageProductComposerShippingOptions2(z,A.target.value)}.bind(this),ref:z})),c("React").createElement("td",{className:"_b3z"},c("React").createElement(c("CurrencyInput.atlas"),{className:"_5rpn",currency:x.shipping_price_currency,disabled:this.props.disabled,isZeroValidValue:true,value:Number(x.shipping_price_value)/100,onChange:function(A){return this.$PageProductComposerShippingOptions3(z,A*100)}.bind(this)})),p>c("CommerceSelfServeUI").MIN_SHIPPING_OPTIONS?c("React").createElement("td",{className:"_b3-"},c("React").createElement(c("Link.react"),{onClick:function(A){this.props.disabled?null:this.$PageProductComposerShippingOptions4(z)}.bind(this)},c("React").createElement(c("Image.react"),{className:"_2_qb",src:q}))):null)}.bind(this));var s=void 0,t=c("React").createElement(c("XUIText.react"),{size:"meta1"},j._("Add Shipping Method"));if(p>=c("CommerceSelfServeUI").MAX_SHIPPING_OPTIONS){var u=j._("You have reached the maximum number of shipping options.");s=c("React").createElement(c("Link.react"),{"data-hover":"tooltip","data-tooltip-content":u,onClick:function x(y){return y.stopPropagation()}},t)}else s=c("React").createElement(c("Link.react"),{onClick:this.props.disabled?null:this.$PageProductComposerShippingOptions5},t);var v=null;if(this.props.settingsURI)v=c("React").createElement(c("Link.react"),{className:"_3-9b",href:this.props.settingsURI,target:"_blank"},j._("Edit Default Shipping Options"));var w=null;if(!this.props.hideTitle)w=c("React").createElement("div",{className:"_3-94"},c("React").createElement(c("XUIGrayText.react"),{display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Shipping Options"),v),c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("Customers will only be charged one shipping fee per order, even if they order more than one of this item.")));return c("React").createElement("div",{className:"_4qx _2pid"},w,c("React").createElement("table",{className:"_b40"},c("React").createElement("tbody",null,r)),c("React").createElement("div",{className:"_2pic _2pir"},s))};o.propTypes={currencyCode:n.string.isRequired,disabled:n.bool,hideTitle:n.bool,settingsURI:n.object,shippingOptions:n.arrayOf(n.shape({shipping_country:n.string,shipping_price_currency:n.string,shipping_price_value:n.number,shipping_service:n.string})).isRequired,onShippingOptionsChange:n.func.isRequired};f.exports=o}),null);
__d("PageProductComposerTaxCategorySelector.react",["cx","fbt","invariant","BUIAdoptionAdsPopoverLink.react","BUIFormSelector.react","CommerceSelfServeProductTaxCategories","React","XUIGrayText.react","forEachObject"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l,m=c("BUIFormSelector.react").Option,n=c("React").PropTypes;k=babelHelpers.inherits(o,c("React").Component);l=k&&k.prototype;o.prototype.render=function(){var p=[];c("forEachObject")(c("CommerceSelfServeProductTaxCategories"),function(q,r){if(q!==c("CommerceSelfServeProductTaxCategories").NONE&&q!==c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)p.push(c("React").createElement(m,{value:q,key:"UNSPSC_"+q},this.$PageProductComposerTaxCategorySelector1(r)))}.bind(this));return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},i._("Product Category"),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:i._("This category is used to calculate taxes. You can also enter a tax rate under Custom Product Taxes in Advanced Options."),contentWidthUseSparingly:318,position:"below"})),c("React").createElement(c("BUIFormSelector.react"),{density:"snug",onChange:this.props.onTaxCategoryChange,value:this.props.taxCategory},p))};o.prototype.$PageProductComposerTaxCategorySelector1=function(p){__p&&__p();Object.prototype.hasOwnProperty.call(c("CommerceSelfServeProductTaxCategories"),p)||j(0);switch(c("CommerceSelfServeProductTaxCategories")[p]){case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION:return i._("Sports and Recreation");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_CLOTHING:return i._("Clothing");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SHOES:return i._("Shoes");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_LUGGAGE_BAGS:return i._("Luggage\/Bags");case c("CommerceSelfServeProductTaxCategories").TAX_ITME_CODE_COMMERCE_PERSONAL_CARE:return i._("Personal Care");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_JEWELRY:return i._("Jewelry");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_WATCHES:return i._("Watches");case c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS:return i._("Other physical goods");default:j(0)}};function o(){k.apply(this,arguments)}o.propTypes={onTaxCategoryChange:n.func,taxCategory:n.number};o.defaultProps={taxCategory:c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS};f.exports=o}),null);
__d("PageProductReviewNUX.react",["cx","fbt","React","ReactLayeredComponentMixin_DEPRECATED","XUIDialog.react","XUIDialogBody.react","XUICloseButton.react","XUIDialogFooter.react","XUIDialogOkayButton.react","XUIGrayText.react","classWithMixins","mixin"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("React").PropTypes,m=500;j=babelHelpers.inherits(n,c("classWithMixins")(c("React").Component,c("mixin")(c("ReactLayeredComponentMixin_DEPRECATED"))));k=j&&j.prototype;function n(){k.constructor.call(this);this.state={dialogShown:true}}n.prototype.render=function(){return c("React").createElement("span",null)};n.prototype.renderLayers=function(){if(!this.state.dialogShown)return{};return{dialog:c("React").createElement(c("XUIDialog.react"),{width:m,onToggle:function(o){return this.$PageProductReviewNux1.bind(this,o)}.bind(this),shown:this.state.dialogShown,layerHideOnBlur:false},c("React").createElement("div",{className:"_2pie _2pij"},c("React").createElement(c("XUICloseButton.react"),{label:this.props.closeButtonText,className:"layerCancel rfloat"})),c("React").createElement(c("XUIDialogBody.react"),{className:"_4o_9"},c("React").createElement("h1",{className:"_4o_a"},this.$PageProductReviewNux2()),c("React").createElement(c("XUIGrayText.react"),{size:"header4"},this.$PageProductReviewNux3())),c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogOkayButton.react"),{use:"confirm",action:"button",onClick:this.$PageProductReviewNux1.bind(this,false)})))}};n.prototype.$PageProductReviewNux2=function(){return i._("You just added your first product!")};n.prototype.$PageProductReviewNux3=function(){return i._("All products are processed before they are visible to your customers. You will receive a notification when this is done, usually within a few minutes.")};n.prototype.$PageProductReviewNux1=function(o){this.setState({dialogShown:o});if(!o&&this.props.onDialogClosed)this.props.onDialogClosed()};n.propTypes={onDialogClosed:l.func};f.exports=n}),null);
__d("ProductVisibility",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LEGACY_PUBLIC:"",STAGING:"staging",PUBLISHED:"published",HIDDEN:"hidden",WHITELIST_ONLY:"whitelist_only"})}),null);
__d("ProductVisibilitySelector.react",["fbt","BUIFormSelector.react","ProductVisibility","React"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j,k=c("BUIFormSelector.react").Option,l=c("React").PropTypes;i=babelHelpers.inherits(m,c("React").Component);j=i&&i.prototype;m.prototype.render=function(){var n=this.props,o=n.onChange,p=n.value,q=babelHelpers.objectWithoutProperties(n,["onChange","value"]);return c("React").createElement(c("BUIFormSelector.react"),babelHelpers["extends"]({onChange:function(r){function o(s){return r.apply(this,arguments)}o.toString=function(){return r.toString()};return o}(function(r){return o(r.value)}),value:p},q),c("React").createElement(k,{value:c("ProductVisibility").PUBLISHED},h._("Public")),c("React").createElement(k,{value:c("ProductVisibility").STAGING},h._("Unpublished")))};function m(){i.apply(this,arguments)}m.propTypes=babelHelpers["extends"]({onChange:l.func.isRequired,value:l.string.isRequired},c("BUIFormSelector.react").propTypes);f.exports=m}),null);
__d("XCommerceSelfServeParam",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({EXPLANATION:"explanation",PAGE_ID:"page_id",AMOUNT:"amount",ADDRESS:"address",STREET_1:"street1",STREET_2:"street2",CITY:"city",STATE:"region",ZIP:"postalCode",ACCEPTED_TOS:"accepted_tos",ALERT_EMAIL:"alert_email",COLLECTION_NAME:"collection_name",CONTACT_EMAIL:"contact_email",SECONDARY_CTA:"secondary_product_cta",PAYMENT_PROVIDER:"payment_provider",PAYPAL_MERCHANT_EMAIL:"paypal_merchant_email",RETURN_POLICY_TIME:"return_policy_time",SETTINGS_ID:"settings_id",SHIPPING_POLICY_TIME:"shipping_policy_time",STRIPE_DEFERRED_EMAIL:"stripe_deferred_email",TAX_NEXUS_LOCATIONS:"tax_nexus_locations",VISIBILITY:"visibility",CHECKOUT_URL:"checkout_url",COLLECTION_ID:"collection_id",CURRENCY_CODE:"currency_code",DEFAULT_SHIPPING_OPTIONS_JSON:"default_shipping_options_json",FEATURED_PRODUCT:"featured_product",INVENTORY:"inventory",IS_ON_SALE:"is_on_sale",PRODUCT_CATALOG_ID:"catalog_id",PRODUCT_DESCRIPTION:"product_desc",PRODUCT_ID:"product_id",PRODUCT_PHOTO_IDS:"photo_ids",PRODUCT_VIDEO_IDS:"video_ids",PRODUCT_PRICE:"product_price",PRODUCT_SALE_PRICE:"product_sale_price",PRODUCT_TITLE:"product_title",SHARE_TO_TIMELINE:"share_to_timeline",SHIPPING_OPTION_NAMES:"shipping_option_names",SHIPPING_OPTION_VALUES:"shipping_option_values",TAX_APPLIED_TO_SHIPPING_MAP:"tax_applied_to_shipping_map",TAX_CATEGORY:"tax_category",TAX_LOCATIONS:"tax_locations",TAX_PERCENT_MAP:"tax_percent_map",VARIANT_NAMES:"variant_names",VARIANT_INVENTORY:"variant_inventory_map",VARIANT_PRICE:"variant_price_map",VARIANT_SALE_PRICE:"variant_sale_price_map",VARIANT_DATA:"variant_serial_data_map",VARIANT_PRODUCT_ID:"variant_product_id_map",CATEGORY_ID:"category_id"})}),null);
__d("XPagesManagerFeaturedItemsCountController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/featured_items_count/",{})}),null);
__d("XPagesManagerProductCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/products/product_create/",{})}),null);
__d("XPagesManagerProductVariantsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/product_variants/",{product_group_id:{type:"String",required:true}})}),null);
__d("XPagesManagerProductViewController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/pages/content_tab/product/",{product_id:{type:"String",required:true}})}),null);
__d("PageProductComposerDialog.react",["ix","cx","fbt","ActorURI","AdsCurrencyInput_DEPRECATED.react","AsyncRequest","BOFSellerLogger","BOFSellerLoggerEvent","BOFSellerLoggingSources","BUIAdoptionAdsPopoverLink.react","BUIFormButton.react","CommerceCurrencyInputUtils","CommerceCurrencySelector.react","CommerceExceptionHandlerMixin.react","CommerceInventoryAvailabilityOptions","CommerceInventoryToggle.react","CommerceSelfServeProductTaxCategories","CommerceSelfServeProductTaxRatesTable.react","CommerceSelfServeSection","Currency","DOM","FBNumberInput.react","FBToggleSwitch.react","Image.react","InlineBlock.react","Link.react","PageCommerceProductVariantPage.react","PageContentTabDispatcher","PageContentTabProductPhotoUploader.react","PageProductActions","PageProductComposerMarketplaceCategorySelector.react","PageProductComposerShippingOptions.react","PageProductComposerTaxCategorySelector.react","PageProductReviewNUX.react","PageSettingsRef","PagesManagerProductToolsConstants","PECurrency","ProductVisibility","ProductVisibilitySelector.react","React","ReactDOM","XCommerceSelfServeParam","XPagesManagerFeaturedItemsCountController","XPagesManagerProductCreateController","XPagesManagerProductVariantsController","XPagesManagerProductViewController","XPagesManagerSettingsController","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogCancelButton.react","XUIDialogFooter.react","XUIDialogHeader.react","XUIDialogHeaderTitle.react","XUIDialogTitle.react","XUIError.react","XUIGrayText.react","XUINotice.react","XUISpinner.react","XUITextInput.react","areEqual","fbglyph","getOwnObjectValues","PageContentTabConstants"],(function a(b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=c("React").PropTypes,l=c("PageContentTabConstants").TABS,m="USD",n=500,o=80,p=3,q=50,r=1,s=100,t=100,u={main:"main",variant:"variant"},v={edit:"Edit",advanced:"Advanced"},w="0",x=c("React").createClass({displayName:"PageProductComposerDialog",mixins:[c("CommerceExceptionHandlerMixin.react")],propTypes:{categories:k.array,checkoutURL:k.string,collectionID:k.string,currencyCode:k.string,defaultShippingOptions:k.array,onProductChanged:k.func,onProductCreated:k.func,onProductDeleted:k.func,pageContentTabAccessToken:k.string.isRequired,pageID:k.string.isRequired,pageHasShop:k.bool.isRequired,productCatalogID:k.string.isRequired,productID:k.string,productGroupID:k.string,requireDescription:k.bool.isRequired,sections:k.array.isRequired,shownInitially:k.bool,showShareToTimelineToggle:k.bool,showTOS:k.bool,showVideoUploadButton:k.bool,source:k.oneOf(c("getOwnObjectValues")(c("BOFSellerLoggingSources"))).isRequired,tosURI:k.string,onClose:k.func,shouldCreateShopFromProduct:k.bool},getDefaultProps:function y(){return{showShareToTimelineToggle:true}},getInitialState:function y(){return{categoryID:null,checkoutURL:this.props.checkoutURL||"",currencyCode:this.props.currencyCode||m,currentTabKey:v.edit,currentPage:u.main,dialogShown:this.props.shownInitially,errorTabs:[],featuredCount:0,hasAttemptedSave:false,inventory:c("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK,isOnSale:false,loading:false,saving:false,photos:[],videos:[],productDesc:"",productPrice:0,productSalePrice:0,productTitle:"",productVisibility:c("ProductVisibility").PUBLISHED,shareToTimeline:false,shippingOptions:this.props.defaultShippingOptions||[],taxCategory:c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS,taxRates:{state_abbr:{},zip_code:{}},showVariants:false,visibilityNotice:null,variants:[],variantItems:{}}},componentWillMount:function y(){this._reviewedProductData=this._getReviewableDataFromState(this.state);if(this.props.productID)this._fetchProductDetails(this.props.pageID,this.props.productID);if(this.props.productGroupID)this._fetchVariants(this.props.pageID,this.props.productGroupID);this._fetchFeaturedCount(this.props.pageID)},componentDidMount:function y(){var event=this.props.productID?c("BOFSellerLoggerEvent").ACTN_EDIT_PRODUCT_CLICK:c("BOFSellerLoggerEvent").ACTN_ADD_PRODUCT_CLICK;this._logEvent(event)},componentWillReceiveProps:function y(z){if(this.props.pageID!==z.pageID||this.props.productID!==z.productID||this.props.productGroupID!==z.productGroupID){this._fetchProductDetails(z.pageID,z.productID);this._fetchVariants(z.pageID,z.productGroupID)}},_fetchFeaturedCount:function y(z){this.setState({loading:true});var A=c("ActorURI").create(c("XPagesManagerFeaturedItemsCountController").getURIBuilder().getURI(),z);new(c("AsyncRequest"))().setURI(A).setHandler(function(B){var C=B.payload.featured_count;this.setState({loading:false,featuredCount:C})}.bind(this)).send()},_fetchProductDetails:function y(z,A){this.setState({loading:true});var B=c("ActorURI").create(c("XPagesManagerProductViewController").getURIBuilder().setString(c("XCommerceSelfServeParam").PRODUCT_ID,A).getURI(),z);new(c("AsyncRequest"))().setURI(B).setHandler(this._onProductDetailsFetched).send()},_fetchVariants:function y(z,A){this.setState({loading:true});var B=c("ActorURI").create(c("XPagesManagerProductVariantsController").getURIBuilder().setString("product_group_id",A).getURI(),z);new(c("AsyncRequest"))().setURI(B).setHandler(function(C){var D=C.payload,E={variants:D.variants,variantItems:D.variantItems};this._oldVariants=this._deepClone(E);this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,D));this.setState(D)}.bind(this)).send()},_oldVariants:{variants:[],variantItems:{}},_deepClone:function y(z){return JSON.parse(JSON.stringify(z))},onPhotosSelected:function y(z){this.setState({photos:this.state.photos.concat(z)})},onPhotoRemoved:function y(z){this.setState({photos:this.state.photos.filter(function(A){return A.fbid!==z.fbid})})},onPhotoEdited:function y(z,A){var B=this.state.photos.findIndex(function(D){return D.fbid===z});if(B!==undefined){c("BOFSellerLogger").log(c("BOFSellerLoggerEvent").ACTN_PHOTO_EDITED,this.props.pageID,{target_class:"Photo",target_id:A.fbid});var C=this.state.photos.slice();C[B]=A;this.setState({photos:C})}},_onVideoSelected:function y(z){var A=this.state.videos;A=A.concat({requestID:z,fbid:z,src:null,ready:false,error:false});this.setState({videos:A})},_onVideoRemoved:function y(z){this.setState({videos:this.state.videos.filter(function(A){return A.fbid!==z.fbid})})},_onVideoUploadFinished:function y(z,A,B){var C=this.state.videos;for(var D=0;D<C.length;D++)if(C[D].requestID===z){C[D].fbid=A;C[D].src=B;C[D].ready=true}this.setState({videos:C})},_onVideoUploadError:function y(z){var A=this.state.videos;for(var B=0;B<A.length;B++)if(A[B].requestID===z){A[B].error=true;A[B].ready=false}this.setState({videos:A})},_getDialogHeader:function y(){switch(this.state.currentPage){case u.main:return c("React").createElement(c("XUIDialogHeader.react"),{activeTabKey:this.state.currentTabKey,onTabClick:this._handleTabChange},this._getTabHeaders());case u.variant:return c("React").createElement(c("XUIDialogTitle.react"),null,this._getTitle())}return c("React").createElement("div",null)},_getTabHeaders:function y(){var z=[c("React").createElement(c("XUIDialogHeaderTitle.react"),{href:"#",key:v.edit},this._getTitle())];if(this._showSection(c("CommerceSelfServeSection").TAX_TABLE))z.push(c("React").createElement(c("XUIDialogHeaderTitle.react"),{href:"#",key:v.advanced},j._("Advanced Options")));return z},_getPhotoUploader:function y(){var z=this.state.hasAttemptedSave?this._getPhotosError(this.state.photos):null;return c("React").createElement(c("PageContentTabProductPhotoUploader.react"),{className:"_2anr",pageID:this.props.pageID,photoEditingEnabled:true,photos:this.state.photos,onPhotosSelected:this.onPhotosSelected,onPhotoRemoved:this.onPhotoRemoved,onPhotoEdited:this.onPhotoEdited,productCatalogID:this.props.productCatalogID,pageContentTabAccessToken:this.props.pageContentTabAccessToken,videos:this.state.videos,onVideoSelected:this._onVideoSelected,onVideoUploadFinished:this._onVideoUploadFinished,onVideoUploadError:this._onVideoUploadError,onVideoRemoved:this._onVideoRemoved,showVideoUploadButton:this.props.showVideoUploadButton,xuiError:z})},_getPhotoTooltip:function y(){if(this.state.photos.length>0||this.state.videos.length>0)return null;if(this.props.source===c("BOFSellerLoggingSources").PRODUCT_TAGGING_TYPEAHEAD&&!this.props.pageHasShop)return c("React").createElement(c("XUINotice.react"),{size:"small"},c("React").createElement("div",{className:"_45zv"},j._("Adding a product lets you tag it in posts, photos and videos on your Page.")));return c("React").createElement(c("XUINotice.react"),{size:"small"},c("React").createElement("div",{className:"_1mxl"},j._("Check out our {link} for tips on making your product images look good on Facebook.",[j.param("link",c("React").createElement(c("Link.react"),{href:"https://www.facebook.com/business/help/481150918755515",target:"_blank"},j._("recommended photo guidelines")))])))},_getTabBodies:function y(){var z=this.state.currentTabKey==v.edit,A=[c("React").createElement("div",{className:z?"_2pi1":"hidden_elem",key:"basic_product_edit_tab"},c("React").createElement("div",{dangerouslySetInnerHTML:this.state.visibilityNotice}),c("React").createElement("div",null,this._getPhotoUploader(),this._getPhotoTooltip()),c("React").createElement("div",{className:"clearfix"}),this._getNamePriceDescriptionInputs(),this._getCheckoutURLInput(),this._getFeaturedToggleSwitch(),this._getShareToTimelineToggle(),c("React").createElement("div",{className:"_3p77"},c("React").createElement("div",{className:"_4o5s"},this._getInventoryInput()),c("React").createElement("div",{className:"_4o5t"},this._getTaxCategorySelector())),c("React").createElement("div",{className:"_3p77"},c("React").createElement("div",{className:"_4o5s"},this._getVariantsButton()),c("React").createElement("div",{className:"_4o5t"},this._getVisibilitySelector())),this._getEditWarning(),this._getShippingOptionsSection(),this._getShopCreationNoticeSection(),this._getTOSSection())];if(this._showSection(c("CommerceSelfServeSection").TAX_TABLE))A.push(c("React").createElement("div",{className:(z?"hidden_elem":"")+" _2pi1 _5dz6",key:"advanced_product_edit_tab"},this._getTaxTable()));return A},_getShopCreationNoticeSection:function y(){if(this.props.pageHasShop||!this.props.shouldCreateShopFromProduct)return null;return c("React").createElement("div",{className:"_3-8x _4u1-"},j._("When you add a product we will create a shop section for your page. You can easily edit and manage your products within your shop."))},_getTOSSection:function y(){if(!this.props.showTOS)return null;return c("React").createElement("div",{className:"_3-8x _1otd"},j._("By clicking {Label displayed on button to save a product}, you agree to the {Merchant Terms and Policies link}",[j.param("Label displayed on button to save a product",this._getSaveButtonText()),j.param("Merchant Terms and Policies link",c("React").createElement(c("Link.react"),{href:this.props.tosURI,target:"_blank"},"Merchant Terms and Policies"))]))},_getMerchantSettingsURI:function y(){return c("XPagesManagerSettingsController").getURIBuilder().setString("page_token",this.props.pageID).setString("tab","shop").setString("ref",c("PageSettingsRef").PRODUCT_COMPOSER).getURI()},_getTaxTable:function y(){return c("React").createElement("div",null,c("React").createElement("div",{display:"block",className:"_3-96"},c("React").createElement(c("XUIGrayText.react"),{weight:"bold",shade:"dark",size:"header4"},j._("Custom Product Taxes")),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("You can enter specific taxes for products taxed at special rates, such as some foods and beverages."),contentWidthUseSparingly:318,position:"below"})),c("React").createElement(c("CommerceSelfServeProductTaxRatesTable.react"),{taxRates:this.state.taxRates,onChangeTaxRates:this._onChangeTaxRates}),c("React").createElement("div",{display:"block",className:"_3-8x"},c("React").createElement(c("Link.react"),{href:this._getMerchantSettingsURI(),target:"_blank"},j._("View Default Shop Taxes"))))},_getInnerContent:function y(){if(this.state.loading)return c("React").createElement(c("XUISpinner.react"),{className:"_2_i8",size:"large"});switch(this.state.currentPage){case u.main:return c("React").createElement("div",null,this._getTabBodies());case u.variant:return c("React").createElement("div",null,c("React").createElement("div",{className:"_1go"},c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1gp",onClick:this._onVariantsSaveButtonClicked},c("React").createElement(c("Image.react"),{src:h("141823")})),c("React").createElement(c("InlineBlock.react"),{alignv:"middle",className:"_1gq"},j._("More options"))),c("React").createElement("div",{className:"_3-8j"},c("React").createElement(c("XUIGrayText.react"),{display:"block"},j._("Add options like sizes, colors or materials that your product comes in."))),c("React").createElement(c("PageCommerceProductVariantPage.react"),{currencyCode:this.state.currencyCode,defaultVariantPrice:this.state.productPrice,getPriceError:this._getPriceError,inventoryType:this._showSection(c("CommerceSelfServeSection").IN_STOCK_TOGGLE)?c("CommerceSelfServeSection").IN_STOCK_TOGGLE:c("CommerceSelfServeSection").INVENTORY,isOnSale:this.state.isOnSale,setVariantInfo:function(z){return this.setState(z)}.bind(this),variants:this.state.variants,variantItems:this.state.variantItems}))}return c("React").createElement("div",null)},_backToMainPage:function y(){this.setState({currentPage:u.main})},_getVariantsButton:function y(){if(!this._showSection(c("CommerceSelfServeSection").VARIANTS))return null;return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("XUIGrayText.react"),{weight:"bold",shade:"dark",size:"meta1",display:"block"},j._("Options"),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("Add options like sizes, colors or materials that your product comes in."),contentWidthUseSparingly:318,position:"below"})),c("React").createElement(c("BUIFormButton.react"),{className:"_3-8w",density:"snug",label:j._("Edit Options"),onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)}))},_getCheckoutURLInput:function y(){if(!this._showSection(c("CommerceSelfServeSection").CHECKOUT_URL))return null;var z=this.getFieldErrorMessage(c("XCommerceSelfServeParam").CHECKOUT_URL)||(this.state.hasAttemptedSave?this._getCheckoutURLError(this.state.checkoutURL):null);return c("React").createElement("div",{className:"_3-97"},c("React").createElement(c("XUIGrayText.react"),{display:"inline",shade:"dark",size:"meta1",weight:"bold"},j._("Checkout URL")),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("The website where users will be directed to purchase this product"),contentWidthUseSparingly:318,position:"above"}),c("React").createElement(c("XUITextInput.react"),{className:"_2mfs",disabled:this.state.loading,height:"tall",name:"checkoutURL",onChange:function(event){return this.setState({checkoutURL:event.target.value})}.bind(this),placeholder:j._("http:\/\/www.example.com"),value:this.state.checkoutURL,xuiError:z}))},_getDialogFooter:function y(){switch(this.state.currentPage){case u.main:return this._getMainFooter();case u.variant:return this._getVariantsFooter()}return null},_getMainFooter:function y(){var z=null;if(this.props.productID&&!this.state.loading)z=c("React").createElement(c("Link.react"),{onClick:this.state.saving?null:this._onDeleteProductClicked},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"meta1"},j._("Delete Product")));var A=this.state.saving?c("React").createElement(c("XUISpinner.react"),{size:"small",className:"_3-90"}):null;return c("React").createElement(c("XUIDialogFooter.react"),{leftContent:z},A,c("React").createElement(c("XUIDialogCancelButton.react"),{disabled:this.state.saving||this.state.loading}),c("React").createElement(c("XUIDialogButton.react"),{use:"confirm",label:this._getSaveButtonText(),action:"button",disabled:this.state.saving||this.state.loading,onClick:this._onSubmitButtonClicked}))},_getVariantsFooter:function y(){return c("React").createElement(c("XUIDialogFooter.react"),null,c("React").createElement(c("XUIDialogButton.react"),{label:j._("Cancel"),action:"button",use:"default",onClick:this._onVariantsCancelButtonClicked}),c("React").createElement(c("XUIDialogButton.react"),{label:j._("Apply"),action:"button",use:"confirm",onClick:this._onVariantsSaveButtonClicked}))},_onVariantsCancelButtonClicked:function y(){this.setState(this._deepClone(this._oldVariants));this._backToMainPage()},_onVariantsSaveButtonClicked:function y(){this._oldVariants=this._deepClone({variants:this.state.variants,variantItems:this.state.variantItems});this._backToMainPage()},show:function y(){this.setState({currentPage:u.main,dialogShown:true})},hide:function y(){this.props.onClose&&this.props.onClose();this.setState({dialogShown:false})},_onDeleteProductClicked:function y(){c("PageProductActions").deleteProductsWithConfirmation(Array(this.props.productGroupID),this.props.pageID,function(){this.hide();if(this.props.onProductDeleted)this.props.onProductDeleted()}.bind(this))},_getCategoryInput:function y(){if(!this._showSection(c("CommerceSelfServeSection").CATEGORY))return null;var z=this.state.categoryID?this.state.categoryID:w,A={id:w,text:j._("Select category (optional)")};return c("React").createElement(c("PageProductComposerMarketplaceCategorySelector.react"),{categories:[A].concat(this.props.categories),value:z,onCategoryClick:function(B){if(B===w)B=null;this.setState({categoryID:B})}.bind(this)})},_getNamePriceDescriptionInputs:function y(){__p&&__p();var z=null;if(this.props.requireDescription)z=j._("Add details about your item");else z=j._("Add details about your item (Optional)");var A=null;if(this.state.variants.length===0){var B=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productPrice,this.state.currencyCode);A=c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(G){this.setState({productPrice:c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(G,this.state.currencyCode)})}.bind(this),placeholder:j._("Enter price"),value:B!==null?B:0,xuiError:this.state.hasAttemptedSave?this._getPriceError(this.state.productPrice):null});if(!this.props.currencyCode)A=c("React").createElement("div",null,c("React").createElement("div",{className:"_4tjr"},c("React").createElement(c("CommerceCurrencySelector.react"),{onChange:function(event){return this.setState({currencyCode:event.value})}.bind(this),selectedCurrency:this.state.currencyCode})),c("React").createElement("div",{className:"_4tke"},A))}else A=c("React").createElement("div",{className:"_4o5u"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4",className:"_4o5v"},this._getVariantsPriceRange("price")),c("React").createElement(c("Link.react"),{size:"small",className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit")));var C=null;if(this.state.isOnSale){var D=void 0;if(this.state.variants.length===0){var E=c("CommerceCurrencyInputUtils").convertPEFormatToPBFormat(this.state.productSalePrice,this.state.currencyCode);D=c("React").createElement(c("AdsCurrencyInput_DEPRECATED.react"),{className:"_5rpn",currency:this.state.currencyCode,disabled:this.state.loading||this.state.variants.length>0,invalidInputIsNull:true,nonnegative:true,onDataUpdate:function(G){this.setState({productSalePrice:c("CommerceCurrencyInputUtils").convertPBFormatToPEFormat(G,this.state.currencyCode)})}.bind(this),placeholder:j._("Enter price"),value:E!==null?E:0,xuiError:this.state.hasAttemptedSave?this._getSalePriceError(this.state.productSalePrice):null})}else D=c("React").createElement("div",{className:"_4o5u"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4",className:"_4o5v"},this._getVariantsPriceRange("salePrice")),c("React").createElement(c("Link.react"),{size:"small",className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit")));C=c("React").createElement("div",{className:"_4o5t"},c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Sale Price")),D)}var F=this.state.hasAttemptedSave?this._getProductDescriptionError(this.state.productDesc):null;return c("React").createElement("div",{className:"_2pin"},this._getNameInput(),c("React").createElement("div",{className:this.state.isOnSale?"_4o5s":""},c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Price")),A),C,c("React").createElement("div",{className:"clearfix"}),this._getSaleToggleSwitch(),c("React").createElement(c("XUIGrayText.react"),{className:"_3-8x _3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Description")),c("React").createElement(c("XUIError.react"),{xuiError:F},c("React").createElement("textarea",{name:"productDescription",className:"_3jm _2ph-",disabled:this.state.loading,rows:p,value:this.state.productDesc,onChange:function(event){return this.setState({productDesc:event.target.value})}.bind(this),placeholder:z})),this._getCategoryInput())},_getNameInput:function y(){var z=this.getFieldErrorMessage(c("XCommerceSelfServeParam").PRODUCT_TITLE)||(this.state.hasAttemptedSave?this._getProductTitleError(this.state.productTitle):null);return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-94",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Name")),c("React").createElement(c("XUITextInput.react"),{name:"productTitle",className:"_2mfs",disabled:this.state.loading,value:this.state.productTitle,height:"tall",maxLength:o,onChange:function(event){return this.setState({productTitle:event.target.value})}.bind(this),xuiError:z}))},_getVariantsPriceRange:function y(z){__p&&__p();var A=Number.MAX_VALUE,B=Number.MIN_VALUE;for(var C in this.state.variantItems){var D=this.state.variantItems[C];if(D[z]<A)A=D[z];if(D[z]>B)B=D[z]}var E=this.state.currencyCode;if(A===B)return c("PECurrency").formatAmount(E,A,true,false,false);else return c("PECurrency").formatAmount(E,A,true,false,false)+" - "+c("PECurrency").formatAmount(E,B,true,false,false)},_getTaxCategorySelector:function y(){if(!this._showSection(c("CommerceSelfServeSection").TAX_CATEGORY))return null;var z=this.state.taxCategory||c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_OTHERS;if(z===c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION_BAD)z=c("CommerceSelfServeProductTaxCategories").TAX_ITEM_CODE_COMMERCE_SPORT_RECREATION;return c("React").createElement(c("PageProductComposerTaxCategorySelector.react"),{className:"_3-8y",onTaxCategoryChange:this._handleTaxCategoryChange,taxCategory:z})},_getVisibilitySelector:function y(){if(!this._showSection(c("CommerceSelfServeSection").PRODUCT_VISIBILITY))return null;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Visibility")),c("React").createElement(c("ProductVisibilitySelector.react"),{density:"snug",onChange:function(z){return this.setState({productVisibility:z})}.bind(this),value:this.state.productVisibility}))},_getInventoryInput:function y(){var z=null;z=this._getInventoryNumberInput()!==null?this._getInventoryNumberInput():this._getInventoryStockToggle();if(z===null)return null;return c("React").createElement("div",null,c("React").createElement(c("XUIGrayText.react"),{className:"_3-94 _3-8x",display:"block",weight:"bold",shade:"dark",size:"meta1"},j._("Inventory")),z)},_getInventoryNumberInput:function y(){__p&&__p();if(!this._showSection(c("CommerceSelfServeSection").INVENTORY))return null;var z=null;if(this.state.variants.length===0)z=c("React").createElement(c("FBNumberInput.react"),{className:"_3jm _2ph-",disabled:this.state.loading,name:"productInventory",nonnegative:true,value:this.state.inventory,onValueChange:function(C){return this.setState({inventory:C})}.bind(this)});else{var A=0;for(var B in this.state.variantItems)A+=this.state.variantItems[B].inventory;z=c("React").createElement("div",{className:"_4o5u"},c("React").createElement("div",{className:"_4o5v"},c("React").createElement(c("XUIGrayText.react"),{shade:"light",size:"header4"},A)),c("React").createElement(c("Link.react"),{size:"small",className:"_20ac _2pii",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit Inventory")))}return z},_getInventoryStockToggle:function y(){__p&&__p();if(!this._showSection(c("CommerceSelfServeSection").IN_STOCK_TOGGLE))return null;var z=null;if(this.state.variants.length===0)z=c("React").createElement(c("CommerceInventoryToggle.react"),{disabled:this.state.loading,inventory:this.state.inventory,setInventoryInfo:function(C){this.setState({inventory:C?c("CommerceInventoryAvailabilityOptions").INVENTORY_IN_STOCK:c("CommerceInventoryAvailabilityOptions").INVENTORY_OUT_OF_STOCK})}.bind(this)});else{var A=0;for(var B in this.state.variantItems)A+=this.state.variantItems[B].inventory;z=c("React").createElement("div",null,c("React").createElement(c("CommerceInventoryToggle.react"),{disabled:true,inventory:A}),c("React").createElement("div",{className:"_4ul8"},c("React").createElement(c("Link.react"),{size:"small",onClick:function(){return this.setState({currentPage:u.variant})}.bind(this)},j._("Edit Option Inventory"))))}return z},_getSaleToggleSwitch:function y(){if(!this._showSection(c("CommerceSelfServeSection").SALE_PRICE))return null;return c("React").createElement("div",{className:"_3-8x"},c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.state.loading,animate:true,checked:this.state.isOnSale,onToggle:function(z){return this.setState({isOnSale:z})}.bind(this)}),c("React").createElement("span",{className:"_3jn"},j._("This product is on sale"),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("Show people you're selling this product at a discount by setting a sale price in addition to the regular price."),contentWidthUseSparingly:318,position:"below"})))},_getShippingOptionsSection:function y(){if(!this._showSection(c("CommerceSelfServeSection").SHIPPING_OPTIONS))return null;return c("React").createElement(c("PageProductComposerShippingOptions.react"),{currencyCode:this.state.currencyCode,disabled:this.state.loading,shippingOptions:this.state.shippingOptions,settingsURI:this.props.productID?undefined:this._getMerchantSettingsURI(),onShippingOptionsChange:function(z){return this.setState({shippingOptions:z})}.bind(this)})},_getShareToTimelineToggle:function y(){if(this.props.productID||!this.props.showShareToTimelineToggle)return null;var z=null;if(this.state.shareToTimeline)z=c("React").createElement("div",{className:"_4lw_"},j._("Your product will be shared on your Page as soon as it's approved."));return c("React").createElement("div",null,c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.state.loading,animate:true,checked:this.state.shareToTimeline,onToggle:function(A){return this.setState({shareToTimeline:A})}.bind(this)}),c("React").createElement("span",{className:"_3jn"},j._("Share this product on your page"),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:j._("Automatically post this product to your Page's Timeline as soon as it's approved."),contentWidthUseSparingly:318,position:"above"})),z)},_unpackTaxRates:function y(){__p&&__p();var z=[],A={},B={};for(var C in this.state.taxRates){var D=this.state.taxRates[C];for(var E in D){z[z.length]=E;A[E]=D[E].tax_rate;B[E]=D[E].is_applied_to_shipping}}return{tax_locations:z,tax_percent_map:A,tax_applied_to_shipping_map:B}},_getFeaturedToggleSwitch:function y(){if(!this._showSection(c("CommerceSelfServeSection").FEATURED_PRODUCT_TOGGLE))return null;return c("React").createElement("div",{className:"_3-95"},c("React").createElement(c("FBToggleSwitch.react"),{disabled:this.state.loading||this._isFeatureProductToggleDisabled(),animate:true,checked:this.state.featuredProduct,onToggle:this._handleFeatureProductToggleChange}),c("React").createElement("span",{className:"_3jn"},j._("Feature this product"),c("React").createElement(c("BUIAdoptionAdsPopoverLink.react"),{content:this._getHelpText(),contentWidthUseSparingly:318,position:"above"})))},_handleFeatureProductToggleChange:function y(z){var A=z?this.state.featuredCount+1:this.state.featuredCount-1;this.setState({featuredProduct:z,featuredCount:A})},_isFeatureProductToggleDisabled:function y(){return!this.state.featuredProduct&&this.state.featuredCount>=c("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT},_getHelpText:function y(){if(this._isFeatureProductToggleDisabled())return j._({"*":"You've already chosen {Maximum number of products that can be featured} to feature. Stop featuring one of your currently selected products to feature this one instead."},[j.param("Maximum number of products that can be featured",c("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])]);return j._({"*":"Featured products appear at the top of your page and are listed first in your shop. You can feature up to {Maximum number of products that can be featured} products."},[j.param("Maximum number of products that can be featured",c("PagesManagerProductToolsConstants").MAX_FEATURED_ITEM_COUNT,[0])])},_getTitle:function y(){if(this.state.currentPage===u.variant)return j._("Edit Options");if(this.props.productID)return j._("Edit Product");return j._("Add Product")},_getSaveButtonText:function y(){return j._("Save")},_onProductDetailsFetched:function y(z){var A=z.payload,B=A.visibility_notice===null?null:A.visibility_notice.markup;for(var C=0;C<A.videos.length;C++){A.videos[C].ready=true;A.videos[C].error=false}var D=A.price,E=A.sale_price,F={categoryID:A.commerce_category_id,checkoutURL:A.checkout_url,currentTabKey:v.edit,currentPage:u.main,dialogShown:true,productTitle:A.name,productDesc:A.description,productPrice:D,productSalePrice:E,productVisibility:A.visibility,photos:A.images,videos:A.videos,featuredProduct:A.featured_product,inventory:A.inventory,shippingOptions:A.shipping_options,taxCategory:A.tax_category,showVariants:A.show_variants,visibilityNotice:B,loading:false,featuredCount:A.featured_count,taxRates:A.tax_rates};this._reviewedProductData=this._getReviewableDataFromState(babelHelpers["extends"]({},this.state,F));this.setState(F)},_reviewedProductData:{},_getReviewableDataFromState:function y(z){var A=z.checkoutURL,B=z.productTitle,C=z.productDesc,D=z.photos,E=z.videos,F=z.variants;return this._deepClone({checkoutURL:A,productTitle:B,productDesc:C,photos:D,videos:E,variants:F})},_logEvent:function y(event){var z=this.props.productID?{target_class:"EntProductItem",target_id:this.props.productID}:null;c("BOFSellerLogger").log(event,this.props.pageID,babelHelpers["extends"]({source:this.props.source},z))},_onToggleDialog:function y(z){this.setState({dialogShown:z});if(z)return;this.props.onClose&&this.props.onClose();var event=this.props.productID?c("BOFSellerLoggerEvent").ACTN_CANCEL_EDIT_PRODUCT:c("BOFSellerLoggerEvent").ACTN_CANCEL_ADD_PRODUCT;this._logEvent(event)},_getPriceError:function y(z){var A=this._getMinimumPrice(),B=null;if(this._showSection(c("CommerceSelfServeSection").MINIMUM_PRICE_ERROR)&&(!z||z<A)){var C=c("PECurrency").formatAmount(this.state.currencyCode,A,true,false,false);B=j._("Price must be at least {Minimum Product Price}",[j.param("Minimum Product Price",C)])}else if(z==null||z<0)B=j._("Non-negative price is required");return B},_getSalePriceError:function y(z){var A=this._getPriceError(z);if(!A&&this.state.productPrice<=this.state.productSalePrice)A=j._("Sale price must be lower than regular price");return A},_getMinimumPrice:function y(){var z=q;if(this.state.currencyCode!=="USD"){var A=c("Currency").getOffset(this.state.currencyCode);z=A==t?r:s}return z},_getCheckoutURLError:function y(z){var A=null;if(z==="")A=j._("Missing Checkout URL: This product must have a valid url, like \"http:\/\/www.example.com\"");return A},_getPhotosError:function y(z){var A=null;if(this.state.photos.length===0)A=j._("Product Photo Required: Please provide at least one photo of this product");return A},_getProductTitleError:function y(z){var A=null;if(z==="")A=j._("Field is Empty: Can't have this field be blank");return A},_getEditWarning:function y(){if(!this.props.productID||this.state.visibilityNotice)return null;if(c("areEqual")(this._reviewedProductData,this._getReviewableDataFromState(this.state)))return null;return c("React").createElement(c("XUINotice.react"),{size:"small",className:"_3-8y"},j._("This product has been approved and is visible to anyone who visits your shop. If you edit this product, we'll review any changes before they're made publicly visible."))},_getProductDescriptionError:function y(z){var A=null;if(this.props.requireDescription&&z.trim()==="")A=j._("Description Required: Please provide a description for this product.");return A},_handleTabChange:function y(z){this.setState({currentTabKey:z})},_handleTaxCategoryChange:function y(z){this.setState({taxCategory:z.value})},_validatePrices:function y(){__p&&__p();var z=this.state.variants,A=this.state.variantItems;if(!z||z.length===0){if(this._getPriceError(this.state.productPrice)||this.state.isOnSale&&this._getSalePriceError(this.state.productSalePrice)){this._navigateToTab(v.edit);return false}return true}for(var B in this.state.variantItems){var C=this._getMinimumPrice();if(A[B].price<C||this.state.isOnSale&&this.state.variantItems[B].salePrice<C){this._navigateToTab(u.variant);return false}}return true},_validateVariants:function y(){return!this._getVariantsError()},_getVariantsError:function y(){var z=this.state.variants;if(!z||z.length===0)return null;var A=z.map(function(C){return C.options});for(var B=0;B<A.length;B++)if(A[B].length<=1)return j._("Please add more than one type for each option.");return null},_validateCheckoutURL:function y(){if(!this._showSection(c("CommerceSelfServeSection").CHECKOUT_URL))return true;return!this._getCheckoutURLError(this.state.checkoutURL)},_validatePhotos:function y(){return!this._getPhotosError(this.state.photos)},_validateProductTitle:function y(){return!this._getProductTitleError(this.state.productTitle)},_onSubmitButtonClicked:function y(){__p&&__p();this.setState({saving:true,hasAttemptedSave:true});if(!this._validatePrices()||!this._validateCheckoutURL()||!this._validatePhotos()||!this._validateProductTitle()||!this._validateVariants()){this.setState({saving:false});return}var z=[];this.state.photos.forEach(function(T){z.push(T.fbid)});var A=[];this.state.videos.forEach(function(T){if(T.ready&&!T.error)A.push(T.fbid)});var B=this.state.shippingOptions.filter(function(T){return T.shipping_service&&!!T.shipping_service.trim()});this.setState({shippingOptions:B});var C=[],D=[];B.forEach(function(T){C.push(T.shipping_service);D.push(Math.round(T.shipping_price_value))});var E=this._unpackTaxRates(),F=this.state.variants,G=F.map(function(T){return T.label}),H=F.map(function(T){return T.options}),I=this.state.variantItems,J={},K={},L={},M={},N={};for(var O in I){var P=I[O];J[O]=P.inventory;K[O]=P.price;L[O]=P.salePrice;M[O]=JSON.stringify(P.properties);N[O]=P.productID}var Q={};Q.source=this.props.source;Q[c("XCommerceSelfServeParam").PRODUCT_TITLE]=this.state.productTitle;Q[c("XCommerceSelfServeParam").PRODUCT_DESCRIPTION]=this.state.productDesc;Q[c("XCommerceSelfServeParam").PRODUCT_PRICE]=this.state.productPrice;Q[c("XCommerceSelfServeParam").PRODUCT_SALE_PRICE]=this.state.productSalePrice;Q[c("XCommerceSelfServeParam").IS_ON_SALE]=this.state.isOnSale;Q[c("XCommerceSelfServeParam").COLLECTION_ID]=this.props.collectionID;Q[c("XCommerceSelfServeParam").CATEGORY_ID]=this.state.categoryID;Q[c("XCommerceSelfServeParam").CURRENCY_CODE]=this.state.currencyCode;Q[c("XCommerceSelfServeParam").PRODUCT_PHOTO_IDS]=z;Q[c("XCommerceSelfServeParam").PRODUCT_VIDEO_IDS]=A;Q[c("XCommerceSelfServeParam").PRODUCT_CATALOG_ID]=this.props.productCatalogID;Q[c("XCommerceSelfServeParam").PRODUCT_ID]=this.props.productID;Q[c("XCommerceSelfServeParam").FEATURED_PRODUCT]=this.state.featuredProduct;Q[c("XCommerceSelfServeParam").SHARE_TO_TIMELINE]=this.props.showShareToTimelineToggle&&this.state.shareToTimeline;Q[c("XCommerceSelfServeParam").INVENTORY]=this.state.inventory;Q[c("XCommerceSelfServeParam").SHIPPING_OPTION_NAMES]=C;Q[c("XCommerceSelfServeParam").SHIPPING_OPTION_VALUES]=D;Q[c("XCommerceSelfServeParam").TAX_CATEGORY]=this.state.taxCategory;Q[c("XCommerceSelfServeParam").TAX_LOCATIONS]=E.tax_locations;Q[c("XCommerceSelfServeParam").TAX_APPLIED_TO_SHIPPING_MAP]=E.tax_applied_to_shipping_map;Q[c("XCommerceSelfServeParam").TAX_PERCENT_MAP]=E.tax_percent_map;Q[c("XCommerceSelfServeParam").VARIANT_NAMES]=G;Q[c("XCommerceSelfServeParam").VARIANT_INVENTORY]=J;Q[c("XCommerceSelfServeParam").VARIANT_PRICE]=K;Q[c("XCommerceSelfServeParam").VARIANT_SALE_PRICE]=L;Q[c("XCommerceSelfServeParam").VARIANT_DATA]=M;Q[c("XCommerceSelfServeParam").VARIANT_PRODUCT_ID]=N;Q[c("XCommerceSelfServeParam").VISIBILITY]=this.state.productVisibility;Q[c("XCommerceSelfServeParam").CHECKOUT_URL]=this.state.checkoutURL;Q[c("XCommerceSelfServeParam").ACCEPTED_TOS]=this.props.showTOS;for(var R=0;R<H.length;R++)Q["variant"+R+"_options"]=H[R];var S=c("ActorURI").create(c("XPagesManagerProductCreateController").getURIBuilder().getURI(),this.props.pageID);this.sendAsync(S,Q,this._onProductUpdated,function(){return this.setState({saving:false})}.bind(this))},_navigateToTab:function y(z){switch(z){case u.variant:this.setState({currentPage:u.variant});break;case v.edit:this.setState({currentTabKey:v.edit});break;case v.advanced:this.setState({currentTabKey:v.advanced});break}},_onChangeTaxRates:function y(z){this.setState({taxRates:z})},_onProductUpdated:function y(z){__p&&__p();this.setState({saving:false,dialogShown:false});if(this.props.productID)c("PageContentTabDispatcher").handlePostChanged(z.payload);else{if(this.props.onProductCreated)this.props.onProductCreated(z.payload);c("PageContentTabDispatcher").handlePostCreated(l.COMMERCE_PRODUCTS,z.payload,this.props.pageID)}if(z.payload.show_creation_nux)c("ReactDOM").render(c("React").createElement(c("PageProductReviewNUX.react"),{onDialogClosed:function(){if(this.props.onProductChanged)this.props.onProductChanged(z.payload)}.bind(this)}),c("DOM").create("div"));else if(this.props.onProductChanged)this.props.onProductChanged(z.payload);c("ReactDOM").unmountComponentAtNode(c("ReactDOM").findDOMNode(this).parentNode)},render:function y(){__p&&__p();if(!this.state.dialogShown)return null;var z=[];if(this.hasFieldErrors())z.push(j._("Your product can't be saved as is. Please check the product info, options and advanced options and try again."));if(this.hasGeneralError())z.push(this.getGeneralErrorMessage());else if(this.state.hasAttemptedSave&&this._getVariantsError())z.push(this._getVariantsError());var A=null;if(z.length>0)A=c("React").createElement("div",{className:"_2pib _2piq"},this.renderErrorMessages(z));return c("React").createElement(c("XUIDialog.react"),{width:n,causalElementRef:function(){return this.refs.createButton}.bind(this),onToggle:this._onToggleDialog,shown:this.state.dialogShown,key:"dialog"},this._getDialogHeader(),c("React").createElement(c("XUIDialogBody.react"),{useCustomPadding:true},this._getInnerContent()),A,this._getDialogFooter())},_showSection:function y(z){return this.props.sections.indexOf(z)>=0}});f.exports=x}),null);
__d("XCommerceProductDialogLoaderController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/commerce/product_composer_dialog/loader/",{page_id:{type:"Int",required:true}})}),null);
__d("PageProductComposerDialogLoader.react",["AsyncRequest","BOFSellerLoggingSources","LoadingDialog.react","PageProductComposerDialog.react","React","XCommerceProductDialogLoaderController","XCommerceSelfServeParam","getOwnObjectValues"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("React").PropTypes,i=440,j=c("React").createClass({displayName:"PageProductComposerDialogLoader",propTypes:{collectionID:h.string,onClose:h.func,onProductChanged:h.func,onProductCreated:h.func,onProductDeleted:h.func,productID:h.string,productGroupID:h.string,pageID:h.string.isRequired,source:h.oneOf(c("getOwnObjectValues")(c("BOFSellerLoggingSources"))).isRequired},getInitialState:function k(){return{loading:true}},componentWillMount:function k(){this._fetchPageDetails(this.props.pageID)},_fetchPageDetails:function k(l){var m=c("XCommerceProductDialogLoaderController").getURIBuilder().setInt(c("XCommerceSelfServeParam").PAGE_ID,l).getURI();new(c("AsyncRequest"))().setURI(m).setHandler(this._onPageDetailsFetched).send()},_onPageDetailsFetched:function k(l){var m=l.payload;this.setState({categories:m.categories,currencyCode:m.currency_code,defaultShippingOptions:m.default_shipping_options,hasValidTOS:m.has_valid_tos,loading:false,pageContentTabAccessToken:m.page_content_tab_access_token,pageHasShop:m.page_has_shop,productCatalogID:m.product_catalog_id,requireDescription:m.require_description,sections:m.sections,shouldCreateShopFromProduct:m.should_create_shop_from_product,showVideoUploadButton:m.show_video_upload_button,tosURI:m.tos_uri})},render:function k(){if(this.state.loading)return c("React").createElement(c("LoadingDialog.react"),{shown:true,width:i});return c("React").createElement(c("PageProductComposerDialog.react"),{categories:this.state.categories,collectionID:this.props.collectionID,currencyCode:this.state.currencyCode,defaultShippingOptions:this.state.defaultShippingOptions,onClose:this.props.onClose,onProductChanged:this.props.onProductChanged,onProductCreated:this.props.onProductCreated,onProductDeleted:this.props.onProductDeleted,pageContentTabAccessToken:this.state.pageContentTabAccessToken,pageID:this.props.pageID,pageHasShop:this.state.pageHasShop,productCatalogID:this.state.productCatalogID,productID:this.props.productID,productGroupID:this.props.productGroupID,requireDescription:this.state.requireDescription,sections:this.state.sections,shouldCreateShopFromProduct:this.state.shouldCreateShopFromProduct,shownInitially:true,showShareToTimelineToggle:this.state.pageHasShop,showTOS:!this.state.hasValidTOS,showVideoUploadButton:this.state.showVideoUploadButton,source:this.props.source,tosURI:this.state.tosURI})}});f.exports=j}),null);
__d("ReactComposerProductTaggerButton.react",["fbt","cx","AsyncRequest","CommerceProductTaggerType","CommerceSelfServeNUXType","React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","PageNuxIDEnum","PageNuxSurfaceEnum","PagesNuxFrameworkHelper","XCommerceSelfServeMerchantNUXSeenController","XUIAmbientNUX.react"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j=c("React").PropTypes,k=c("React").createClass({displayName:"ReactComposerProductTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin")],statics:{loggingName:c("ReactComposerLoggingName").PRODUCT_TAGGER,taggerID:c("ReactComposerTaggerType").PRODUCT},propTypes:{nuxType:j.string,productTaggerType:j.string.isRequired,shouldUseNewNuxFramework:j.bool},getDefaultProps:function l(){return{nuxType:c("CommerceSelfServeNUXType").COMPOSER_PRODUCT_TAGGER_BUTTON}},getInitialState:function l(){return{isProductTaggerNuxVisible:!this._shouldUseNuxFramework()}},getTitle:function l(){return h._("Tag a product")},getNUX:function l(){if(!this.state.showNUX||!this.state.contextRef)return null;var m=this.props.productTaggerType===c("CommerceProductTaggerType").SHOP_PAGE?h._("Tag products from your shop in your post"):h._("Tag products in your post"),n=c("React").createElement(c("XUIAmbientNUX.react"),{alignment:"center",contextRef:function(){return this.state.contextRef}.bind(this),onCloseButtonClick:this._hideNUX,position:"below",shown:this.state.isProductTaggerNuxVisible,width:"auto"},m);if(this.props.shouldUseNewNuxFramework)c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").COMPOSER_PRODUCT_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER,function(){return this._showNux()}.bind(this));return n},getTooltip:function l(){return h._("Tag a product")},getClassName:function l(){return"_22ma"},getRef:function l(){return"fbReactComposerProductTaggerButton"},componentDidMount:function l(){this.setState({contextRef:this.refs.fbReactComposerProductTaggerButton,isProductTaggerNuxVisible:!this._shouldUseNuxFramework()})},_shouldUseNuxFramework:function l(){return!!this.props.productTaggerNuxID&&!!this.props.shouldUseNewNuxFramework},_showNux:function l(){this.setState({isProductTaggerNuxVisible:true})},_hideNUX:function l(){this.setState({isProductTaggerNuxVisible:false});if(this._shouldUseNuxFramework())c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").COMPOSER_PRODUCT_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER);c("ReactComposerTaggerActions").handleSetTaggerShowNUX(this.context.composerID,c("ReactComposerTaggerType").PRODUCT,false);var m=c("XCommerceSelfServeMerchantNUXSeenController").getURIBuilder().setInt("page_id",this.context.actorID).setEnum("nux_type",this.props.nuxType).getURI();new(c("AsyncRequest"))(m).send()}});f.exports=k}),null);
__d("ReactComposerProductTaggerTokenizerToken.react",["cx","React","ReactComposerPeopleTaggerTokenizerToken.react","joinClasses"],(function a(b,c,d,e,f,g,h){__p&&__p();var i,j;i=babelHelpers.inherits(k,c("React").Component);j=i&&i.prototype;k.prototype.render=function(){"use strict";var l="_rox";return c("React").createElement(c("ReactComposerPeopleTaggerTokenizerToken.react"),babelHelpers["extends"]({},this.props,{className:c("joinClasses")(this.props.className,l)}))};function k(){"use strict";i.apply(this,arguments)}f.exports=k}),null);
__d("ReactComposerProductTaggerComponent.react",["cx","fbt","BOFSellerLoggingSources","CommerceProductTaggerType","DOM","Grid.react","ReactComposerPhotoActions","ReactComposerProductTaggerTokenizerToken.react","ReactComposerTaggerActions","ReactComposerTaggerPresenter","ReactComposerTaggerType","ReactComposerTaggerViewStyles","PageProductComposerDialogLoader.react","ProductTaggingTranslations","React","ReactDOM","SearchableEntry","TokenizerExampleSearchSource","XUITokenizer.react","emptyFunction"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){__p&&__p();var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={numberOfTags:this.props.taggerData.length,queryString:""},this.$ReactComposerProductTaggerComponent9=function(t){var u=t.products.data[0];if(this.$ReactComposerProductTaggerComponent8(u.id))return;var v={title:u.name,subtitle:u.price,type:"product_item",uniqueID:u.id};this.$ReactComposerProductTaggerComponent10(new(c("SearchableEntry"))(v))}.bind(this),this.$ReactComposerProductTaggerComponent4=function(t){if(t.getType()==="product_item_add"){c("ReactDOM").render(c("React").createElement(c("PageProductComposerDialogLoader.react"),{onProductCreated:this.$ReactComposerProductTaggerComponent9,pageID:this.props.pageID,source:c("BOFSellerLoggingSources").PRODUCT_TAGGING_TYPEAHEAD}),c("DOM").create("div"));return}if(this.$ReactComposerProductTaggerComponent8(t.getUniqueID()))return;this.$ReactComposerProductTaggerComponent10(t)}.bind(this),this.$ReactComposerProductTaggerComponent6=function(t){var u=this.props.taggerData,v=u.indexOf(t);if(v==-1)return;u.splice(v,1);this.setState({numberOfTags:u.length});c("ReactComposerPhotoActions").untagSubjectFromAllPhotos(this.props.reactComposerID,t.getUniqueID());this.props.onSelect&&this.props.onSelect(u)}.bind(this),this.$ReactComposerProductTaggerComponent5=function(event){this.setState({queryString:event.target.value})}.bind(this),p}n.prototype.componentDidMount=function(){this.$ReactComposerProductTaggerComponent2()};n.prototype.componentDidUpdate=function(o,p){if(this.state.numberOfTags!==p.numberOfTags||this.state.queryString!==p.queryString)this.$ReactComposerProductTaggerComponent2()};n.prototype.componentWillUnmount=function(){this.$ReactComposerProductTaggerComponent2(false)};n.prototype.render=function(){return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"label",className:"_5esm"},i._("Products")),c("React").createElement(l,{key:"tokenizer",className:"_5esw"},c("React").createElement("div",null,c("React").createElement(c("XUITokenizer.react"),babelHelpers["extends"]({},this.props,{additionalEntries:this.$ReactComposerProductTaggerComponent3(),className:"_5esx _ysh _4fmg",entries:this.props.taggerData,focusAfterSelection:false,focusedOnInit:this.props.autoFocus,onAddEntryAttempt:this.$ReactComposerProductTaggerComponent4,onQueryStringChange:this.$ReactComposerProductTaggerComponent5,onRemoveEntryAttempt:this.$ReactComposerProductTaggerComponent6,placeholder:this.props.placeholder,presenter:this.$ReactComposerProductTaggerComponent7(),ref:function(o){return this.$ReactComposerProductTaggerComponent1=o}.bind(this),searchSource:this.props.taggerSource,showEntriesOnFocus:true})))))};n.prototype.$ReactComposerProductTaggerComponent2=function(o){var p=this.props.productTaggerType;if(p!==c("CommerceProductTaggerType").INFLUENCER_PAGE)return;var q=void 0;if(o!==undefined)q=o;else q=this.state.numberOfTags===1&&!this.state.queryString;c("ReactComposerTaggerActions").handleSetTaggerShowTooltip(this.props.reactComposerID,c("ReactComposerTaggerType").SPONSOR,q)};n.prototype.$ReactComposerProductTaggerComponent3=function(){if(!this.props.showAddProduct)return[];var o=this.props.productTaggerType===c("CommerceProductTaggerType").SHOP_PAGE,p={photo:"/images/commerce/create-product-typeahead.png",title:c("ProductTaggingTranslations").getAddProductTitle(o),subtitle:c("ProductTaggingTranslations").getAddProductSubtitle(o),type:"product_item_add",uniqueID:"product_item_add"};return[new(c("SearchableEntry"))(p)]};n.prototype.$ReactComposerProductTaggerComponent8=function(o){var p=this.props.taggerData;return p.some(function(q){return q.getUniqueID()===o})};n.prototype.$ReactComposerProductTaggerComponent10=function(o){var p=this.props.taggerData;p.push(o);this.setState({numberOfTags:p.length,queryString:this.$ReactComposerProductTaggerComponent1.queryString});this.props.onSelect&&this.props.onSelect(p)};n.prototype.$ReactComposerProductTaggerComponent7=function(){var o={};o.taggerViewStyle=c("ReactComposerTaggerViewStyles").DEFAULT;o.taggerListClassName="_ysi";return Object.assign({},c("ReactComposerTaggerPresenter"),{extraRendererProps:o,sortEntries:this.$ReactComposerProductTaggerComponent11,TokenRenderer:c("ReactComposerProductTaggerTokenizerToken.react")})};n.prototype.$ReactComposerProductTaggerComponent11=function(o,p,q){o.sort(function(r,s){if(r.getType()==="product_item_add")return 1;if(s.getType()==="product_item_add")return-1;return 0});return o};n.propTypes={autoFocus:m.bool,onSelect:m.func,pageID:m.string.isRequired,placeholder:m.string,productTaggerType:m.string.isRequired,reactComposerID:m.string.isRequired,showAddProduct:m.bool,taggerSource:m.object,taggerData:m.array.isRequired};n.defaultProps={autoFocus:true,onSelect:c("emptyFunction"),placeholder:i._("Type product name or ID"),showAddProduct:false,taggerData:[],taggerSource:new(c("TokenizerExampleSearchSource"))()};f.exports=n}),null);
__d("ReactComposerProductTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerProductTaggerComponent.react","ReactComposerTaggerActions","ReactComposerTaggerContainerMixin","ReactComposerTaggerType","WebAsyncSearchSource"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").PropTypes,i=c("React").createClass({displayName:"ReactComposerProductTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerMixin")()],statics:{taggerID:c("ReactComposerTaggerType").PRODUCT,loggingName:c("ReactComposerLoggingName").PRODUCT_TAGGER,taggerComponent:c("ReactComposerProductTaggerComponent.react")},propTypes:{pageID:h.string.isRequired,productTaggerType:h.string.isRequired,reactComposerID:h.string.isRequired,showAddProduct:h.bool,viewer:h.string.isRequired},getInitialState:function j(){return{reachEstimate:null,searchSource:null}},componentWillMount:function j(){this._updateProductSearchSource()},componentWillUnmount:function j(){this._subscriptions&&this._subscriptions.release()},_updateProductSearchSource:function j(){var k=this.state.searchSource;if(k===null)k=this._createAndBootstrapProductTypeSearchSource();c("ReactComposerTaggerActions").setTaggerSource(this.context.composerID,c("ReactComposerTaggerType").PRODUCT,k)},_createAndBootstrapProductTypeSearchSource:function j(){var k={filter:["product_items"],viewer:this.props.viewer};return new(c("WebAsyncSearchSource"))({getAllForEmptyQuery:true,queryRequests:[{uri:"/ajax/product_items/typeahead/query.php",data:Object.assign({},k,{is_bootstrap:false,page_id:this.props.pageID})}],bootstrapRequests:[{uri:"/ajax/product_items/typeahead/bootstrap.php",data:Object.assign({},k,{is_bootstrap:true,page_id:this.props.pageID})}],auxiliaryFields:{verified:"is_verified"}})}});f.exports=i}),null);
__d("ReactComposerTargetingTaggerButtonMixin",["cx","fbt"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j={getInitialState:function k(){return{dialogShown:false}},getTitleTooltip:function k(){if(this.props.createLiveVideoTooltipText!=null)return this.props.createLiveVideoTooltipText;else if(this.props.useTargetingAsFilter)return i._("Narrow the potential News Feed audience for this post");else return i._("Choose the preferred audiences for this post")},getTitle:function k(){return this.getTitleTooltip()},getTooltip:function k(){return this.getTitleTooltip()},getClassName:function k(){return"_lmf"},getRef:function k(){return"fbReactComposerTargetingTagger"},_onToggle:function k(l){setTimeout(function(){return this.setState({dialogShown:l})}.bind(this),0)},_onSelectX:function k(){this.setState({dialogShown:true})}};f.exports=j}),null);
__d("XReactComposerTargetingTaggerNuxController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/react_composer/edit/targeting_tagger_nux/",{})}),null);
__d("ReactComposerTargetingTaggerButton.react",["fbt","AsyncRequest","PageNuxIDEnum","PagesComposerAudiences.react","PagesNuxFrameworkHelper","React","ReactComposerTaggerButtonMixin","ReactComposerTaggerType","ReactComposerTargetingTaggerButtonMixin","ReactLayeredComponentMixin_DEPRECATED","XReactComposerTargetingTaggerNuxController","XUIAmbientNUX.react","XUIText.react","PagesComposerAudiencesConstants","PageNuxSurfaceEnum"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i=c("React").PropTypes,j=c("PagesComposerAudiencesConstants").TABS,k=-12,l=300,m=c("React").createClass({displayName:"ReactComposerTargetingTaggerButton",mixins:[c("ReactComposerTaggerButtonMixin"),c("ReactComposerTargetingTaggerButtonMixin"),c("ReactLayeredComponentMixin_DEPRECATED")],propTypes:{accessToken:i.string,appID:i.string,createLiveVideoTooltipText:i.string,isLiveVideo:i.bool,feedTargetingGK:i.bool,feedTargetingShowReachGK:i.bool,hideFeedTargeting:i.bool,shouldShowTargetingTaggerNux:i.bool,shouldShowRestrictionTabNux:i.bool,useTargetingAsFilter:i.bool,shouldHideLeftFooter:i.bool,allowExclusionsWithoutInclusions:i.bool,shouldUseNewNuxFramework:i.bool,targetingTaggerNuxID:i.number},statics:{taggerID:c("ReactComposerTaggerType").TARGETING,disableToggle:true},getDefaultProps:function n(){return{feedTargetingGK:false,feedTargetingShowReachGK:false,hideFeedTargeting:false,useTargetingAsFilter:true,shouldUseNewNuxFramework:false}},getInitialState:function n(){return{showTargetingTaggerNux:this.props.shouldShowTargetingTaggerNux,isTargetingTaggerNuxVisible:!this._shouldUseNuxFramework()}},componentDidMount:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o){var p=c("XReactComposerTargetingTaggerNuxController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(p).setMethod("POST").setData({impression:true}).send()}},componentWillUnmount:function n(){if(this.state.showTargetingTaggerNux)this.setState({showTargetingTaggerNux:false,isTargetingTaggerNuxVisible:!this._shouldUseNuxFramework()})},_onNuxClose:function n(){this.setState({showTargetingTaggerNux:false,isTargetingTaggerNuxVisible:false});if(this._shouldUseNuxFramework())c("PagesNuxFrameworkHelper").closeNux(c("PageNuxIDEnum").COMPOSER_TARGETING_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER);var o=c("XReactComposerTargetingTaggerNuxController").getURIBuilder().getURI();new(c("AsyncRequest"))().setURI(o).setMethod("POST").setData({acked:true}).send()},_showNux:function n(){this.setState({isTargetingTaggerNuxVisible:true})},_shouldUseNuxFramework:function n(){return!!this.props.targetingTaggerNuxID&&!!this.props.shouldUseNewNuxFramework},_renderNux:function n(){var o=c("React").createElement(c("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.fbReactComposerTargetingTagger}.bind(this),onCloseButtonClick:this._onNuxClose,offsetY:k,position:"below",shown:this.state.isTargetingTaggerNuxVisible,width:"custom",customwidth:l},c("React").createElement("div",null,c("React").createElement(c("XUIText.react"),null,h._("Use Audience Optimization to reach people who are more likely to engage with your post."))));if(this._shouldUseNuxFramework())c("PagesNuxFrameworkHelper").registerNux(c("PageNuxIDEnum").COMPOSER_TARGETING_TAGGER,c("PageNuxSurfaceEnum").PAGE_COMPOSER,function(){return this._showNux()}.bind(this));return o},renderLayers:function n(){var o=!this.state.dialogShown&&this.state.showTargetingTaggerNux&&this.props.feedTargetingGK;if(o)return this._renderNux();if(this.state.dialogShown)return c("React").createElement(c("PagesComposerAudiences.react"),{accessToken:this.props.accessToken,allowExclusionsWithoutInclusions:this.props.allowExclusionsWithoutInclusions,appID:this.props.appID,shown:this.state.dialogShown,onToggle:this._onToggle,onSave:function(){return this._onToggle(false)}.bind(this),initialActiveKey:this.props.hideFeedTargeting?j.GATING:j.TARGETING,shouldHideLeftFooter:this.props.shouldHideLeftFooter,useTargetingAsFilter:this.props.useTargetingAsFilter,feedTargetingShowReachGK:this.props.feedTargetingShowReachGK,hideFeedTargeting:this.props.hideFeedTargeting,shouldShowRestrictionTabNux:this.props.shouldShowRestrictionTabNux,isLiveVideo:this.props.isLiveVideo});return{}}});f.exports=m}),null);
__d("ReactComposerTargetingTaggerComponent.react",["cx","fbt","Grid.react","React","XUICloseButton.react","XUIText.react","emptyFunction","isEmpty"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k,l=c("Grid.react").GridItem,m=c("React").PropTypes;j=babelHelpers.inherits(n,c("React").Component);k=j&&j.prototype;function n(){var o,p;"use strict";for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.$ReactComposerTargetingTaggerComponent1=function(){this.props.onSelect({})}.bind(this),p}n.prototype.render=function(){"use strict";return c("React").createElement(c("Grid.react"),{cols:2,className:"_5esl"},c("React").createElement(l,{key:"prefix",className:"_5esm"},i._("Targeting")),c("React").createElement(l,{key:"tagger",className:"_5esw"},c("React").createElement("div",{className:"_2doa"},c("React").createElement("div",{className:"_2dob"},c("React").createElement(c("XUICloseButton.react"),{className:"_2doc"+(c("isEmpty")(this.props.taggerData)?" hidden_elem":""),size:"small",type:"button",onClick:this.$ReactComposerTargetingTaggerComponent1})),c("React").createElement("div",{className:"_2dod"},c("React").createElement(c("XUIText.react"),null,this.props.targetingSentences)))))};n.propTypes={taggerData:m.object.isRequired,onSelect:m.func.isRequired,targetingSentences:m.object};n.defaultProps={taggerData:{},onSelect:c("emptyFunction")};f.exports=n}),null);
__d("ReactComposerTargetingTaggerContainer.react",["React","ReactComposerLoggingName","ReactComposerTaggerActions","ReactComposerTaggerContainerStateMixin","ReactComposerTaggerStore","ReactComposerTaggerType","ReactComposerTargetingTaggerComponent.react","SubscriptionsHandler"],(function a(b,c,d,e,f,g){__p&&__p();var h=c("React").createClass({displayName:"ReactComposerTargetingTaggerContainer",_subscriptions:undefined,mixins:[c("ReactComposerTaggerContainerStateMixin")()],statics:{taggerID:c("ReactComposerTaggerType").TARGETING},getInitialState:function i(){return{targetingSentences:null}},componentWillMount:function i(){var j=new(c("SubscriptionsHandler"))();j.addSubscriptions(c("ReactComposerTaggerStore").addChangeListener(this._onChange));this._subscriptions=j},componentWillUnmount:function i(){this._subscriptions&&this._subscriptions.release()},_onChange:function i(){var j=c("ReactComposerTaggerStore").getTaggerData(this.context.composerID,c("ReactComposerTaggerType").TARGETING);this.setState({targetingSentences:j?j.targetingSentences:null})},_onTaggerDataChanged:function i(j){this.__onTaggerDataChanged&&this.__onTaggerDataChanged(j);c("ReactComposerTaggerActions").setTaggerData(this.context.composerID,c("ReactComposerLoggingName").TARGETING_TAGGER,c("ReactComposerTaggerType").TARGETING,j);this.props.onSelect&&this.props.onSelect(j)},render:function i(){if(!this.state.isSelected)return c("React").createElement("noscript",null);return c("React").createElement(c("ReactComposerTargetingTaggerComponent.react"),babelHelpers["extends"]({},this.props,this.state,{autoFocus:this.state.autoFocus,taggerSource:this.state.taggerSource,taggerData:this.state.taggerData,onSelect:this._onTaggerDataChanged}))}});f.exports=h}),null);
__d("SphericalParallaxUtils",["easeInOutInterpolate"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=200,i=-100,j=h-i,k=45,l={getMinYawOffset:function m(n,o,p,q){var r=k*(p-i)/j;if(!n)return r;var s=-n+o;if(q>180){var t=-(360-q-r);return t>s?Math.abs(-(360-q)-s):r}else return q-r<s?q+s:r},getMaxYawOffset:function m(n,o,p,q){var r=k*(h-p)/j;if(!n||q>180)return r;var s=n-o;if(q<180)return r+q>s?s-q:r;else return q-360+r>s?s-(q-360):r},calculateNewYaw:function m(n,o,p,q,r,s){__p&&__p();var t=l.getMinYawOffset(q,s,o,p),u=l.getMaxYawOffset(r,s,o,p);if(n<i)return{yaw:-t,success:true};if(n>h)return{yaw:u,success:true};var v=c("easeInOutInterpolate")((n-i)/j)*j+i;if(v>=i&&v<=h){var w=0;if(v>o)w=p+u*((v-o)/(h-o));else w=p-t+t*(v-i)/(o-i);if(w<=p+u&&w>=p-t)return{yaw:w,success:true}}return{yaw:0,success:false}},calculateYawOffset:function m(n,o,p,q){return l.calculateNewYaw(n,50,0,o,p,q)}};f.exports=l}),null);
__d("CommercialBreakMobileEvent",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SUBSCRIPTION_SUCCESS:"commercial_break_skywalker_subscription_success",SUBSCRIPTION_FAILURE:"commercial_break_skywalker_subscription_failure",RECEIVE_INTENT_MSG:"commercial_break_skywalker_receive_intent",RECEIVE_START_MSG:"commercial_break_skywalker_receive_start",RECEIVE_INVALID_MSG:"commercial_break_skywalker_receive_invalid_message",VIDEO_FETCH_SUCCESS:"commercial_break_video_fetch_success",VIDEO_FETCH_FAILURE:"commercial_break_video_fetch_failure",COMMERCIAL_BREAK_INLINE_TO_FULLSCREEN:"commercial_break_inline_to_fullscreen",COMMERCIAL_BREAK_FULLSCREEN_TO_INLINE:"commercial_break_fullscreen_to_inline",COMMERCIAL_BREAK_SCROLLED_AWAY:"commercial_break_scrolled_away",COMMERCIAL_BREAK_SCROLLED_INTO:"commercial_break_scrolled_into",COMMERCIAL_BREAK_START_NFX:"commercial_break_start_nfx",COMMERCIAL_BREAK_HIDE_AD:"commercial_break_hide_ad",COMMERCIAL_BREAK_HIDE_AD_BREAKS:"commercial_break_hide_ad_breaks",COMMERCIAL_BREAK_START:"commercial_break_start",COMMERCIAL_BREAK_START_AD:"commercial_break_start_ad",COMMERCIAL_BREAK_TRANSIT:"commercial_break_transit",COMMERCIAL_BREAK_WAIT_FOR:"commercial_break_wait_for",COMMERCIAL_BREAK_STATIC_COUNTDOWN:"commercial_break_static_countdown",COMMERCIAL_BREAK_END:"commercial_break_end",COMMERCIAL_BREAK_PAUSE_AD:"commercial_break_pause_ad",COMMERCIAL_BREAK_PLAY_AD:"commercial_break_play_ad",COMMERCIAL_BREAK_NO_AD_TRANSITION:"commercial_break_no_ad_transition",COMMERCIAL_BREAK_ELIGIBLE_VOD_START:"commercial_break_eligible_vod_start",COMMERCIAL_BREAK_START_SHOW_NOTHING:"commercial_break_start_show_nothing",COMMERCIAL_BREAK_STARTING_INDICATOR:"commercial_break_starting_indicator",COMMERCIAL_BREAK_START_TIME_DELTA:"commercial_break_start_time_delta",COMMERCIAL_BREAK_IMPRESSION_ATTEMPT:"commercial_break_impression_attempt",COMMERCIAL_BREAK_SKYWALKER_RECEIVED_DUPLICATE_EVENT:"commercial_break_skywalker_received_duplicate_event",COMMERCIAL_BREAK_ADS_LOADED:"commercial_break_ads_loaded",COMMERCIAL_BREAK_FIRE_EVENT_IN_TRACKER:"commercial_break_fire_event_in_tracker",COMMERCIAL_BREAK_LOG_IMPRESSION_IN_TRACKER:"commercial_break_log_impression_in_tracker",COMMERCIAL_BREAK_REGISTER_VIDEO:"commercial_break_register_video",COMMERCIAL_BREAK_RESUME_HOST_VIDEO:"commercial_break_resume_host_video",COMMERCIAL_BREAK_CLICK_ON_STARTING_INDICATOR:"commercial_break_click_on_starting_indicator",COMMERCIAL_BREAK_PLUGIN_IS_ON_DIFFERENT_HOSTVIDEO:"commercial_break_plugin_is_on_different_hostvideo",COMMERCIAL_BREAK_LOG_AD_IMPRESSION:"commercial_break_log_ad_impression",COMMERCIAL_BREAK_CLICK:"commercial_break_click",COMMERCIAL_BREAK_SCRUB_THROUGH:"commercial_break_scrub_through",COMMERCIAL_BREAK_SCRUBBER_LEAVE_BEFORE_AD_BREAK:"commercial_break_scrubber_leave_before_ad_break",COMMERCIAL_BREAK_SCRUBBER_LEAVE_DURING_AD_BREAK:"commercial_break_scrubber_leave_during_ad_break",COMMERCIAL_BREAK_CONTEXT_CARD_INFO_BUTTON_CLICK:"commercial_break_context_card_info_button_click",COMMERCIAL_BREAK_TAP_ON_TRAILER:"commercial_break_tap_on_trailer"})}),null);
__d("InstreamVideoAdType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({LIVE:"live",VOD:"vod",NONLIVE:"nonlive",LIVE_POST_ROLL:"live_post_roll",VOD_POST_ROLL:"vod_post_roll",NONLIVE_POST_ROLL:"nonlive_post_roll",LIVE_AD_PODS:"live_ad_pods",NONLIVE_PRE_ROLL:"nonlive_pre_roll"})}),null);
__d("VideoWithInstreamVideo",["BanzaiODS","CommercialBreakMobileEvent","CommercialBreakShouldLogMarauderEvent","DateConsts","EventEmitter","InstreamVideoAdType","MarauderLogger","SubscriptionsHandler","VideoPlayerLoggerEventField","VideoPlayerReason","VideoPlayerStates","onViewportChanged"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("EventEmitter"));i=h&&h.prototype;function j(k){"use strict";i.constructor.call(this);this.$VideoWithInstreamVideo4=k}j.prototype.enable=function(k){"use strict";__p&&__p();if(this.$VideoWithInstreamVideo2)return;this.$VideoWithInstreamVideo2=k;this.$VideoWithInstreamVideo3=k;this.$VideoWithInstreamVideo12=false;this.$VideoWithInstreamVideo13=this.getIsVisibleForAutoplay();c("onViewportChanged")(this.$VideoWithInstreamVideo17.bind(this));this.$VideoWithInstreamVideo1=new(c("SubscriptionsHandler"))();this.$VideoWithInstreamVideo1.engage();this.$VideoWithInstreamVideo14=[];this.$VideoWithInstreamVideo18();this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","enabled",function(){return true});this.$VideoWithInstreamVideo2.registerOption("VideoWithInstreamVideo","controller",function(){return this}.bind(this))};j.prototype.disable=function(){"use strict"};j.prototype.$VideoWithInstreamVideo19=function(){"use strict";var k=["play","pause","mute","unmute","constructor","destroy","addListener","isMuted","isState","updateSource"],l=this.$VideoWithInstreamVideo2.constructor.prototype,m=Object.getOwnPropertyNames(l).filter(function(n){var o=l[n];return typeof o==="function"&&k.indexOf(n)<0});return m};j.prototype.$VideoWithInstreamVideo18=function(){"use strict";var k=this.$VideoWithInstreamVideo19(),l=function l(m){this.constructor.prototype[m]=function(){return this.$VideoWithInstreamVideo2[m].apply(this.$VideoWithInstreamVideo2,arguments)}};k.forEach(l,this)};j.prototype.$VideoWithInstreamVideo20=function(){"use strict";var k=this.$VideoWithInstreamVideo19();k.forEach(function(l){return delete this.constructor.prototype[l]}.bind(this))};j.prototype.$VideoWithInstreamVideo21=function(){var k;"use strict";(k=i.emit).call.apply(k,[this].concat(Array.prototype.slice.call(arguments)))};j.prototype.emit=function(){var k;"use strict";(k=this.$VideoWithInstreamVideo2).emit.apply(k,arguments)};j.prototype.$VideoWithInstreamVideo22=function(event){"use strict";if(this.$VideoWithInstreamVideo14.indexOf(event)<0){this.$VideoWithInstreamVideo14.push(event);var k=function(event){return this.$VideoWithInstreamVideo21.bind(this,event)}.bind(this);this.$VideoWithInstreamVideo1.addSubscriptions(this.$VideoWithInstreamVideo2.addListener(event,k(event)))}};j.prototype.addListener=function(event){var k;"use strict";this.$VideoWithInstreamVideo22(event);return(k=i.addListener).call.apply(k,[this].concat(Array.prototype.slice.call(arguments)))};j.prototype.registerInstreamVideo=function(k){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo12){this.$VideoWithInstreamVideo12=true;this.$VideoWithInstreamVideo2.instreamVideoStart()}if(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo8=this.$VideoWithInstreamVideo2.isState(c("VideoPlayerStates").PLAYING);this.$VideoWithInstreamVideo10=this.$VideoWithInstreamVideo2.isMuted();this.$VideoWithInstreamVideo11=this.$VideoWithInstreamVideo2.getVolume();var l=this.getCurrentInstreamVideoAdType();if(l===c("InstreamVideoAdType").LIVE)this.$VideoWithInstreamVideo2.mute();else if(l===c("InstreamVideoAdType").VOD||l===c("InstreamVideoAdType").NONLIVE){var m;this.$VideoWithInstreamVideo2.setLogEntryPropertyGetters((m={},m[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX]=this.$VideoWithInstreamVideo5,m[c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]=this.$VideoWithInstreamVideo6?this.$VideoWithInstreamVideo6:-1,m));this.$VideoWithInstreamVideo2.pause(c("VideoPlayerReason").COMMERCIAL_BREAK)}}this.$VideoWithInstreamVideo3=k};j.prototype.resetInstreamVideo=function(){"use strict";__p&&__p();this.$VideoWithInstreamVideo2.removeLogEntryPropertyGetters([c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_INDEX,c("VideoPlayerLoggerEventField").INSTREAM_VIDEO_AD_BREAK_VIDEO_ID]);if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var k=this.getCurrentInstreamVideoAdType();if(k===c("InstreamVideoAdType").LIVE&&!this.$VideoWithInstreamVideo10&&this.$VideoWithInstreamVideo2.isMuted())this.$VideoWithInstreamVideo2.unmute();else if((k===c("InstreamVideoAdType").VOD||k===c("InstreamVideoAdType").NONLIVE)&&this.$VideoWithInstreamVideo8&&!this.$VideoWithInstreamVideo2.isState(c("VideoPlayerStates").PLAYING))this.$VideoWithInstreamVideo2.play(c("VideoPlayerReason").COMMERCIAL_BREAK)}this.$VideoWithInstreamVideo3=this.$VideoWithInstreamVideo2;this.$VideoWithInstreamVideo12=false;this.$VideoWithInstreamVideo2.instreamVideoEnd()};j.prototype.shouldPlayInstreamAd=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive&&!this.$VideoWithInstreamVideo8)return false;return this.getIsVisibleForAutoplay()};j.prototype.playInstreamAd=function(){"use strict";__p&&__p();if(!this.$VideoWithInstreamVideo3||this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2){c("BanzaiODS").bumpEntityKey("instreamads","missing_ad_player");return}var k=this.$VideoWithInstreamVideo3;this.logMarauderEvent(c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_START_AD);k.once("beginPlayback",function(){this.$VideoWithInstreamVideo15={adClientToken:k.getAdClientToken(),adStartPlayingTimeMs:Date.now(),adPositionInVideoMs:this.$VideoWithInstreamVideo2.getCurrentTimePosition()*c("DateConsts").MS_PER_SEC}}.bind(this));if(this.$VideoWithInstreamVideo10)k.mute();else{k.unmute();k.setVolume(this.$VideoWithInstreamVideo11)}this.$VideoWithInstreamVideo9=false;k.play(c("VideoPlayerReason").AUTOPLAY)};j.prototype.play=function(k){__p&&__p();var l,m=this;"use strict";this.$VideoWithInstreamVideo8=true;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PAUSED)||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PLAYING)))(function(){var n=m.$VideoWithInstreamVideo3;if(!m.$VideoWithInstreamVideo2.getOption("VideoWithCommercialBreak","isInstreamPausedByNFX"))if(m.$VideoWithInstreamVideo9&&n!==m.$VideoWithInstreamVideo2)n.once("pausePlayback",function(){return n.play(k)});else n.play(k)})();if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo2.play(k)};j.prototype.pause=function(k){"use strict";__p&&__p();if(k===c("VideoPlayerReason").USER&&this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2&&this.$VideoWithInstreamVideo2.getOption("VideoWithInstreamVideo","disableClickToPause"))return;this.$VideoWithInstreamVideo8=false;if(this.$VideoWithInstreamVideo3&&(this.$VideoWithInstreamVideo3===this.$VideoWithInstreamVideo2||this.$VideoWithInstreamVideo3.isState(c("VideoPlayerStates").PLAYING))){var l=this.$VideoWithInstreamVideo3;if(l!==this.$VideoWithInstreamVideo2){this.$VideoWithInstreamVideo9=true;l.once("pausePlayback",function(){return this.$VideoWithInstreamVideo9=false}.bind(this))}l.pause(k)}if(this.$VideoWithInstreamVideo4.isLive&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo2.pause(k)};j.prototype.mute=function(){"use strict";this.$VideoWithInstreamVideo10=true;if(this.$VideoWithInstreamVideo3)this.$VideoWithInstreamVideo3.mute()};j.prototype.unmute=function(){"use strict";this.$VideoWithInstreamVideo10=false;if(this.$VideoWithInstreamVideo3)this.$VideoWithInstreamVideo3.unmute()};j.prototype.isMuted=function(){"use strict";if(this.$VideoWithInstreamVideo3)return this.$VideoWithInstreamVideo3.isMuted();return this.$VideoWithInstreamVideo2.isMuted()};j.prototype.isState=function(k){"use strict";if(this.$VideoWithInstreamVideo3)return this.$VideoWithInstreamVideo3.isState(k);return this.$VideoWithInstreamVideo2.isState(k)};j.prototype.destroy=function(){"use strict";if(this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo3.destroy();this.$VideoWithInstreamVideo2.destroy()};j.prototype.updateSource=function(k){"use strict";if(this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2)this.$VideoWithInstreamVideo3.updateSource(k);this.$VideoWithInstreamVideo2.updateSource(k)};j.prototype.getConfig=function(){"use strict";return this.$VideoWithInstreamVideo4};j.prototype.setCurrentInstreamVideoAdBreakIndex=function(k){"use strict";this.$VideoWithInstreamVideo5=k};j.prototype.setCurrentInstreamVideoAdBreakVideoID=function(k){"use strict";this.$VideoWithInstreamVideo6=k};j.prototype.setCurrentInstreamVideoAdBreakClientToken=function(k){"use strict";this.$VideoWithInstreamVideo7=k};j.prototype.setThumbnailURLForPreview=function(k){"use strict";this.$VideoWithInstreamVideo16=k};j.prototype.getPreferredThumbnailURI=function(){"use strict";if(this.$VideoWithInstreamVideo4.isComposerPreviewing)return this.$VideoWithInstreamVideo16;return this.$VideoWithInstreamVideo4.preferredThumbnailURI};j.prototype.getCurrentInstreamVideoAdType=function(){"use strict";if(this.$VideoWithInstreamVideo4.isLive)return c("InstreamVideoAdType").LIVE;else if(this.$VideoWithInstreamVideo4.isBroadcast)return c("InstreamVideoAdType").VOD;else return c("InstreamVideoAdType").NONLIVE};j.prototype.getCurrentInstreamVideoAdBreakVideoID=function(){"use strict";return this.$VideoWithInstreamVideo6};j.prototype.getCurrentInstreamVideoAdBreakIndex=function(){"use strict";return this.$VideoWithInstreamVideo5};j.prototype.getIsAdActive=function(){"use strict";return this.$VideoWithInstreamVideo3&&this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2};j.prototype.getAdController=function(){"use strict";if(this.getIsAdActive())return this.$VideoWithInstreamVideo3;return null};j.prototype.$VideoWithInstreamVideo17=function(){"use strict";__p&&__p();var k=this.getIsVisibleForAutoplay();if(this.$VideoWithInstreamVideo13!==k){if(this.$VideoWithInstreamVideo3!==this.$VideoWithInstreamVideo2){var l=null,m=this.$VideoWithInstreamVideo3;if(m&&m.getPlaybackDuration()>0)l=c("DateConsts").MS_PER_SEC*(m.getPlaybackDuration()-m.getCurrentTimePosition());this.logMarauderEvent(k?c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_INTO:c("CommercialBreakMobileEvent").COMMERCIAL_BREAK_SCROLLED_AWAY,{remaining_ad_duration_ms:l})}this.$VideoWithInstreamVideo2.emit(k?"commercialBreak/scrollInto":"commercialBreak/scrollAway")}this.$VideoWithInstreamVideo13=k};j.prototype.getIsVisibleForAutoplay=function(){"use strict";var k=this.$VideoWithInstreamVideo2.getOption("FeedAutoplay","isVisibleForAutoplay");return k||k===undefined};j.prototype.getMostRecentAdInfo=function(){"use strict";return this.$VideoWithInstreamVideo15};j.prototype.logMarauderEvent=function(k){__p&&__p();var l=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];"use strict";if(!Object.prototype.hasOwnProperty.call(c("CommercialBreakShouldLogMarauderEvent"),k)||!c("CommercialBreakShouldLogMarauderEvent")[k])return;l.host_video_id=this.$VideoWithInstreamVideo4.hostVideoID;l.instream_video_ad_type=this.getCurrentInstreamVideoAdType();if(!Object.prototype.hasOwnProperty.call(l,"ad_break_index"))l.ad_break_index=this.$VideoWithInstreamVideo5;l.is_sponsored=this.$VideoWithInstreamVideo4.isSponsored;l.is_visible=this.getIsVisibleForAutoplay();l.player_origin=this.$VideoWithInstreamVideo4.playerOrigin;if(!Object.prototype.hasOwnProperty.call(l,"commercial_break_ad_client_token"))l.commercial_break_ad_client_token=this.$VideoWithInstreamVideo7;c("MarauderLogger").log(k,"commercial_break",l)};f.exports=j}),null);
__d("ImmutableRecordWithV4Types",["immutable"],(function a(b,c,d,e,f,g){"use strict";var h=c("immutable").Record;f.exports={Record:h}}),null);
__d("SphericalMediaCanvasPool",["DOM","Map"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=1,i="default",j=function j(l,m){return l+m};function k(){this.$SphericalMediaCanvasPool1=new(c("Map"))();this.$SphericalMediaCanvasPool2=new(c("Map"))()}k.prototype.setLimit=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1],n=this.$SphericalMediaCanvasPool2.get(m)||{queue:[],limit:1};n.limit=l;this.$SphericalMediaCanvasPool2.set(m,n)};k.prototype.release=function(l){var m=arguments.length<=1||arguments[1]===undefined?i:arguments[1],n=j(l,m),o=this.$SphericalMediaCanvasPool1.get(n);if(!o)return false;var p=this.$SphericalMediaCanvasPool2.get(m);if(!p||p.queue.length===0)return false;p.queue.splice(p.queue.indexOf(n),1);o.canvas.parentNode&&o.canvas.parentNode.removeChild(o.canvas);return this.$SphericalMediaCanvasPool1["delete"](n)};k.prototype.get=function(l,m){__p&&__p();var n=arguments.length<=2||arguments[2]===undefined?i:arguments[2],o=babelHelpers["extends"]({},m.canvasAttrs);if(!l||!m.beforeCanvasLost)throw new Error("Missing required arguments.");var p=j(l,n);o["data-id"]=o["data-id"]||l;var q=this.$SphericalMediaCanvasPool1.get(p);if(q)return q.canvas;var r=this.$SphericalMediaCanvasPool2.get(n)||{queue:[],limit:h},s=void 0;if(r.queue.length<r.limit)s=c("DOM").create("canvas",o);else{var t=r.queue.shift(),u=this.$SphericalMediaCanvasPool1.get(t);if(!u)throw new Error("Canvas pool could not find the item",t);s=u.canvas;u.beforeCanvasLost();this.$SphericalMediaCanvasPool1["delete"](t);s.className=o.className;s.height=o.height;s.width=o.width;s.tabIndex=o.tabIndex;s.setAttribute("data-id",o["data-id"])}if(!s)throw new Error("Failed to get a canvas.");r.queue.push(p);this.$SphericalMediaCanvasPool2.set(n,r);this.$SphericalMediaCanvasPool1.set(p,{canvas:s,beforeCanvasLost:m.beforeCanvasLost});return s};f.exports=new k()}),null);
__d("SphericalPhotoPartialLimits",["ImmutableRecordWithV4Types"],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=c("ImmutableRecordWithV4Types").Record,i=h({partialLeftDegrees:null,partialRightDegrees:null,partialTopDegrees:null,partialBottomDegrees:null});f.exports={getPartialLimits:function j(k){__p&&__p();var l=Number(k.croppedAreaImageHeightPixels)||0,m=Number(k.croppedAreaImageWidthPixels)||0,n=Number(k.croppedAreaLeftPixels)||0,o=Number(k.croppedAreaTopPixels)||0,p=Number(k.fullPanoHeightPixels)||0,q=Number(k.fullPanoWidthPixels)||0,r=void 0,s=void 0,t=void 0,u=void 0;if(m!==0&&m!==q&&m+n<=q){var v=360*m/q;t=180*(1-2*n/q);u=v-t}if(l!==0&&l!==p&&l+o<=p){if(o!==0)r=90*(1-2*o/p);if(o+l!==p)s=180*(o+l-p/2)/p}return i({partialTopDegrees:r,partialBottomDegrees:s,partialLeftDegrees:t,partialRightDegrees:u})},normalizePhotoRendererViewWithPartialLimits:function j(k,l){__p&&__p();var m=l.partialLeftDegrees,n=l.partialRightDegrees,o=l.partialTopDegrees,p=l.partialBottomDegrees;if(m||m===0){var q=-1*m;if(k.yaw<q)k.yaw=q}if(n||n===0){var r=n;if(k.yaw>r)k.yaw=r}var s=o||o===0,t=p||p===0,u=o||0,v=-1*(p||0);if(s)if(k.pitch>u)k.pitch=u;if(t)if(k.pitch<v)k.pitch=v;if(s&&t)if(u<0&&u<v)k.pitch=v;else if(v>0&&u<v)k.pitch=u;return k},normalizeViewWithPartialLimits:function j(k,l){__p&&__p();var m=l.partialLeftDegrees,n=l.partialRightDegrees,o=l.partialTopDegrees,p=l.partialBottomDegrees;if(m){var q=-1*(m-k.fov/2);if(k.yaw<q)k.yaw=q}if(n){var r=n-k.fov/2;if(k.yaw>r)k.yaw=r}if(o){var s=o-k.fov/2;if(k.pitch>s)k.pitch=s}if(p){var t=-1*(p-k.fov/2);if(k.pitch<t)k.pitch=t}return k},makePartialLimits:i}}),null);
if (self.CavalryLogger) { CavalryLogger.start_js(["UXd38"]); }

__d("FormMonitor",["Arbiter","ArbiterMixin","DOM","Event","Form","areJSONRepresentationsEqual","mixin"],(function a(b,c,d,e,f,g){__p&&__p();var h,i;h=babelHelpers.inherits(j,c("mixin")(c("ArbiterMixin")));i=h&&h.prototype;function j(k){"use strict";__p&&__p();i.constructor.call(this);this.form=k;this.clean=true;this.originalState=c("Form").serialize(k);this.saveLegacyMultiRadioButtonsSelectionToMarkStateAsDirty();var l=this.onFormChange.bind(this);c("Event").listen(k,{keyup:l,click:l,paste:l,change:l,submit:this.onFormSubmit.bind(this)});c("Arbiter").subscribe("Form/change",function(m,n){c("DOM").contains(this.form,n.node)&&this.handleChange()}.bind(this))}j.prototype.saveLegacyMultiRadioButtonsSelectionToMarkStateAsDirty=function(){"use strict";__p&&__p();var k=c("DOM").scry(this.form,'input[type="radio"]');for(var l=0;l<k.length;l++)if(k[l].hasAttribute("checked")){var m=k[l].getAttribute("name");if(m.indexOf("[]")===m.length-2){m=m.substr(0,m.length-2);var n=k[l].getAttribute("value");if(n!==null&&Object.prototype.hasOwnProperty.call(this.originalState,m)){var o=this.originalState[m],p=false;for(var q=0;q<o.length;q++)if(o[q]===n){p=true;break}if(!p)o.push(n)}}}};j.prototype.onFormSubmit=function(event){"use strict";this.originalState=c("Form").serialize(this.form);this.clean=true;this.inform("clean")};j.prototype.onFormChange=function(event){"use strict";if(c("DOM").isNodeOfType(event.getTarget(),["input","select","textarea"]))this.handleChange()};j.prototype.handleChange=function(){"use strict";__p&&__p();this.inform("change");var k=!c("areJSONRepresentationsEqual")(c("Form").serialize(this.form),this.originalState);if(this.clean&&k){this.clean=false;this.inform("dirty")}else if(!this.clean&&!k){this.clean=true;this.inform("clean")}};f.exports=j}),null);
__d("SettingsEditor",["ArbiterMixin","Button","CSS","DOM","FormSubmit","FormMonitor","ScrollAwareDOM"],(function a(b,c,d,e,f,g){__p&&__p();function h(j){return c("DOM").find(j,".content")}function i(){}Object.assign(i.prototype,c("ArbiterMixin"),{init:function j(k,l,m,n){this.form=k;this.save=l;this.hidePassword=m||false;this.forceSaveEnabled=n||false;this.fm=new(c("FormMonitor"))(k.controller);this.fm.subscribe("change",this.onFormChange.bind(this));this.fm.subscribe("clean",this.onFormClean.bind(this));this.fm.subscribe("dirty",this.onFormDirty.bind(this));this.fm.handleChange()},prepare:function j(k,l,m){this.container=k;this.sectionID=m;l&&c("DOM").setContent(h(k),l);this.inform("init",this);return this},submit:function j(){c("FormSubmit").send(this.form.controller)},onFormChange:function j(){if(this.hidePassword)this.setSaveEnabled(true)},onFormClean:function j(){if(!this.form.isDirty()&&!this.forceSaveEnabled)this.setSaveEnabled(false)},onFormDirty:function j(){this.setSaveEnabled(true)},show:function j(){__p&&__p();if(this.inform("show",this)!==false){c("CSS").addClass(this.container,"openPanel");var k=c("DOM").scry(this.container,"a.fbSettingsListLink")[0];k&&c("DOM").setAttributes(k,{"aria-expanded":"false"});var l=c("DOM").scry(this.container,"div.content")[0];l&&c("DOM").setAttributes(l,{"aria-expanded":"true"});var m=c("DOM").scry(this.container,"div.content div.fbSettingsEditorLabel")[0];m&&m.focus();return true}return false},hide:function j(){__p&&__p();var k=c("DOM").scry(this.container,"a.fbSettingsListLink")[0];k&&c("DOM").setAttributes(k,{"aria-expanded":"true"});k&&k.focus();if(this.inform("hide",this)!==false){c("ScrollAwareDOM").monitor(this.container,function(){c("CSS").removeClass(this.container,"openPanel");c("DOM").empty(h(this.container))}.bind(this));return true}return false},contains:function j(k){return c("DOM").contains(this.container,k)},setSaveEnabled:function j(k){c("Button").setEnabled(this.save,k)},checkUnsaved:function j(){if(this.form){this.form.reset();var k=this.form.checkUnsaved();return k&&!confirm(k)}},showError:function j(k,l){__p&&__p();var m=this.form.controller;if(l){var n=c("DOM").scry(m,l)[0];if(n){var o=c("DOM").scry(m,'label[for="'+n.id+'"]')[0];o&&c("CSS").addClass(o,"fbSettingsErrorLabel");c("DOM").appendContent(n.parentNode,k)}}else c("DOM").prependContent(m,k)},hideErrors:function j(){c("DOM").scry(this.container,"div.fbSettingsError").forEach(c("DOM").remove);c("DOM").scry(this.container,"span.fbSettingsErrorMessage").forEach(c("DOM").remove);c("DOM").scry(this.container,"label.fbSettingsErrorLabel").forEach(function(k){c("CSS").removeClass(k,"fbSettingsErrorLabel")})}});f.exports=i}),null);
__d("legacy:SettingsEditor",["SettingsEditor"],(function a(b,c,d,e,f,g){b.SettingsEditor=c("SettingsEditor")}),3);
__d("legacy:SettingsPanelManager",["SettingsController"],(function a(b,c,d,e,f,g){b.SettingsPanelManager=c("SettingsController")}),3);
__d("SelectorSubmitOnChange",["Parent","submitForm"],(function a(b,c,d,e,f,g){__p&&__p();function h(i){"use strict";this._selector=i}h.prototype.enable=function(){"use strict";this._subscription=this._selector.subscribe("change",this._onChange.bind(this))};h.prototype.disable=function(){"use strict";this._subscription.unsubscribe();this._subscription=null};h.prototype._onChange=function(){"use strict";var i=c("Parent").byTag(this._selector.getButton(),"form");i&&c("submitForm")(i)};Object.assign(h.prototype,{_subscription:null});f.exports=h}),null);
__d("VideoCaptionBackgroundOpacityType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({OPAQUE:100,DARK:75,DEFAULT:45,LIGHT:25,TRANSPARENT:-1})}),null);
__d("VideoCaptionTextSizeType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({BIGGEST:200,BIGGER:175,BIG:150,MEDIUM:125,DEFAULT:100,SMALL:75,SMALLEST:50})}),null);
__d("SubtitlesStyle",["cx","VideoCaptionBackgroundOpacityType","CSS","VideoCaptionTextSizeType"],(function a(b,c,d,e,f,g,h){"use strict";__p&&__p();var i={Black:"20, 22, 26",Blue:"0, 0, 255",Green:"0, 255, 0",Cyan:"0, 255, 255",Red:"255, 0, 0",Magenta:"255, 0, 255",White:"255, 255, 255",Yellow:"255, 255, 0"},j="Black",k="White";function l(m,n,o,p,q,r){this.$SubtitlesStyle3=o;this.$SubtitlesStyle4=p;this.setBackgroundColor(m);this.setBackgroundOpacity(n);this.setTextColor(q);this.setTextSize(r);this.updateStyle()}l.prototype.updateStyle=function(){__p&&__p();var m=this.$SubtitlesStyle2;if(this.$SubtitlesStyle2===c("VideoCaptionBackgroundOpacityType").TRANSPARENT)m=0;var n=m/100,o="rgba("+i[this.$SubtitlesStyle1]+", "+n+")";this.$SubtitlesStyle3.style.backgroundColor=o;this.$SubtitlesStyle3.style.color=this.$SubtitlesStyle6;var p="0 0 10px rgb("+i[this.$SubtitlesStyle1]+"), 0 0 5px rgba("+i[this.$SubtitlesStyle1]+", .8)";this.$SubtitlesStyle3.style.textShadow=p;c("CSS").conditionClass(this.$SubtitlesStyle4,"_5z64",this.$SubtitlesStyle7==c("VideoCaptionTextSizeType").SMALLEST);c("CSS").conditionClass(this.$SubtitlesStyle4,"_5z65",this.$SubtitlesStyle7==c("VideoCaptionTextSizeType").SMALL);c("CSS").conditionClass(this.$SubtitlesStyle4,"_5z66",this.$SubtitlesStyle7==c("VideoCaptionTextSizeType").MEDIUM);c("CSS").conditionClass(this.$SubtitlesStyle4,"_5z67",this.$SubtitlesStyle7==c("VideoCaptionTextSizeType").BIG);c("CSS").conditionClass(this.$SubtitlesStyle4,"_5z68",this.$SubtitlesStyle7==c("VideoCaptionTextSizeType").BIGGER);c("CSS").conditionClass(this.$SubtitlesStyle4,"_5z69",this.$SubtitlesStyle7==c("VideoCaptionTextSizeType").BIGGEST)};l.prototype.setBackgroundColor=function(m){if(Object.prototype.hasOwnProperty.call(i,m))this.$SubtitlesStyle1=m;else this.$SubtitlesStyle1=j};l.prototype.setBackgroundOpacity=function(m){if(m!==0&&m>=c("VideoCaptionBackgroundOpacityType").TRANSPARENT&&m<=c("VideoCaptionBackgroundOpacityType").OPAQUE)this.$SubtitlesStyle2=m;else this.$SubtitlesStyle2=c("VideoCaptionBackgroundOpacityType").DEFAULT};l.prototype.setTextColor=function(m){if(Object.prototype.hasOwnProperty.call(i,m))this.$SubtitlesStyle6=m;else this.$SubtitlesStyle6=k};l.prototype.setTextSize=function(m){if(m>=c("VideoCaptionTextSizeType").SMALLEST&&m<=c("VideoCaptionTextSizeType").BIGGEST)this.$SubtitlesStyle7=m;else this.$SubtitlesStyle7=c("VideoCaptionTextSizeType").DEFAULT};f.exports=l}),null);